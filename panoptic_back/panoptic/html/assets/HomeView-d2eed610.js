import{d as V,u as O,r as $,c as k,a as o,b as e,t as g,e as C,w as I,v as E,n as M,M as R,o as t,g as z,p as U,f as q,_ as D,F as j,h as b,i as N,j as G,k as X,l as Y,m as F,q as A,s as Z,x as W,D as ee}from"./index-ab72019a.js";import{_ as te}from"./Tutorial-ec4291fb.js";const J=n=>(U("data-v-9d2b8ee6"),n=n(),q(),n),se={class:""},le={class:"mb-3"},oe={class:"d-flex text-start input mb-2"},ne={class:"info"},ae={key:0},ie={key:1,class:"text-placeholder"},ce=J(()=>e("i",{class:"bi bi-folder"},null,-1)),ue=[ce],re={class:"d-flex text-start input"},de={class:"info"},pe={class:"flex-grow-1 value text-dim"},ve={class:"d-flex mt-2"},_e=J(()=>e("div",{class:"flex-grow-1"},null,-1)),me=V({__name:"Create",emits:["cancel","create"],setup(n,{emit:a}){const y=O(),p=a,_=$(""),s=$(""),v=k(()=>_.value!=""&&s.value!="");function f(u){u&&(_.value=u)}function i(){y.showModal(R.FOLDERSELECTION,{callback:f,mode:"create"})}return(u,m)=>(t(),o("div",se,[e("h3",le,g(u.$t("main.home.create_title")),1),e("div",oe,[e("div",ne,g(u.$t("main.home.label.folder")),1),e("div",{class:"flex-grow-1 value text-dim",style:{cursor:"pointer"},onClick:i},[_.value!=""?(t(),o("span",ae,g(_.value),1)):(t(),o("span",ie,g(u.$t("main.home.label.path_placeholder")),1))]),e("div",{id:"select-folder",class:"folder",style:{cursor:"pointer"},onClick:m[0]||(m[0]=w=>{i(),C(z)()})},ue)]),e("div",re,[e("div",de,g(u.$t("main.home.label.name")),1),e("div",pe,[I(e("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=w=>s.value=w),placeholder:"project_name",style:{width:"100%"}},null,512),[[E,s.value]])])]),e("div",ve,[_e,e("div",{class:"btn-grey hover-grey",onClick:m[2]||(m[2]=w=>p("cancel"))},g(u.$t("main.home.label.cancel")),1),e("div",{id:"confirm-create",class:M(["ms-2",v.value?"btn-blue":"btn-grey text-dim"]),onClick:m[3]||(m[3]=w=>{p("create",{path:_.value,name:s.value}),C(z)()})},g(u.$t("main.home.label.create")),3)])]))}});const he=D(me,[["__scopeId","data-v-9d2b8ee6"]]),K=n=>(U("data-v-f878743d"),n=n(),q(),n),be={class:"create-option d-flex"},fe=K(()=>e("div",{class:"flex-grow-1"},[e("h6",{class:"create-title m-0"},"CrÃ©er un nouveau projet"),e("span",{class:"create-explanation"},"CrÃ©er un nouveau projet panoptic dans un dossier.")],-1)),ge=K(()=>e("div",{class:"flex-grow-1"},[e("h6",{class:"create-title m-0"},"Importer un projet"),e("span",{class:"create-explanation"},"Choisissez un dossier Panoptic existant.")],-1)),xe=V({__name:"Options",emits:["create","import"],setup(n,{emit:a}){const y=O(),p=a;function _(v){v&&p("import",v)}function s(){y.showModal(R.FOLDERSELECTION,{callback:_,mode:"import"})}return(v,f)=>(t(),o(j,null,[e("div",be,[fe,e("div",{id:"create-project",class:"create-btn highlight",onClick:f[0]||(f[0]=i=>{p("create"),C(z)()})},"CrÃ©er")]),e("div",{class:"create-option d-flex"},[ge,e("div",{class:"create-btn",onClick:s},"Importer")])],64))}});const ye=D(xe,[["__scopeId","data-v-f878743d"]]),T=n=>(U("data-v-03a09978"),n=n(),q(),n),$e={style:{"font-size":"20px"},class:"mb-1"},ke={key:0,class:"d-flex"},we=T(()=>e("i",{class:"bi bi-github me-2 ms-1",style:{"font-size":"19px"}},null,-1)),Ce={key:2,style:{position:"relative",top:"7px"},class:"spinner-border spinner-border-sm text-primary ms-1",role:"status"},Pe=T(()=>e("span",{class:"visually-hidden"},"Loading...",-1)),Le=[Pe],Ie={key:1,class:"d-flex"},Ee=T(()=>e("i",{class:"bi bi-folder me-2 ms-1"},null,-1)),Se={key:2,style:{position:"relative",top:"7px"},class:"spinner-border spinner-border-sm text-primary ms-1",role:"status"},Fe=T(()=>e("span",{class:"visually-hidden"},"Loading...",-1)),Me=[Fe],je={class:"text-warning"},Ne=V({__name:"PluginForm",emits:["cancel"],setup(n,{expose:a,emit:y}){const p=O(),_=y;a({setPanopticMl:Q});const s=$("github"),v=$(""),f=$(""),i=$(""),u=$(!1),m=k(()=>p.data.plugins.map(r=>r.name)),w=k(()=>!(i.value==""||m.value.includes(i.value))),P=k(()=>s.value=="github"&&v.value.length>0||s.value=="local"&&f.value.length>0),c=k(()=>P.value&&w.value),x=k(()=>P.value&&m.value.includes(i.value)?"main.home.plugins.error_name_not_unique":P.value?"main.home.plugins.require_unique_name":s.value=="github"?"main.home.plugins.require_url":"main.home.plugins.require_folder");function h(r){if(!r)return;f.value=r;let l=r.split("/"),d=l[l.length-1]||l[l.length-2];d&&(i.value=d)}function L(){p.showModal(R.FOLDERSELECTION,{callback:h})}function B(){if(s.value=="github"&&i.value==""){const r=v.value.split("/"),l=r[r.length-1],d=l.endsWith(".git")?l.slice(0,-4):l;i.value=d}}async function H(){u.value=!0,await G();const r={pluginName:i.value};s.value=="github"&&(r.gitUrl=v.value),s.value=="local"&&(r.path=f.value),await p.addPlugin(r),u.value=!1,_("cancel")}function Q(){s.value="github",v.value="https://github.com/CERES-Sorbonne/PanopticML",i.value="PanopticML"}return(r,l)=>(t(),o("div",null,[e("div",$e,[e("i",{class:M(["bi bi-github rounded bbb me-1",s.value=="github"?"selected":""]),onClick:l[0]||(l[0]=d=>s.value="github")},null,2),e("i",{class:M(["bi bi-folder rounded bbb me-1",s.value=="local"?"selected":""]),onClick:l[1]||(l[1]=d=>s.value="local")},null,2)]),s.value=="github"?(t(),o("div",ke,[we,I(e("input",{type:"url","onUpdate:modelValue":l[2]||(l[2]=d=>v.value=d),placeholder:"Enter git url",style:{width:"250px"}},null,512),[[E,v.value]]),P.value?I((t(),o("input",{key:0,"onUpdate:modelValue":l[3]||(l[3]=d=>i.value=d),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2",onFocus:B},null,544)),[[E,i.value]]):b("",!0),c.value?(t(),o("div",{key:1,class:"bbb ms-2",onClick:H},"Load")):b("",!0),u.value?(t(),o("div",Ce,Le)):b("",!0)])):b("",!0),s.value=="local"?(t(),o("div",Ie,[e("div",{class:"bbb pe-2 me-2",onClick:L},[Ee,N("Select")]),I(e("input",{type:"url","onUpdate:modelValue":l[4]||(l[4]=d=>f.value=d),placeholder:"Folder path",style:{width:"200px"}},null,512),[[E,f.value]]),P.value?I((t(),o("input",{key:0,"onUpdate:modelValue":l[5]||(l[5]=d=>i.value=d),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2"},null,512)),[[E,i.value]]):b("",!0),c.value?(t(),o("div",{key:1,class:"bbb ms-2",onClick:H},"Load")):b("",!0),u.value?(t(),o("div",Se,Me)):b("",!0)])):b("",!0),e("div",{class:M(["mt-2 mb-2",x.value.includes(".error")?"text-danger":""])},g(r.$t(x.value)),3),e("div",je,g(r.$t("main.home.plugins.warning")),1),e("div",null,[e("div",{class:"bbb mt-2 text-center",style:{width:"70px"},onClick:l[6]||(l[6]=d=>_("cancel"))},"Cancel")])]))}});const Ve=D(Ne,[["__scopeId","data-v-03a09978"]]),S=n=>(U("data-v-168c4bc8"),n=n(),q(),n),Oe={class:"window2 d-flex"},Ue={key:0,class:"project-menu"},qe={class:"d-flex"},De=["onClick"],Te={class:"m-0"},ze={class:"m-0 p-0 text-wrap text-break dimmed-2",style:{"font-size":"13px"}},Re={class:"project-option flex-shrink-0"},Be=S(()=>e("i",{class:"bi bi-three-dots-vertical"},null,-1)),He={class:"text-start"},Ae=["onClick"],We=S(()=>e("i",{class:"bi bi-trash me-1"},null,-1)),Ge={key:1,class:"flex-grow-1"},Je={class:"d-flex flex-column main-menu justify-content-center"},Ke=S(()=>e("div",null,[e("div",{class:"icon"},"ðŸ‘€"),e("h1",{class:"m-0 p-0"},"Panoptic"),e("h6",{class:"dimmed-2"},"Version 0.3")],-1)),Qe={id:"main-menu",class:"create-menu mt-5 pt-5"},Xe={class:"mt-5 plugin-preview"},Ye={class:"text-center"},Ze={class:"text-center"},et=S(()=>e("i",{class:"bi bi-lightbulb"},null,-1)),tt={class:"flex-grow-1 plugin-preview",style:{"overflow-y":"auto"}},st={key:1},lt={class:"ps-1"},ot=["onClick"],nt={key:2,class:"text-center mt-5 w-100"},at=S(()=>e("p",null,"Waiting for Server...",-1)),it=[at],ct=V({__name:"HomeView",setup(n){const a=O(),y=$(0),p=$(!1),_=$(null),s=k(()=>Array.isArray(a.data.status.projects)&&a.data.status.projects.length>0),v=k(()=>!s.value&&a.data.init),f=k(()=>a.data.plugins.some(c=>c.sourceUrl&&c.sourceUrl.includes("https://github.com/CERES-Sorbonne/PanopticML")));function i(c){return c.replaceAll("-","â€‘")}function u(c){c.path&&c.name&&a.createProject(c.path,c.name)}function m(c){a.importProject(c)}function w(c){a.delPlugin(c)}async function P(){p.value=!0,await G(),_.value.setPanopticMl()}return X(()=>{a.isProjectLoaded&&Y.push("/view")}),(c,x)=>(t(),o(j,null,[v.value?(t(),F(te,{key:0})):b("",!0),e("div",Oe,[s.value?(t(),o("div",Ue,[(t(!0),o(j,null,A(C(a).data.status.projects,h=>(t(),o("div",qe,[e("div",{class:"project flex-grow-1 overflow-hidden",onClick:L=>C(a).loadProject(h.path)},[e("h5",Te,g(h.name),1),e("div",ze,g(i(h.path)),1)],8,De),e("div",Re,[Z(ee,null,{button:W(()=>[Be]),popup:W(({hide:L})=>[e("div",He,[e("div",{onClick:B=>{C(a).deleteProject(h.path),L()},class:"m-1 base-hover p-1"},[We,N("delete ")],8,Ae)])]),_:2},1024)])]))),256))])):b("",!0),C(a).data.init?(t(),o("div",Ge,[e("div",Je,[Ke,e("div",Qe,[y.value==0?(t(),F(ye,{key:0,onCreate:x[0]||(x[0]=h=>y.value=1),onImport:m})):b("",!0),y.value==1?(t(),F(he,{key:1,onCancel:x[1]||(x[1]=h=>y.value=0),onCreate:u})):b("",!0)]),e("div",Xe,[e("h5",Ye,[N(" Plugins "),e("span",{class:"sb bi bi-plus",style:{position:"relative",top:"1px"},onClick:x[2]||(x[2]=h=>p.value=!0)})]),e("div",Ze,[f.value?b("",!0):(t(),o("span",{key:0,class:"bb",onClick:P},[et,N(" Install PanopticML ")]))])]),e("div",tt,[p.value?(t(),F(Ve,{key:0,onCancel:x[3]||(x[3]=h=>p.value=!1),ref_key:"pluginFormElem",ref:_},null,512)):(t(),o("div",st,[(t(!0),o(j,null,A(C(a).data.plugins,h=>(t(),o("div",lt,[e("span",{onClick:L=>w(h.path),class:"bi bi-x base-hover"},null,8,ot),e("span",null,g(h.name),1)]))),256))]))])])])):(t(),o("div",nt,it))])],64))}});const dt=D(ct,[["__scopeId","data-v-168c4bc8"]]);export{dt as default};
