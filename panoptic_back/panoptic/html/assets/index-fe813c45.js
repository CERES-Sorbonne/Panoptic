var Nv=Object.defineProperty;var Lv=(e,t,n)=>t in e?Nv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pv=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Dt=(e,t,n)=>(Lv(e,typeof t!="symbol"?t+"":t,n),n);var C8=Pv((N8,Zo)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Ru(e,t){const n=Object.create(null),s=e.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function ye(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=St(s)?Fv(s):ye(s);if(r)for(const i in r)t[i]=r[i]}return t}else{if(St(e))return e;if(lt(e))return e}}const Dv=/;(?![^(]*\))/g,Mv=/:([^]+)/,Rv=/\/\*.*?\*\//gs;function Fv(e){const t={};return e.replace(Rv,"").split(Dv).forEach(n=>{if(n){const s=n.split(Mv);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ie(e){let t="";if(St(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const s=Ie(e[n]);s&&(t+=s+" ")}else if(lt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Vv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Uv=Ru(Vv);function ih(e){return!!e||e===""}function Hv(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=ar(e[s],t[s]);return n}function ar(e,t){if(e===t)return!0;let n=Sd(e),s=Sd(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Li(e),s=Li(t),n||s)return e===t;if(n=ke(e),s=ke(t),n||s)return n&&s?Hv(e,t):!1;if(n=lt(e),s=lt(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!ar(e[o],t[o]))return!1}}return String(e)===String(t)}function Fu(e,t){return e.findIndex(n=>ar(n,t))}const Q=e=>St(e)?e:e==null?"":ke(e)||lt(e)&&(e.toString===lh||!Re(e.toString))?JSON.stringify(e,oh,2):String(e),oh=(e,t)=>t&&t.__v_isRef?oh(e,t.value):Nr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:ti(t)?{[`Set(${t.size})`]:[...t.values()]}:lt(t)&&!ke(t)&&!uh(t)?String(t):t,ut={},$r=[],En=()=>{},Wv=()=>!1,jv=/^on[^a-z]/,ba=e=>jv.test(e),Vu=e=>e.startsWith("onUpdate:"),Bt=Object.assign,Uu=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Yv=Object.prototype.hasOwnProperty,qe=(e,t)=>Yv.call(e,t),ke=Array.isArray,Nr=e=>Qi(e)==="[object Map]",ti=e=>Qi(e)==="[object Set]",Sd=e=>Qi(e)==="[object Date]",Re=e=>typeof e=="function",St=e=>typeof e=="string",Li=e=>typeof e=="symbol",lt=e=>e!==null&&typeof e=="object",ah=e=>lt(e)&&Re(e.then)&&Re(e.catch),lh=Object.prototype.toString,Qi=e=>lh.call(e),zv=e=>Qi(e).slice(8,-1),uh=e=>Qi(e)==="[object Object]",Hu=e=>St(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Do=Ru(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wa=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Bv=/-(\w)/g,Un=wa(e=>e.replace(Bv,(t,n)=>n?n.toUpperCase():"")),Gv=/\B([A-Z])/g,dr=wa(e=>e.replace(Gv,"-$1").toLowerCase()),Ea=wa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Mo=wa(e=>e?`on${Ea(e)}`:""),Pi=(e,t)=>!Object.is(e,t),Ro=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ea=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ta=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Td;const Kv=()=>Td||(Td=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let nn;class ch{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=nn,!t&&nn&&(this.index=(nn.scopes||(nn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=nn;try{return nn=this,t()}finally{nn=n}}}on(){nn=this}off(){nn=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function qv(e){return new ch(e)}function Xv(e,t=nn){t&&t.active&&t.effects.push(e)}function dh(){return nn}function Jv(e){nn&&nn.cleanups.push(e)}const Wu=e=>{const t=new Set(e);return t.w=0,t.n=0,t},fh=e=>(e.w&$s)>0,ph=e=>(e.n&$s)>0,Qv=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=$s},Zv=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const r=t[s];fh(r)&&!ph(r)?r.delete(e):t[n++]=r,r.w&=~$s,r.n&=~$s}t.length=n}},na=new WeakMap;let wi=0,$s=1;const jl=30;let yn;const sr=Symbol(""),Yl=Symbol("");class ju{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Xv(this,s)}run(){if(!this.active)return this.fn();let t=yn,n=Os;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=yn,yn=this,Os=!0,$s=1<<++wi,wi<=jl?Qv(this):Id(this),this.fn()}finally{wi<=jl&&Zv(this),$s=1<<--wi,yn=this.parent,Os=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){yn===this?this.deferStop=!0:this.active&&(Id(this),this.onStop&&this.onStop(),this.active=!1)}}function Id(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Os=!0;const hh=[];function ni(){hh.push(Os),Os=!1}function si(){const e=hh.pop();Os=e===void 0?!0:e}function Jt(e,t,n){if(Os&&yn){let s=na.get(e);s||na.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Wu()),mh(r)}}function mh(e,t){let n=!1;wi<=jl?ph(e)||(e.n|=$s,n=!fh(e)):n=!e.has(yn),n&&(e.add(yn),yn.deps.push(e))}function as(e,t,n,s,r,i){const o=na.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&ke(e)){const l=Number(s);o.forEach((u,c)=>{(c==="length"||c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":ke(e)?Hu(n)&&a.push(o.get("length")):(a.push(o.get(sr)),Nr(e)&&a.push(o.get(Yl)));break;case"delete":ke(e)||(a.push(o.get(sr)),Nr(e)&&a.push(o.get(Yl)));break;case"set":Nr(e)&&a.push(o.get(sr));break}if(a.length===1)a[0]&&zl(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);zl(Wu(l))}}function zl(e,t){const n=ke(e)?e:[...e];for(const s of n)s.computed&&kd(s);for(const s of n)s.computed||kd(s)}function kd(e,t){(e!==yn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function ey(e,t){var n;return(n=na.get(e))===null||n===void 0?void 0:n.get(t)}const ty=Ru("__proto__,__v_isRef,__isVue"),_h=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Li)),ny=Yu(),sy=Yu(!1,!0),ry=Yu(!0),Od=iy();function iy(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Qe(this);for(let i=0,o=this.length;i<o;i++)Jt(s,"get",i+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(Qe)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ni();const s=Qe(this)[t].apply(this,n);return si(),s}}),e}function oy(e){const t=Qe(this);return Jt(t,"has",e),t.hasOwnProperty(e)}function Yu(e=!1,t=!1){return function(s,r,i){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&i===(e?t?Ey:wh:t?bh:yh).get(s))return s;const o=ke(s);if(!e){if(o&&qe(Od,r))return Reflect.get(Od,r,i);if(r==="hasOwnProperty")return oy}const a=Reflect.get(s,r,i);return(Li(r)?_h.has(r):ty(r))||(e||Jt(s,"get",r),t)?a:At(a)?o&&Hu(r)?a:a.value:lt(a)?e?Sh(a):Je(a):a}}const ay=gh(),ly=gh(!0);function gh(e=!1){return function(n,s,r,i){let o=n[s];if(Fr(o)&&At(o)&&!At(r))return!1;if(!e&&(!sa(r)&&!Fr(r)&&(o=Qe(o),r=Qe(r)),!ke(n)&&At(o)&&!At(r)))return o.value=r,!0;const a=ke(n)&&Hu(s)?Number(s)<n.length:qe(n,s),l=Reflect.set(n,s,r,i);return n===Qe(i)&&(a?Pi(r,o)&&as(n,"set",s,r):as(n,"add",s,r)),l}}function uy(e,t){const n=qe(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&as(e,"delete",t,void 0),s}function cy(e,t){const n=Reflect.has(e,t);return(!Li(t)||!_h.has(t))&&Jt(e,"has",t),n}function dy(e){return Jt(e,"iterate",ke(e)?"length":sr),Reflect.ownKeys(e)}const vh={get:ny,set:ay,deleteProperty:uy,has:cy,ownKeys:dy},fy={get:ry,set(e,t){return!0},deleteProperty(e,t){return!0}},py=Bt({},vh,{get:sy,set:ly}),zu=e=>e,Sa=e=>Reflect.getPrototypeOf(e);function _o(e,t,n=!1,s=!1){e=e.__v_raw;const r=Qe(e),i=Qe(t);n||(t!==i&&Jt(r,"get",t),Jt(r,"get",i));const{has:o}=Sa(r),a=s?zu:n?qu:Di;if(o.call(r,t))return a(e.get(t));if(o.call(r,i))return a(e.get(i));e!==r&&e.get(t)}function go(e,t=!1){const n=this.__v_raw,s=Qe(n),r=Qe(e);return t||(e!==r&&Jt(s,"has",e),Jt(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function vo(e,t=!1){return e=e.__v_raw,!t&&Jt(Qe(e),"iterate",sr),Reflect.get(e,"size",e)}function xd(e){e=Qe(e);const t=Qe(this);return Sa(t).has.call(t,e)||(t.add(e),as(t,"add",e,e)),this}function Ad(e,t){t=Qe(t);const n=Qe(this),{has:s,get:r}=Sa(n);let i=s.call(n,e);i||(e=Qe(e),i=s.call(n,e));const o=r.call(n,e);return n.set(e,t),i?Pi(t,o)&&as(n,"set",e,t):as(n,"add",e,t),this}function Cd(e){const t=Qe(this),{has:n,get:s}=Sa(t);let r=n.call(t,e);r||(e=Qe(e),r=n.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return r&&as(t,"delete",e,void 0),i}function $d(){const e=Qe(this),t=e.size!==0,n=e.clear();return t&&as(e,"clear",void 0,void 0),n}function yo(e,t){return function(s,r){const i=this,o=i.__v_raw,a=Qe(o),l=t?zu:e?qu:Di;return!e&&Jt(a,"iterate",sr),o.forEach((u,c)=>s.call(r,l(u),l(c),i))}}function bo(e,t,n){return function(...s){const r=this.__v_raw,i=Qe(r),o=Nr(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...s),c=n?zu:t?qu:Di;return!t&&Jt(i,"iterate",l?Yl:sr),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function ms(e){return function(...t){return e==="delete"?!1:this}}function hy(){const e={get(i){return _o(this,i)},get size(){return vo(this)},has:go,add:xd,set:Ad,delete:Cd,clear:$d,forEach:yo(!1,!1)},t={get(i){return _o(this,i,!1,!0)},get size(){return vo(this)},has:go,add:xd,set:Ad,delete:Cd,clear:$d,forEach:yo(!1,!0)},n={get(i){return _o(this,i,!0)},get size(){return vo(this,!0)},has(i){return go.call(this,i,!0)},add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear"),forEach:yo(!0,!1)},s={get(i){return _o(this,i,!0,!0)},get size(){return vo(this,!0)},has(i){return go.call(this,i,!0)},add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear"),forEach:yo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=bo(i,!1,!1),n[i]=bo(i,!0,!1),t[i]=bo(i,!1,!0),s[i]=bo(i,!0,!0)}),[e,n,t,s]}const[my,_y,gy,vy]=hy();function Bu(e,t){const n=t?e?vy:gy:e?_y:my;return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(qe(n,r)&&r in s?n:s,r,i)}const yy={get:Bu(!1,!1)},by={get:Bu(!1,!0)},wy={get:Bu(!0,!1)},yh=new WeakMap,bh=new WeakMap,wh=new WeakMap,Ey=new WeakMap;function Sy(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ty(e){return e.__v_skip||!Object.isExtensible(e)?0:Sy(zv(e))}function Je(e){return Fr(e)?e:Gu(e,!1,vh,yy,yh)}function Eh(e){return Gu(e,!1,py,by,bh)}function Sh(e){return Gu(e,!0,fy,wy,wh)}function Gu(e,t,n,s,r){if(!lt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=Ty(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function Lr(e){return Fr(e)?Lr(e.__v_raw):!!(e&&e.__v_isReactive)}function Fr(e){return!!(e&&e.__v_isReadonly)}function sa(e){return!!(e&&e.__v_isShallow)}function Th(e){return Lr(e)||Fr(e)}function Qe(e){const t=e&&e.__v_raw;return t?Qe(t):e}function Ku(e){return ea(e,"__v_skip",!0),e}const Di=e=>lt(e)?Je(e):e,qu=e=>lt(e)?Sh(e):e;function Ih(e){Os&&yn&&(e=Qe(e),mh(e.dep||(e.dep=Wu())))}function kh(e,t){e=Qe(e);const n=e.dep;n&&zl(n)}function At(e){return!!(e&&e.__v_isRef===!0)}function W(e){return xh(e,!1)}function Oh(e){return xh(e,!0)}function xh(e,t){return At(e)?e:new Iy(e,t)}class Iy{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Qe(t),this._value=n?t:Di(t)}get value(){return Ih(this),this._value}set value(t){const n=this.__v_isShallow||sa(t)||Fr(t);t=n?t:Qe(t),Pi(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Di(t),kh(this))}}function p(e){return At(e)?e.value:e}const ky={get:(e,t,n)=>p(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return At(r)&&!At(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Ah(e){return Lr(e)?e:new Proxy(e,ky)}function wo(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=xy(e,n);return t}class Oy{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ey(Qe(this._object),this._key)}}function xy(e,t,n){const s=e[t];return At(s)?s:new Oy(e,t,n)}var Ch;class Ay{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Ch]=!1,this._dirty=!0,this.effect=new ju(t,()=>{this._dirty||(this._dirty=!0,kh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=Qe(this);return Ih(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Ch="__v_isReadonly";function Cy(e,t,n=!1){let s,r;const i=Re(e);return i?(s=e,r=En):(s=e.get,r=e.set),new Ay(s,r,i||!r,n)}function xs(e,t,n,s){let r;try{r=s?e(...s):e()}catch(i){Ta(i,t,n)}return r}function Sn(e,t,n,s){if(Re(e)){const i=xs(e,t,n,s);return i&&ah(i)&&i.catch(o=>{Ta(o,t,n)}),i}const r=[];for(let i=0;i<e.length;i++)r.push(Sn(e[i],t,n,s));return r}function Ta(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){xs(l,null,10,[e,o,a]);return}}$y(e,n,r,s)}function $y(e,t,n,s=!0){console.error(e)}let Mi=!1,Bl=!1;const Mt=[];let Dn=0;const Pr=[];let qn=null,Xs=0;const $h=Promise.resolve();let Xu=null;function tt(e){const t=Xu||$h;return e?t.then(this?e.bind(this):e):t}function Ny(e){let t=Dn+1,n=Mt.length;for(;t<n;){const s=t+n>>>1;Ri(Mt[s])<e?t=s+1:n=s}return t}function Ju(e){(!Mt.length||!Mt.includes(e,Mi&&e.allowRecurse?Dn+1:Dn))&&(e.id==null?Mt.push(e):Mt.splice(Ny(e.id),0,e),Nh())}function Nh(){!Mi&&!Bl&&(Bl=!0,Xu=$h.then(Ph))}function Ly(e){const t=Mt.indexOf(e);t>Dn&&Mt.splice(t,1)}function Py(e){ke(e)?Pr.push(...e):(!qn||!qn.includes(e,e.allowRecurse?Xs+1:Xs))&&Pr.push(e),Nh()}function Nd(e,t=Mi?Dn+1:0){for(;t<Mt.length;t++){const n=Mt[t];n&&n.pre&&(Mt.splice(t,1),t--,n())}}function Lh(e){if(Pr.length){const t=[...new Set(Pr)];if(Pr.length=0,qn){qn.push(...t);return}for(qn=t,qn.sort((n,s)=>Ri(n)-Ri(s)),Xs=0;Xs<qn.length;Xs++)qn[Xs]();qn=null,Xs=0}}const Ri=e=>e.id==null?1/0:e.id,Dy=(e,t)=>{const n=Ri(e)-Ri(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ph(e){Bl=!1,Mi=!0,Mt.sort(Dy);const t=En;try{for(Dn=0;Dn<Mt.length;Dn++){const n=Mt[Dn];n&&n.active!==!1&&xs(n,null,14)}}finally{Dn=0,Mt.length=0,Lh(),Mi=!1,Xu=null,(Mt.length||Pr.length)&&Ph()}}function My(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ut;let r=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in s){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=s[c]||ut;d&&(r=n.map(_=>St(_)?_.trim():_)),f&&(r=n.map(ta))}let a,l=s[a=Mo(t)]||s[a=Mo(Un(t))];!l&&i&&(l=s[a=Mo(dr(t))]),l&&Sn(l,e,6,r);const u=s[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Sn(u,e,6,r)}}function Dh(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!Re(e)){const l=u=>{const c=Dh(u,t,!0);c&&(a=!0,Bt(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(lt(e)&&s.set(e,null),null):(ke(i)?i.forEach(l=>o[l]=null):Bt(o,i),lt(e)&&s.set(e,o),o)}function Ia(e,t){return!e||!ba(t)?!1:(t=t.slice(2).replace(/Once$/,""),qe(e,t[0].toLowerCase()+t.slice(1))||qe(e,dr(t))||qe(e,t))}let $t=null,ka=null;function ra(e){const t=$t;return $t=e,ka=e&&e.type.__scopeId||null,t}function mt(e){ka=e}function _t(){ka=null}const Ry=e=>Ce;function Ce(e,t=$t,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Hd(-1);const i=ra(t);let o;try{o=e(...r)}finally{ra(i),s._d&&Hd(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function fl(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:_,ctx:h,inheritAttrs:E}=e;let S,y;const I=ra(e);try{if(n.shapeFlag&4){const T=r||s;S=Pn(c.call(T,T,f,i,_,d,h)),y=l}else{const T=t;S=Pn(T.length>1?T(i,{attrs:l,slots:a,emit:u}):T(i,null)),y=t.props?l:Fy(l)}}catch(T){Ii.length=0,Ta(T,e,1),S=H(Ns)}let C=S;if(y&&E!==!1){const T=Object.keys(y),{shapeFlag:L}=C;T.length&&L&7&&(o&&T.some(Vu)&&(y=Vy(y,o)),C=Vr(C,y))}return n.dirs&&(C=Vr(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),S=C,ra(I),S}const Fy=e=>{let t;for(const n in e)(n==="class"||n==="style"||ba(n))&&((t||(t={}))[n]=e[n]);return t},Vy=(e,t)=>{const n={};for(const s in e)(!Vu(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Uy(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Ld(s,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==s[d]&&!Ia(u,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Ld(s,o,u):!0:!!o;return!1}function Ld(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!Ia(n,i))return!0}return!1}function Hy({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Wy=e=>e.__isSuspense;function jy(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):Py(e)}function Fo(e,t){if(vt){let n=vt.provides;const s=vt.parent&&vt.parent.provides;s===n&&(n=vt.provides=Object.create(s)),n[e]=t}}function Fn(e,t,n=!1){const s=vt||$t;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Re(t)?t.call(s.proxy):t}}function Yy(e,t){return Qu(e,null,t)}const Eo={};function Le(e,t,n){return Qu(e,t,n)}function Qu(e,t,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=ut){const a=dh()===(vt==null?void 0:vt.scope)?vt:null;let l,u=!1,c=!1;if(At(e)?(l=()=>e.value,u=sa(e)):Lr(e)?(l=()=>e,s=!0):ke(e)?(c=!0,u=e.some(C=>Lr(C)||sa(C)),l=()=>e.map(C=>{if(At(C))return C.value;if(Lr(C))return Qs(C);if(Re(C))return xs(C,a,2)})):Re(e)?t?l=()=>xs(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),Sn(e,a,3,[d])}:l=En,t&&s){const C=l;l=()=>Qs(C())}let f,d=C=>{f=y.onStop=()=>{xs(C,a,4)}},_;if(Vi)if(d=En,t?n&&Sn(t,a,3,[l(),c?[]:void 0,d]):l(),r==="sync"){const C=Db();_=C.__watcherHandles||(C.__watcherHandles=[])}else return En;let h=c?new Array(e.length).fill(Eo):Eo;const E=()=>{if(y.active)if(t){const C=y.run();(s||u||(c?C.some((T,L)=>Pi(T,h[L])):Pi(C,h)))&&(f&&f(),Sn(t,a,3,[C,h===Eo?void 0:c&&h[0]===Eo?[]:h,d]),h=C)}else y.run()};E.allowRecurse=!!t;let S;r==="sync"?S=E:r==="post"?S=()=>qt(E,a&&a.suspense):(E.pre=!0,a&&(E.id=a.uid),S=()=>Ju(E));const y=new ju(l,S);t?n?E():h=y.run():r==="post"?qt(y.run.bind(y),a&&a.suspense):y.run();const I=()=>{y.stop(),a&&a.scope&&Uu(a.scope.effects,y)};return _&&_.push(I),I}function zy(e,t,n){const s=this.proxy,r=St(e)?e.includes(".")?Mh(s,e):()=>s[e]:e.bind(s,s);let i;Re(t)?i=t:(i=t.handler,n=t);const o=vt;Hr(this);const a=Qu(r,i.bind(s),n);return o?Hr(o):rr(),a}function Mh(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Qs(e,t){if(!lt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),At(e))Qs(e.value,t);else if(ke(e))for(let n=0;n<e.length;n++)Qs(e[n],t);else if(ti(e)||Nr(e))e.forEach(n=>{Qs(n,t)});else if(uh(e))for(const n in e)Qs(e[n],t);return e}function fe(e){return Re(e)?{setup:e,name:e.name}:e}const Si=e=>!!e.type.__asyncLoader,Rh=e=>e.type.__isKeepAlive;function By(e,t){Fh(e,"a",t)}function Gy(e,t){Fh(e,"da",t)}function Fh(e,t,n=vt){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Oa(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Rh(r.parent.vnode)&&Ky(s,t,n,r),r=r.parent}}function Ky(e,t,n,s){const r=Oa(t,e,s,!0);Zi(()=>{Uu(s[t],r)},n)}function Oa(e,t,n=vt,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;ni(),Hr(n);const a=Sn(t,n,e,o);return rr(),si(),a});return s?r.unshift(i):r.push(i),i}}const cs=e=>(t,n=vt)=>(!Vi||e==="sp")&&Oa(e,(...s)=>t(...s),n),Vh=cs("bm"),Ve=cs("m"),qy=cs("bu"),Xy=cs("u"),Jy=cs("bum"),Zi=cs("um"),Qy=cs("sp"),Zy=cs("rtg"),eb=cs("rtc");function tb(e,t=vt){Oa("ec",e,t)}function yt(e,t){const n=$t;if(n===null)return e;const s=Aa(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,u=ut]=t[i];o&&(Re(o)&&(o={mounted:o,updated:o}),o.deep&&Qs(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function Bs(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(ni(),Sn(l,n,8,[e.el,a,e,t]),si())}}const Zu="components",nb="directives";function Uh(e,t){return ec(Zu,e,!0,t)||e}const Hh=Symbol();function Gl(e){return St(e)?ec(Zu,e,!1)||e:e||Hh}function sb(e){return ec(nb,e)}function ec(e,t,n=!0,s=!1){const r=$t||vt;if(r){const i=r.type;if(e===Zu){const a=Nb(i,!1);if(a&&(a===t||a===Un(t)||a===Ea(Un(t))))return i}const o=Pd(r[e]||i[e],t)||Pd(r.appContext[e],t);return!o&&s?i:o}}function Pd(e,t){return e&&(e[t]||e[Un(t)]||e[Ea(Un(t))])}function Oe(e,t,n,s){let r;const i=n&&n[s];if(ke(e)||St(e)){r=new Array(e.length);for(let o=0,a=e.length;o<a;o++)r[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,i&&i[o])}else if(lt(e))if(e[Symbol.iterator])r=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];r[a]=t(e[u],u,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function cn(e,t,n={},s,r){if($t.isCE||$t.parent&&Si($t.parent)&&$t.parent.isCE)return t!=="default"&&(n.name=t),H("slot",n,s&&s());let i=e[t];i&&i._c&&(i._d=!1),m();const o=i&&Wh(i(n)),a=_e(ie,{key:n.key||o&&o.key||`_${t}`},o||(s?s():[]),o&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Wh(e){return e.some(t=>oa(t)?!(t.type===Ns||t.type===ie&&!Wh(t.children)):!0)?e:null}function rb(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:Mo(s)]=e[s];return n}const Kl=e=>e?Zh(e)?Aa(e)||e.proxy:Kl(e.parent):null,Ti=Bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Kl(e.parent),$root:e=>Kl(e.root),$emit:e=>e.emit,$options:e=>tc(e),$forceUpdate:e=>e.f||(e.f=()=>Ju(e.update)),$nextTick:e=>e.n||(e.n=tt.bind(e.proxy)),$watch:e=>zy.bind(e)}),pl=(e,t)=>e!==ut&&!e.__isScriptSetup&&qe(e,t),ib={get({_:e},t){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const _=o[t];if(_!==void 0)switch(_){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(pl(s,t))return o[t]=1,s[t];if(r!==ut&&qe(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&qe(u,t))return o[t]=3,i[t];if(n!==ut&&qe(n,t))return o[t]=4,n[t];ql&&(o[t]=0)}}const c=Ti[t];let f,d;if(c)return t==="$attrs"&&Jt(e,"get",t),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ut&&qe(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,qe(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return pl(r,t)?(r[t]=n,!0):s!==ut&&qe(s,t)?(s[t]=n,!0):qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||e!==ut&&qe(e,o)||pl(t,o)||(a=i[0])&&qe(a,o)||qe(s,o)||qe(Ti,o)||qe(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let ql=!0;function ob(e){const t=tc(e),n=e.proxy,s=e.ctx;ql=!1,t.beforeCreate&&Dd(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:_,updated:h,activated:E,deactivated:S,beforeDestroy:y,beforeUnmount:I,destroyed:C,unmounted:T,render:L,renderTracked:A,renderTriggered:N,errorCaptured:V,serverPrefetch:U,expose:$,inheritAttrs:D,components:Y,directives:q,filters:G}=t;if(u&&ab(u,s,null,e.appContext.config.unwrapInjectedRef),o)for(const ue in o){const Ee=o[ue];Re(Ee)&&(s[ue]=Ee.bind(n))}if(r){const ue=r.call(n,n);lt(ue)&&(e.data=Je(ue))}if(ql=!0,i)for(const ue in i){const Ee=i[ue],he=Re(Ee)?Ee.bind(n,n):Re(Ee.get)?Ee.get.bind(n,n):En,be=!Re(Ee)&&Re(Ee.set)?Ee.set.bind(n):En,ve=P({get:he,set:be});Object.defineProperty(s,ue,{enumerable:!0,configurable:!0,get:()=>ve.value,set:xe=>ve.value=xe})}if(a)for(const ue in a)jh(a[ue],s,n,ue);if(l){const ue=Re(l)?l.call(n):l;Reflect.ownKeys(ue).forEach(Ee=>{Fo(Ee,ue[Ee])})}c&&Dd(c,e,"c");function se(ue,Ee){ke(Ee)?Ee.forEach(he=>ue(he.bind(n))):Ee&&ue(Ee.bind(n))}if(se(Vh,f),se(Ve,d),se(qy,_),se(Xy,h),se(By,E),se(Gy,S),se(tb,V),se(eb,A),se(Zy,N),se(Jy,I),se(Zi,T),se(Qy,U),ke($))if($.length){const ue=e.exposed||(e.exposed={});$.forEach(Ee=>{Object.defineProperty(ue,Ee,{get:()=>n[Ee],set:he=>n[Ee]=he})})}else e.exposed||(e.exposed={});L&&e.render===En&&(e.render=L),D!=null&&(e.inheritAttrs=D),Y&&(e.components=Y),q&&(e.directives=q)}function ab(e,t,n=En,s=!1){ke(e)&&(e=Xl(e));for(const r in e){const i=e[r];let o;lt(i)?"default"in i?o=Fn(i.from||r,i.default,!0):o=Fn(i.from||r):o=Fn(i),At(o)&&s?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function Dd(e,t,n){Sn(ke(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function jh(e,t,n,s){const r=s.includes(".")?Mh(n,s):()=>n[s];if(St(e)){const i=t[e];Re(i)&&Le(r,i)}else if(Re(e))Le(r,e.bind(n));else if(lt(e))if(ke(e))e.forEach(i=>jh(i,t,n,s));else{const i=Re(e.handler)?e.handler.bind(n):t[e.handler];Re(i)&&Le(r,i,e)}}function tc(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(u=>ia(l,u,o,!0)),ia(l,t,o)),lt(t)&&i.set(t,l),l}function ia(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&ia(e,i,n,!0),r&&r.forEach(o=>ia(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=lb[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const lb={data:Md,props:qs,emits:qs,methods:qs,computed:qs,beforeCreate:Ht,created:Ht,beforeMount:Ht,mounted:Ht,beforeUpdate:Ht,updated:Ht,beforeDestroy:Ht,beforeUnmount:Ht,destroyed:Ht,unmounted:Ht,activated:Ht,deactivated:Ht,errorCaptured:Ht,serverPrefetch:Ht,components:qs,directives:qs,watch:cb,provide:Md,inject:ub};function Md(e,t){return t?e?function(){return Bt(Re(e)?e.call(this,this):e,Re(t)?t.call(this,this):t)}:t:e}function ub(e,t){return qs(Xl(e),Xl(t))}function Xl(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ht(e,t){return e?[...new Set([].concat(e,t))]:t}function qs(e,t){return e?Bt(Bt(Object.create(null),e),t):t}function cb(e,t){if(!e)return t;if(!t)return e;const n=Bt(Object.create(null),e);for(const s in t)n[s]=Ht(e[s],t[s]);return n}function db(e,t,n,s=!1){const r={},i={};ea(i,xa,1),e.propsDefaults=Object.create(null),Yh(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:Eh(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function fb(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=Qe(r),[l]=e.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Ia(e.emitsOptions,d))continue;const _=t[d];if(l)if(qe(i,d))_!==i[d]&&(i[d]=_,u=!0);else{const h=Un(d);r[h]=Jl(l,a,h,_,e,!1)}else _!==i[d]&&(i[d]=_,u=!0)}}}else{Yh(e,t,r,i)&&(u=!0);let c;for(const f in a)(!t||!qe(t,f)&&((c=dr(f))===f||!qe(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(r[f]=Jl(l,a,f,void 0,e,!0)):delete r[f]);if(i!==a)for(const f in i)(!t||!qe(t,f))&&(delete i[f],u=!0)}u&&as(e,"set","$attrs")}function Yh(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Do(l))continue;const u=t[l];let c;r&&qe(r,c=Un(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ia(e.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=Qe(n),u=a||ut;for(let c=0;c<i.length;c++){const f=i[c];n[f]=Jl(r,l,f,u[f],e,!qe(u,f))}}return o}function Jl(e,t,n,s,r,i){const o=e[n];if(o!=null){const a=qe(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&Re(l)){const{propsDefaults:u}=r;n in u?s=u[n]:(Hr(r),s=u[n]=l.call(null,t),rr())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===dr(n))&&(s=!0))}return s}function zh(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!Re(e)){const c=f=>{l=!0;const[d,_]=zh(f,t,!0);Bt(o,d),_&&a.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return lt(e)&&s.set(e,$r),$r;if(ke(i))for(let c=0;c<i.length;c++){const f=Un(i[c]);Rd(f)&&(o[f]=ut)}else if(i)for(const c in i){const f=Un(c);if(Rd(f)){const d=i[c],_=o[f]=ke(d)||Re(d)?{type:d}:Object.assign({},d);if(_){const h=Ud(Boolean,_.type),E=Ud(String,_.type);_[0]=h>-1,_[1]=E<0||h<E,(h>-1||qe(_,"default"))&&a.push(f)}}}const u=[o,a];return lt(e)&&s.set(e,u),u}function Rd(e){return e[0]!=="$"}function Fd(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Vd(e,t){return Fd(e)===Fd(t)}function Ud(e,t){return ke(t)?t.findIndex(n=>Vd(n,e)):Re(t)&&Vd(t,e)?0:-1}const Bh=e=>e[0]==="_"||e==="$stable",nc=e=>ke(e)?e.map(Pn):[Pn(e)],pb=(e,t,n)=>{if(t._n)return t;const s=Ce((...r)=>nc(t(...r)),n);return s._c=!1,s},Gh=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Bh(r))continue;const i=e[r];if(Re(i))t[r]=pb(r,i,s);else if(i!=null){const o=nc(i);t[r]=()=>o}}},Kh=(e,t)=>{const n=nc(t);e.slots.default=()=>n},hb=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Qe(t),ea(t,"_",n)):Gh(t,e.slots={})}else e.slots={},t&&Kh(e,t);ea(e.slots,xa,1)},mb=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=ut;if(s.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Bt(r,t),!n&&a===1&&delete r._):(i=!t.$stable,Gh(t,r)),o=t}else t&&(Kh(e,t),o={default:1});if(i)for(const a in r)!Bh(a)&&!(a in o)&&delete r[a]};function qh(){return{app:null,config:{isNativeTag:Wv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _b=0;function gb(e,t){return function(s,r=null){Re(s)||(s=Object.assign({},s)),r!=null&&!lt(r)&&(r=null);const i=qh(),o=new Set;let a=!1;const l=i.app={_uid:_b++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Mb,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&Re(u.install)?(o.add(u),u.install(l,...c)):Re(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,f){if(!a){const d=H(s,r);return d.appContext=i,c&&t?t(d,u):e(d,u,f),a=!0,l._container=u,u.__vue_app__=l,Aa(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l}};return l}}function Ql(e,t,n,s,r=!1){if(ke(e)){e.forEach((d,_)=>Ql(d,t&&(ke(t)?t[_]:t),n,s,r));return}if(Si(s)&&!r)return;const i=s.shapeFlag&4?Aa(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===ut?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(St(u)?(c[u]=null,qe(f,u)&&(f[u]=null)):At(u)&&(u.value=null)),Re(l))xs(l,a,12,[o,c]);else{const d=St(l),_=At(l);if(d||_){const h=()=>{if(e.f){const E=d?qe(f,l)?f[l]:c[l]:l.value;r?ke(E)&&Uu(E,i):ke(E)?E.includes(i)||E.push(i):d?(c[l]=[i],qe(f,l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else d?(c[l]=o,qe(f,l)&&(f[l]=o)):_&&(l.value=o,e.k&&(c[e.k]=o))};o?(h.id=-1,qt(h,n)):h()}}}const qt=jy;function vb(e){return yb(e)}function yb(e,t){const n=Kv();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:_=En,insertStaticContent:h}=e,E=(k,g,b,x=null,M=null,B=null,J=!1,ne=null,re=!!g.dynamicChildren)=>{if(k===g)return;k&&!fi(k,g)&&(x=ae(k),xe(k,M,B,!0),k=null),g.patchFlag===-2&&(re=!1,g.dynamicChildren=null);const{type:Z,ref:ce,shapeFlag:R}=g;switch(Z){case eo:S(k,g,b,x);break;case Ns:y(k,g,b,x);break;case hl:k==null&&I(g,b,x,J);break;case ie:Y(k,g,b,x,M,B,J,ne,re);break;default:R&1?L(k,g,b,x,M,B,J,ne,re):R&6?q(k,g,b,x,M,B,J,ne,re):(R&64||R&128)&&Z.process(k,g,b,x,M,B,J,ne,re,Pe)}ce!=null&&M&&Ql(ce,k&&k.ref,B,g||k,!g)},S=(k,g,b,x)=>{if(k==null)s(g.el=a(g.children),b,x);else{const M=g.el=k.el;g.children!==k.children&&u(M,g.children)}},y=(k,g,b,x)=>{k==null?s(g.el=l(g.children||""),b,x):g.el=k.el},I=(k,g,b,x)=>{[k.el,k.anchor]=h(k.children,g,b,x,k.el,k.anchor)},C=({el:k,anchor:g},b,x)=>{let M;for(;k&&k!==g;)M=d(k),s(k,b,x),k=M;s(g,b,x)},T=({el:k,anchor:g})=>{let b;for(;k&&k!==g;)b=d(k),r(k),k=b;r(g)},L=(k,g,b,x,M,B,J,ne,re)=>{J=J||g.type==="svg",k==null?A(g,b,x,M,B,J,ne,re):U(k,g,M,B,J,ne,re)},A=(k,g,b,x,M,B,J,ne)=>{let re,Z;const{type:ce,props:R,shapeFlag:j,transition:we,dirs:Se}=k;if(re=k.el=o(k.type,B,R&&R.is,R),j&8?c(re,k.children):j&16&&V(k.children,re,null,x,M,B&&ce!=="foreignObject",J,ne),Se&&Bs(k,null,x,"created"),N(re,k,k.scopeId,J,x),R){for(const We in R)We!=="value"&&!Do(We)&&i(re,We,null,R[We],B,k.children,x,M,le);"value"in R&&i(re,"value",null,R.value),(Z=R.onVnodeBeforeMount)&&Nn(Z,x,k)}Se&&Bs(k,null,x,"beforeMount");const Ke=(!M||M&&!M.pendingBranch)&&we&&!we.persisted;Ke&&we.beforeEnter(re),s(re,g,b),((Z=R&&R.onVnodeMounted)||Ke||Se)&&qt(()=>{Z&&Nn(Z,x,k),Ke&&we.enter(re),Se&&Bs(k,null,x,"mounted")},M)},N=(k,g,b,x,M)=>{if(b&&_(k,b),x)for(let B=0;B<x.length;B++)_(k,x[B]);if(M){let B=M.subTree;if(g===B){const J=M.vnode;N(k,J,J.scopeId,J.slotScopeIds,M.parent)}}},V=(k,g,b,x,M,B,J,ne,re=0)=>{for(let Z=re;Z<k.length;Z++){const ce=k[Z]=ne?ws(k[Z]):Pn(k[Z]);E(null,ce,g,b,x,M,B,J,ne)}},U=(k,g,b,x,M,B,J)=>{const ne=g.el=k.el;let{patchFlag:re,dynamicChildren:Z,dirs:ce}=g;re|=k.patchFlag&16;const R=k.props||ut,j=g.props||ut;let we;b&&Gs(b,!1),(we=j.onVnodeBeforeUpdate)&&Nn(we,b,g,k),ce&&Bs(g,k,b,"beforeUpdate"),b&&Gs(b,!0);const Se=M&&g.type!=="foreignObject";if(Z?$(k.dynamicChildren,Z,ne,b,x,Se,B):J||Ee(k,g,ne,null,b,x,Se,B,!1),re>0){if(re&16)D(ne,g,R,j,b,x,M);else if(re&2&&R.class!==j.class&&i(ne,"class",null,j.class,M),re&4&&i(ne,"style",R.style,j.style,M),re&8){const Ke=g.dynamicProps;for(let We=0;We<Ke.length;We++){const at=Ke[We],en=R[at],zs=j[at];(zs!==en||at==="value")&&i(ne,at,en,zs,M,k.children,b,x,le)}}re&1&&k.children!==g.children&&c(ne,g.children)}else!J&&Z==null&&D(ne,g,R,j,b,x,M);((we=j.onVnodeUpdated)||ce)&&qt(()=>{we&&Nn(we,b,g,k),ce&&Bs(g,k,b,"updated")},x)},$=(k,g,b,x,M,B,J)=>{for(let ne=0;ne<g.length;ne++){const re=k[ne],Z=g[ne],ce=re.el&&(re.type===ie||!fi(re,Z)||re.shapeFlag&70)?f(re.el):b;E(re,Z,ce,null,x,M,B,J,!0)}},D=(k,g,b,x,M,B,J)=>{if(b!==x){if(b!==ut)for(const ne in b)!Do(ne)&&!(ne in x)&&i(k,ne,b[ne],null,J,g.children,M,B,le);for(const ne in x){if(Do(ne))continue;const re=x[ne],Z=b[ne];re!==Z&&ne!=="value"&&i(k,ne,Z,re,J,g.children,M,B,le)}"value"in x&&i(k,"value",b.value,x.value)}},Y=(k,g,b,x,M,B,J,ne,re)=>{const Z=g.el=k?k.el:a(""),ce=g.anchor=k?k.anchor:a("");let{patchFlag:R,dynamicChildren:j,slotScopeIds:we}=g;we&&(ne=ne?ne.concat(we):we),k==null?(s(Z,b,x),s(ce,b,x),V(g.children,b,ce,M,B,J,ne,re)):R>0&&R&64&&j&&k.dynamicChildren?($(k.dynamicChildren,j,b,M,B,J,ne),(g.key!=null||M&&g===M.subTree)&&Xh(k,g,!0)):Ee(k,g,b,ce,M,B,J,ne,re)},q=(k,g,b,x,M,B,J,ne,re)=>{g.slotScopeIds=ne,k==null?g.shapeFlag&512?M.ctx.activate(g,b,x,J,re):G(g,b,x,M,B,J,re):ee(k,g,re)},G=(k,g,b,x,M,B,J)=>{const ne=k.component=Ob(k,x,M);if(Rh(k)&&(ne.ctx.renderer=Pe),xb(ne),ne.asyncDep){if(M&&M.registerDep(ne,se),!k.el){const re=ne.subTree=H(Ns);y(null,re,g,b)}return}se(ne,k,g,b,M,B,J)},ee=(k,g,b)=>{const x=g.component=k.component;if(Uy(k,g,b))if(x.asyncDep&&!x.asyncResolved){ue(x,g,b);return}else x.next=g,Ly(x.update),x.update();else g.el=k.el,x.vnode=g},se=(k,g,b,x,M,B,J)=>{const ne=()=>{if(k.isMounted){let{next:ce,bu:R,u:j,parent:we,vnode:Se}=k,Ke=ce,We;Gs(k,!1),ce?(ce.el=Se.el,ue(k,ce,J)):ce=Se,R&&Ro(R),(We=ce.props&&ce.props.onVnodeBeforeUpdate)&&Nn(We,we,ce,Se),Gs(k,!0);const at=fl(k),en=k.subTree;k.subTree=at,E(en,at,f(en.el),ae(en),k,M,B),ce.el=at.el,Ke===null&&Hy(k,at.el),j&&qt(j,M),(We=ce.props&&ce.props.onVnodeUpdated)&&qt(()=>Nn(We,we,ce,Se),M)}else{let ce;const{el:R,props:j}=g,{bm:we,m:Se,parent:Ke}=k,We=Si(g);if(Gs(k,!1),we&&Ro(we),!We&&(ce=j&&j.onVnodeBeforeMount)&&Nn(ce,Ke,g),Gs(k,!0),R&&Ae){const at=()=>{k.subTree=fl(k),Ae(R,k.subTree,k,M,null)};We?g.type.__asyncLoader().then(()=>!k.isUnmounted&&at()):at()}else{const at=k.subTree=fl(k);E(null,at,b,x,k,M,B),g.el=at.el}if(Se&&qt(Se,M),!We&&(ce=j&&j.onVnodeMounted)){const at=g;qt(()=>Nn(ce,Ke,at),M)}(g.shapeFlag&256||Ke&&Si(Ke.vnode)&&Ke.vnode.shapeFlag&256)&&k.a&&qt(k.a,M),k.isMounted=!0,g=b=x=null}},re=k.effect=new ju(ne,()=>Ju(Z),k.scope),Z=k.update=()=>re.run();Z.id=k.uid,Gs(k,!0),Z()},ue=(k,g,b)=>{g.component=k;const x=k.vnode.props;k.vnode=g,k.next=null,fb(k,g.props,x,b),mb(k,g.children,b),ni(),Nd(),si()},Ee=(k,g,b,x,M,B,J,ne,re=!1)=>{const Z=k&&k.children,ce=k?k.shapeFlag:0,R=g.children,{patchFlag:j,shapeFlag:we}=g;if(j>0){if(j&128){be(Z,R,b,x,M,B,J,ne,re);return}else if(j&256){he(Z,R,b,x,M,B,J,ne,re);return}}we&8?(ce&16&&le(Z,M,B),R!==Z&&c(b,R)):ce&16?we&16?be(Z,R,b,x,M,B,J,ne,re):le(Z,M,B,!0):(ce&8&&c(b,""),we&16&&V(R,b,x,M,B,J,ne,re))},he=(k,g,b,x,M,B,J,ne,re)=>{k=k||$r,g=g||$r;const Z=k.length,ce=g.length,R=Math.min(Z,ce);let j;for(j=0;j<R;j++){const we=g[j]=re?ws(g[j]):Pn(g[j]);E(k[j],we,b,null,M,B,J,ne,re)}Z>ce?le(k,M,B,!0,!1,R):V(g,b,x,M,B,J,ne,re,R)},be=(k,g,b,x,M,B,J,ne,re)=>{let Z=0;const ce=g.length;let R=k.length-1,j=ce-1;for(;Z<=R&&Z<=j;){const we=k[Z],Se=g[Z]=re?ws(g[Z]):Pn(g[Z]);if(fi(we,Se))E(we,Se,b,null,M,B,J,ne,re);else break;Z++}for(;Z<=R&&Z<=j;){const we=k[R],Se=g[j]=re?ws(g[j]):Pn(g[j]);if(fi(we,Se))E(we,Se,b,null,M,B,J,ne,re);else break;R--,j--}if(Z>R){if(Z<=j){const we=j+1,Se=we<ce?g[we].el:x;for(;Z<=j;)E(null,g[Z]=re?ws(g[Z]):Pn(g[Z]),b,Se,M,B,J,ne,re),Z++}}else if(Z>j)for(;Z<=R;)xe(k[Z],M,B,!0),Z++;else{const we=Z,Se=Z,Ke=new Map;for(Z=Se;Z<=j;Z++){const tn=g[Z]=re?ws(g[Z]):Pn(g[Z]);tn.key!=null&&Ke.set(tn.key,Z)}let We,at=0;const en=j-Se+1;let zs=!1,bd=0;const di=new Array(en);for(Z=0;Z<en;Z++)di[Z]=0;for(Z=we;Z<=R;Z++){const tn=k[Z];if(at>=en){xe(tn,M,B,!0);continue}let $n;if(tn.key!=null)$n=Ke.get(tn.key);else for(We=Se;We<=j;We++)if(di[We-Se]===0&&fi(tn,g[We])){$n=We;break}$n===void 0?xe(tn,M,B,!0):(di[$n-Se]=Z+1,$n>=bd?bd=$n:zs=!0,E(tn,g[$n],b,null,M,B,J,ne,re),at++)}const wd=zs?bb(di):$r;for(We=wd.length-1,Z=en-1;Z>=0;Z--){const tn=Se+Z,$n=g[tn],Ed=tn+1<ce?g[tn+1].el:x;di[Z]===0?E(null,$n,b,Ed,M,B,J,ne,re):zs&&(We<0||Z!==wd[We]?ve($n,b,Ed,2):We--)}}},ve=(k,g,b,x,M=null)=>{const{el:B,type:J,transition:ne,children:re,shapeFlag:Z}=k;if(Z&6){ve(k.component.subTree,g,b,x);return}if(Z&128){k.suspense.move(g,b,x);return}if(Z&64){J.move(k,g,b,Pe);return}if(J===ie){s(B,g,b);for(let R=0;R<re.length;R++)ve(re[R],g,b,x);s(k.anchor,g,b);return}if(J===hl){C(k,g,b);return}if(x!==2&&Z&1&&ne)if(x===0)ne.beforeEnter(B),s(B,g,b),qt(()=>ne.enter(B),M);else{const{leave:R,delayLeave:j,afterLeave:we}=ne,Se=()=>s(B,g,b),Ke=()=>{R(B,()=>{Se(),we&&we()})};j?j(B,Se,Ke):Ke()}else s(B,g,b)},xe=(k,g,b,x=!1,M=!1)=>{const{type:B,props:J,ref:ne,children:re,dynamicChildren:Z,shapeFlag:ce,patchFlag:R,dirs:j}=k;if(ne!=null&&Ql(ne,null,b,k,!0),ce&256){g.ctx.deactivate(k);return}const we=ce&1&&j,Se=!Si(k);let Ke;if(Se&&(Ke=J&&J.onVnodeBeforeUnmount)&&Nn(Ke,g,k),ce&6)K(k.component,b,x);else{if(ce&128){k.suspense.unmount(b,x);return}we&&Bs(k,null,g,"beforeUnmount"),ce&64?k.type.remove(k,g,b,M,Pe,x):Z&&(B!==ie||R>0&&R&64)?le(Z,g,b,!1,!0):(B===ie&&R&384||!M&&ce&16)&&le(re,g,b),x&&ze(k)}(Se&&(Ke=J&&J.onVnodeUnmounted)||we)&&qt(()=>{Ke&&Nn(Ke,g,k),we&&Bs(k,null,g,"unmounted")},b)},ze=k=>{const{type:g,el:b,anchor:x,transition:M}=k;if(g===ie){Ct(b,x);return}if(g===hl){T(k);return}const B=()=>{r(b),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(k.shapeFlag&1&&M&&!M.persisted){const{leave:J,delayLeave:ne}=M,re=()=>J(b,B);ne?ne(k.el,B,re):re()}else B()},Ct=(k,g)=>{let b;for(;k!==g;)b=d(k),r(k),k=b;r(g)},K=(k,g,b)=>{const{bum:x,scope:M,update:B,subTree:J,um:ne}=k;x&&Ro(x),M.stop(),B&&(B.active=!1,xe(J,k,g,b)),ne&&qt(ne,g),qt(()=>{k.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},le=(k,g,b,x=!1,M=!1,B=0)=>{for(let J=B;J<k.length;J++)xe(k[J],g,b,x,M)},ae=k=>k.shapeFlag&6?ae(k.component.subTree):k.shapeFlag&128?k.suspense.next():d(k.anchor||k.el),me=(k,g,b)=>{k==null?g._vnode&&xe(g._vnode,null,null,!0):E(g._vnode||null,k,g,null,null,null,b),Nd(),Lh(),g._vnode=k},Pe={p:E,um:xe,m:ve,r:ze,mt:G,mc:V,pc:Ee,pbc:$,n:ae,o:e};let Be,Ae;return t&&([Be,Ae]=t(Pe)),{render:me,hydrate:Be,createApp:gb(me,Be)}}function Gs({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Xh(e,t,n=!1){const s=e.children,r=t.children;if(ke(s)&&ke(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=ws(r[i]),a.el=o.el),n||Xh(o,a)),a.type===eo&&(a.el=o.el)}}function bb(e){const t=e.slice(),n=[0];let s,r,i,o,a;const l=e.length;for(s=0;s<l;s++){const u=e[s];if(u!==0){if(r=n[n.length-1],e[r]<u){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<u?i=a+1:o=a;u<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const wb=e=>e.__isTeleport,ie=Symbol(void 0),eo=Symbol(void 0),Ns=Symbol(void 0),hl=Symbol(void 0),Ii=[];let bn=null;function m(e=!1){Ii.push(bn=e?null:[])}function Eb(){Ii.pop(),bn=Ii[Ii.length-1]||null}let Fi=1;function Hd(e){Fi+=e}function Jh(e){return e.dynamicChildren=Fi>0?bn||$r:null,Eb(),Fi>0&&bn&&bn.push(e),e}function w(e,t,n,s,r,i){return Jh(v(e,t,n,s,r,i,!0))}function _e(e,t,n,s,r){return Jh(H(e,t,n,s,r,!0))}function oa(e){return e?e.__v_isVNode===!0:!1}function fi(e,t){return e.type===t.type&&e.key===t.key}const xa="__vInternal",Qh=({key:e})=>e??null,Vo=({ref:e,ref_key:t,ref_for:n})=>e!=null?St(e)||At(e)||Re(e)?{i:$t,r:e,k:t,f:!!n}:e:null;function v(e,t=null,n=null,s=0,r=null,i=e===ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Qh(t),ref:t&&Vo(t),scopeId:ka,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:$t};return a?(sc(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=St(n)?8:16),Fi>0&&!o&&bn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&bn.push(l),l}const H=Sb;function Sb(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===Hh)&&(e=Ns),oa(e)){const a=Vr(e,t,!0);return n&&sc(a,n),Fi>0&&!i&&bn&&(a.shapeFlag&6?bn[bn.indexOf(e)]=a:bn.push(a)),a.patchFlag|=-2,a}if(Lb(e)&&(e=e.__vccOpts),t){t=Tb(t);let{class:a,style:l}=t;a&&!St(a)&&(t.class=Ie(a)),lt(l)&&(Th(l)&&!ke(l)&&(l=Bt({},l)),t.style=ye(l))}const o=St(e)?1:Wy(e)?128:wb(e)?64:lt(e)?4:Re(e)?2:0;return v(e,t,n,s,r,o,i,!0)}function Tb(e){return e?Th(e)||xa in e?Bt({},e):e:null}function Vr(e,t,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=e,a=t?rc(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Qh(a),ref:t&&t.ref?n&&r?ke(r)?r.concat(Vo(t)):[r,Vo(t)]:Vo(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ie?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Vr(e.ssContent),ssFallback:e.ssFallback&&Vr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Nt(e=" ",t=0){return H(eo,null,e,t)}function F(e="",t=!1){return t?(m(),_e(Ns,null,e)):H(Ns,null,e)}function Pn(e){return e==null||typeof e=="boolean"?H(Ns):ke(e)?H(ie,null,e.slice()):typeof e=="object"?ws(e):H(eo,null,String(e))}function ws(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Vr(e)}function sc(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),sc(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(xa in t)?t._ctx=$t:r===3&&$t&&($t.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Re(t)?(t={default:t,_ctx:$t},n=32):(t=String(t),s&64?(n=16,t=[Nt(t)]):n=8);e.children=t,e.shapeFlag|=n}function rc(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Ie([t.class,s.class]));else if(r==="style")t.style=ye([t.style,s.style]);else if(ba(r)){const i=t[r],o=s[r];o&&i!==o&&!(ke(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function Nn(e,t,n,s=null){Sn(e,t,7,[n,s])}const Ib=qh();let kb=0;function Ob(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Ib,i={uid:kb++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new ch(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zh(s,r),emitsOptions:Dh(s,r),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:s.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=My.bind(null,i),e.ce&&e.ce(i),i}let vt=null;const Ur=()=>vt||$t,Hr=e=>{vt=e,e.scope.on()},rr=()=>{vt&&vt.scope.off(),vt=null};function Zh(e){return e.vnode.shapeFlag&4}let Vi=!1;function xb(e,t=!1){Vi=t;const{props:n,children:s}=e.vnode,r=Zh(e);db(e,n,r,t),hb(e,s);const i=r?Ab(e,t):void 0;return Vi=!1,i}function Ab(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ku(new Proxy(e.ctx,ib));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?$b(e):null;Hr(e),ni();const i=xs(s,e,0,[e.props,r]);if(si(),rr(),ah(i)){if(i.then(rr,rr),t)return i.then(o=>{Wd(e,o,t)}).catch(o=>{Ta(o,e,0)});e.asyncDep=i}else Wd(e,i,t)}else em(e,t)}function Wd(e,t,n){Re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:lt(t)&&(e.setupState=Ah(t)),em(e,n)}let jd;function em(e,t,n){const s=e.type;if(!e.render){if(!t&&jd&&!s.render){const r=s.template||tc(e).template;if(r){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,u=Bt(Bt({isCustomElement:i,delimiters:a},o),l);s.render=jd(r,u)}}e.render=s.render||En}Hr(e),ni(),ob(e),si(),rr()}function Cb(e){return new Proxy(e.attrs,{get(t,n){return Jt(e,"get","$attrs"),t[n]}})}function $b(e){const t=s=>{e.exposed=s||{}};let n;return{get attrs(){return n||(n=Cb(e))},slots:e.slots,emit:e.emit,expose:t}}function Aa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ah(Ku(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ti)return Ti[n](e)},has(t,n){return n in t||n in Ti}}))}function Nb(e,t=!0){return Re(e)?e.displayName||e.name:e.name||t&&e.__name}function Lb(e){return Re(e)&&"__vccOpts"in e}const P=(e,t)=>Cy(e,t,Vi);function Ca(e,t,n){const s=arguments.length;return s===2?lt(t)&&!ke(t)?oa(t)?H(e,null,[t]):H(e,t):H(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&oa(n)&&(n=[n]),H(e,t,n))}const Pb=Symbol(""),Db=()=>Fn(Pb),Mb="3.2.47",Rb="http://www.w3.org/2000/svg",Js=typeof document<"u"?document:null,Yd=Js&&Js.createElement("template"),Fb={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t?Js.createElementNS(Rb,e):Js.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Js.createTextNode(e),createComment:e=>Js.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Js.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Yd.innerHTML=s?`<svg>${e}</svg>`:e;const a=Yd.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Vb(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Ub(e,t,n){const s=e.style,r=St(n);if(n&&!r){if(t&&!St(t))for(const i in t)n[i]==null&&Zl(s,i,"");for(const i in n)Zl(s,i,n[i])}else{const i=s.display;r?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=i)}}const zd=/\s*!important$/;function Zl(e,t,n){if(ke(n))n.forEach(s=>Zl(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Hb(e,t);zd.test(n)?e.setProperty(dr(s),n.replace(zd,""),"important"):e[s]=n}}const Bd=["Webkit","Moz","ms"],ml={};function Hb(e,t){const n=ml[t];if(n)return n;let s=Un(t);if(s!=="filter"&&s in e)return ml[t]=s;s=Ea(s);for(let r=0;r<Bd.length;r++){const i=Bd[r]+s;if(i in e)return ml[t]=i}return t}const Gd="http://www.w3.org/1999/xlink";function Wb(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Gd,t.slice(6,t.length)):e.setAttributeNS(Gd,t,n);else{const i=Uv(t);n==null||i&&!ih(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function jb(e,t,n,s,r,i,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,r,i),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=ih(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function Jn(e,t,n,s){e.addEventListener(t,n,s)}function Yb(e,t,n,s){e.removeEventListener(t,n,s)}function zb(e,t,n,s,r=null){const i=e._vei||(e._vei={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=Bb(t);if(s){const u=i[t]=qb(s,r);Jn(e,a,u,l)}else o&&(Yb(e,a,o,l),i[t]=void 0)}}const Kd=/(?:Once|Passive|Capture)$/;function Bb(e){let t;if(Kd.test(e)){t={};let s;for(;s=e.match(Kd);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):dr(e.slice(2)),t]}let _l=0;const Gb=Promise.resolve(),Kb=()=>_l||(Gb.then(()=>_l=0),_l=Date.now());function qb(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Sn(Xb(s,n.value),t,5,[s])};return n.value=e,n.attached=Kb(),n}function Xb(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const qd=/^on[a-z]/,Jb=(e,t,n,s,r=!1,i,o,a,l)=>{t==="class"?Vb(e,s,r):t==="style"?Ub(e,n,s):ba(t)?Vu(t)||zb(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qb(e,t,s,r))?jb(e,t,s,i,o,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Wb(e,t,s,r))};function Qb(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&qd.test(t)&&Re(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||qd.test(t)&&St(n)?!1:t in e}const Ls=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?n=>Ro(t,n):t};function Zb(e){e.target.composing=!0}function Xd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Qt={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e._assign=Ls(r);const i=s||r.props&&r.props.type==="number";Jn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=ta(a)),e._assign(a)}),n&&Jn(e,"change",()=>{e.value=e.value.trim()}),t||(Jn(e,"compositionstart",Zb),Jn(e,"compositionend",Xd),Jn(e,"change",Xd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},i){if(e._assign=Ls(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(r||e.type==="number")&&ta(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Ui={deep:!0,created(e,t,n){e._assign=Ls(n),Jn(e,"change",()=>{const s=e._modelValue,r=Wr(e),i=e.checked,o=e._assign;if(ke(s)){const a=Fu(s,r),l=a!==-1;if(i&&!l)o(s.concat(r));else if(!i&&l){const u=[...s];u.splice(a,1),o(u)}}else if(ti(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(nm(e,i))})},mounted:Jd,beforeUpdate(e,t,n){e._assign=Ls(n),Jd(e,t,n)}};function Jd(e,{value:t,oldValue:n},s){e._modelValue=t,ke(t)?e.checked=Fu(t,s.props.value)>-1:ti(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=ar(t,nm(e,!0)))}const e0={created(e,{value:t},n){e.checked=ar(t,n.props.value),e._assign=Ls(n),Jn(e,"change",()=>{e._assign(Wr(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e._assign=Ls(s),t!==n&&(e.checked=ar(t,s.props.value))}},tm={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const r=ti(t);Jn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?ta(Wr(o)):Wr(o));e._assign(e.multiple?r?new Set(i):i:i[0])}),e._assign=Ls(s)},mounted(e,{value:t}){Qd(e,t)},beforeUpdate(e,t,n){e._assign=Ls(n)},updated(e,{value:t}){Qd(e,t)}};function Qd(e,t){const n=e.multiple;if(!(n&&!ke(t)&&!ti(t))){for(let s=0,r=e.options.length;s<r;s++){const i=e.options[s],o=Wr(i);if(n)ke(t)?i.selected=Fu(t,o)>-1:i.selected=t.has(o);else if(ar(Wr(i),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Wr(e){return"_value"in e?e._value:e.value}function nm(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const sm={created(e,t,n){So(e,t,n,null,"created")},mounted(e,t,n){So(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){So(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){So(e,t,n,s,"updated")}};function t0(e,t){switch(e){case"SELECT":return tm;case"TEXTAREA":return Qt;default:switch(t){case"checkbox":return Ui;case"radio":return e0;default:return Qt}}}function So(e,t,n,s,r){const o=t0(e.tagName,n.props&&n.props.type)[r];o&&o(e,t,n,s)}const n0=["ctrl","shift","alt","meta"],s0={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>n0.some(n=>e[`${n}Key`]&&!t.includes(n))},je=(e,t)=>(n,...s)=>{for(let r=0;r<t.length;r++){const i=s0[t[r]];if(i&&i(n,t))return}return e(n,...s)},r0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},st=(e,t)=>n=>{if(!("key"in n))return;const s=dr(n.key);if(t.some(r=>r===s||r0[r]===s))return e(n)},i0={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):pi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),pi(e,!0),s.enter(e)):s.leave(e,()=>{pi(e,!1)}):pi(e,t))},beforeUnmount(e,{value:t}){pi(e,t)}};function pi(e,t){e.style.display=t?e._vod:"none"}const o0=Bt({patchProp:Jb},Fb);let Zd;function a0(){return Zd||(Zd=vb(o0))}const l0=(...e)=>{const t=a0().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=u0(s);if(!r)return;const i=t._component;!Re(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function u0(e){return St(e)?document.querySelector(e):e}const c0={nav:{folders:{title:"Dossiers"},properties:{title:"Propriétés",properties_tooltip:"Les différents champs associés à chaque image",import_properties_tooltip:"Importer un fichier de propriétés",export_properties_tooltip:"Exporter un fichier de propriétés",hide_property_tooltip:"Afficher / Masquer la propriété dans la vue",linked_property_tooltip:"Propriété liée à une instance d'image, pour plus d'informations lire la documentation sur les instances",hidden_property_tooltip:"Cette propriété n'est pas visible dans ce mode car liée à une instance d'image",expand_property_tooltip:"Afficher les tags",collapse_property_tooltip:"Masquer les tags",add_property:"Nouvelle propriété",delete_property:"Supprimer"},computed:{title:"Propriétés Panoptic",computed_tooltip:"Des propriétés non modifiables générées par panoptic","1_tooltip":"Une signature unique, deux images parfaitement identiques auront le même sha1","2_tooltip":"Une signature moyenne, deux images très proches visuellement auront le même ahash","3_tooltip":"Dossier contenant l'image source"}},menu:{add_tab_tooltip:"Créer un nouvel onglet",rename_tab_tooltip:"Renommer l'onglet",delete_tab_tooltip:"Supprimer l'onglet",search:"Chercher par texte",search_tooltip:"Chercher des images correspondant au texte en utilisant le modèle CLIP",grid_tooltip:"Passer en vue grille d'images",table_tooltip:"Passer en vue tableau",image_size_tooltip:"Taille des images",all_images:"Instances",sha1_images:"Images",image_mode_tooltip:"Switcher entre les modes instance et image, en mode image, seules les propriétés communes à toutes les instances d'une image seront affichées.",selected_images:"images sélectionnées",tag_selection:"Tagger les ",remove_selection_tooltip:"Annuler la sélection",filters:"Filtrer: ",groupby:"Grouper: ",sort:{title:"Trier: ",group_order_az_tooltip:"Tri des groupes par nom",group_order_nb_tooltip:"Tri des groupes par nombre d'images",order_desc:"Tri par ordre décroissant",order_asc:"Tri par ordre croissant"}},recommand:{title:"Propositions d'images",tooltip:"Des images considérées comme visuellement et / ou sémantiquement proches du groupe sélectionné en utilisant l'algorithme KDTree et des vecteurs d'image",accept:"Ajouter au groupe sélectionné",refuse:"Retirer des images similaires",group:"Aller au groupe"},view:{all_group:"Toutes",group_clusters:"Groupes IA",groupes_nb:"Groupes",group_clusters_tooltip:"Utilise un algorithme de machine learning (Kmeans) pour proposer des groupes temporaires par similarité d'images. Voir la documentation sur les clusters pour plus d'informations.",remove_clusters:"Fermer les groupes IA",cluster_score_tooltip:"Score de cohérence du cluster. Voir la documentation sur les clusters pour plus d'informations",instances_tooltip:"Nombre d'instances de cette image",collapse:"Réduire"}},d0={image:{similar_images:"Images similaires",similar_images_tooltip:"Des images considérées comme visuellement et / ou sémantiquement proches de l'image courante en utilisant l'algorithme KDTree et des vecteurs d'image",unique_properties:"Propriétés uniques",unique_properties_tooltip:"Affichage des propriétés liées aux instances de cette image.",similarity_filter_tooltip:"Le pourcentage de similarité minimal que doivent avoir les images affichées ici. Pour plus d'information, voir la documentation sur le score de similarité.",toggle_property_tooltip:"Afficher / Masquer cette propriété dans la vue 'Images similaires'",fill_property_tooltip:"Tagger toutes les images similaires avec la valeur de cette propriété"},properties:{title:"Nouvelle propriété",input:"Nom de la propriété",cancel:"Annuler",confirm:"Confirmer",string:"Texte",string_tooltip:"Du texte, ex: le contenu d'un tweet, la description d'une image",number:"Numérique",number_tooltip:"Des nombres, ex: le nombre de likes sur twitter, la largeur d'un tableau",tag:"Label",tag_tooltip:"Un label unique choisi parmi une liste, ex: une catégorie d'image, un lieu, une source",multi_tags:"Labels",multi_tags_tooltip:"Comme un label mais avec possibilité d'en assigner plusieurs en même temps",url:"URL",url_tooltip:"Une URL cliquable, ex: le lien vers la source d'une image",date:"Date",date_tooltip:"Une date au format jj / mm / aaaa",color:"Couleur",color_tooltip:"Un simple carré de couleur permettant de catégoriser sans assigner de label",checkbox:"Checkbox",checkbox_tooltip:"Une case à cocher, ex: 'pertinent' / 'non pertinent', 'sensible / non sensible'"},filters:{title:"Filtres:",remove:"Supprimer",and:"et",or:"ou",where:"Conditions:",new_filter:"Filtre",new_group:"Groupe de filtres",operators:{isSet:"n'est pas vide",notSet:"est vide",equal:"=",equalNot:"≠",lower:"<",greater:">",leq:"≤",geq:"≥",startsWith:"débute par",like:"contient",containsAny:"contient",containsNot:"ne contient pas",containsAll:"contient tous"}},tagging:{button:"Tagger le groupe",title:"Propriétés",cancel:"Annuler",clear:"Clear",apply:"Appliquer"},tags:{},export:{title:"Exporter les données",images:"Uniquement les images de l'onglet",properties:"Uniquement les propriétés visibles",export:"Exporter"}},f0={title:"Panoptic",project_selection:"Charger projet",new_project:"Nouveau projet",images_folders:"Dossiers d'images",add_images_folder:"Ajouter un dossier d'images",open_panoptic:"Lancer Panoptic"},p0={main:c0,modals:d0,mini_ui:f0},h0={nav:{folders:{title:"Folders"},properties:{title:"Properties",properties_tooltip:"The various fields associated with each image",import_properties_tooltip:"Import a properties file",export_properties_tooltip:"Export a properties file",hide_property_tooltip:"Show / Hide property in view",linked_property_tooltip:"Property linked to an image instance, for more information read the documentation on instances",hidden_property_tooltip:"This property is not visible in this mode because it is linked to an image instance",expand_property_tooltip:"Show tags",collapse_property_tooltip:"Hide tags",add_property:"New property",delete_property:"Delete"},computed:{title:"Panoptic properties",computed_tooltip:"Non-modifiable properties generated by panoptic","1_tooltip":"A unique signature, two perfectly identical images will have the same sha1","2_tooltip":"An average signature, two images very close visually will have the same ahash","3_tooltip":"Folder containing the source image"}},menu:{add_tab_tooltip:"Create a new tab",rename_tab_tooltip:"Rename tab",delete_tab_tooltip:"Delete tab",search:"Search by text",search_tooltip:"Search for images matching the text using the CLIP template",grid_tooltip:"Switch to image grid view",table_tooltip:"Switch to table view",image_size_tooltip:"Image size",all_images:"Instances",sha1_images:"Images",image_mode_tooltip:"Switch between instance and image modes, in image mode, only properties common to all instances of an image will be displayed.",selected_images:"selected images",tag_selection:"Tag the ",remove_selection_tooltip:"Cancel selection",filters:"Filter: ",groupby:"Group: ",sort:{title:"Sort: ",group_order_az_tooltip:"Sort groups by name",group_order_nb_tooltip:"Sort groups by number of images",order_desc:"Sort by descending order",order_asc:"Sort in ascending order"}},recommand:{title:"Image suggestions",tooltip:"Images considered to be visually and/or semantically related",accept:"Add to selected group",refuse:"Remove similar images",group:"Go to group"},view:{all_group:"All",group_clusters:"Clusters",groupes_nb:"Groups",group_clusters_tooltip:"Uses a machine learning algorithm (Kmeans) to propose temporary groups by image similarity. See the documentation on clusters for more information.",remove_clusters:"Close clusters",cluster_score_tooltip:"Cluster consistency score. See cluster documentation for more information",instances_tooltip:"Number of instances of this image",collapse:"Collapse"}},m0={image:{similar_images:"Similar images",similar_images_tooltip:"Images considered to be visually and/or semantically close to the current image using the KDTree algorithm and image vectors",unique_properties:"Unique properties",unique_properties_tooltip:"Display properties related to instances of this image",similarity_filter_tooltip:"The minimum similarity percentage that images displayed here must have. For more information, see the documentation on the similarity score.",toggle_property_tooltip:"Show / Hide this property in the 'Similar images' view",fill_property_tooltip:"Tag all similar images with the value of this property"},properties:{title:"New property",input:"Property name",cancel:"Cancel",confirm:"Confirm",string:"Text",string_tooltip:"Text, e.g. tweet content, image description",number:"Numeric",number_tooltip:"Numbers, e.g. the number of likes on twitter, the width of a table",tag:"Label",tag_tooltip:"A single label chosen from a list, e.g. an image category, a location, a source",multi_tags:"Labels",multi_tags_tooltip:"Like a label but with the possibility of assigning several at the same time",url:"URL",url_tooltip:"A clickable URL, e.g. the link to the source of an image",date:"Date",date_tooltip:"A date in dd / mm / yyyy format",color:"Color",color_tooltip:"A simple colored square to categorize without assigning a label",checkbox:"Checkbox",checkbox_tooltip:"A checkbox, e.g. 'relevant' / 'irrelevant', 'sensitive / non-sensitive'"},filters:{title:"Filters:",remove:"Delete",and:"and",or:"or",where:"Where:",new_filter:"Filter",new_group:"Filter group",operators:{isSet:"is not empty",notSet:"is empty",equal:"=",equalNot:"≠",lower:"<",greater:">",leq:"≤",geq:"≥",startsWith:"begins with",like:"contains",containsAny:"contains",containsNot:"does not contain",containsAll:"contains all"}},tagging:{button:"Tag the group",title:"Properties",cancel:"Cancel",clear:"Clear",apply:"Apply"},tags:{},export:{title:"Export data",images:"Tab images only",properties:"Only visible properties",export:"Export"}},_0={title:"Panoptic",project_selection:"Load project",new_project:"New project",images_folders:"Image folders",add_images_folder:"Add an image folder",open_panoptic:"Open Panoptic"},g0={main:h0,modals:m0,mini_ui:_0},v0={fr:p0,en:g0};/*!
  * shared v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const eu=typeof window<"u",Vs=(e,t=!1)=>t?Symbol.for(e):Symbol(e),y0=(e,t,n)=>b0({l:e,k:t,s:n}),b0=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),It=e=>typeof e=="number"&&isFinite(e),w0=e=>im(e)==="[object Date]",Ps=e=>im(e)==="[object RegExp]",$a=e=>De(e)&&Object.keys(e).length===0,Lt=Object.assign;let ef;const Qn=()=>ef||(ef=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tf(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const E0=Object.prototype.hasOwnProperty;function ic(e,t){return E0.call(e,t)}const ct=Array.isArray,bt=e=>typeof e=="function",de=e=>typeof e=="string",He=e=>typeof e=="boolean",rt=e=>e!==null&&typeof e=="object",rm=Object.prototype.toString,im=e=>rm.call(e),De=e=>{if(!rt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},S0=e=>e==null?"":ct(e)||De(e)&&e.toString===rm?JSON.stringify(e,null,2):String(e);function T0(e,t=""){return e.reduce((n,s,r)=>r===0?n+s:n+t+s,"")}function oc(e){let t=e;return()=>++t}function I0(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}/*!
  * message-compiler v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function k0(e,t,n){return{line:e,column:t,offset:n}}function tu(e,t,n){const s={start:e,end:t};return n!=null&&(s.source=n),s}const O0=/\{([0-9a-zA-Z]+)\}/g;function x0(e,...t){return t.length===1&&A0(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(O0,(n,s)=>t.hasOwnProperty(s)?t[s]:"")}const om=Object.assign,nf=e=>typeof e=="string",A0=e=>e!==null&&typeof e=="object";function am(e,t=""){return e.reduce((n,s,r)=>r===0?n+s:n+t+s,"")}const Ne={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},C0={[Ne.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ne.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ne.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ne.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ne.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ne.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ne.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ne.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ne.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ne.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ne.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ne.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ne.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ne.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ne.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ne.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function ri(e,t,n={}){const{domain:s,messages:r,args:i}=n,o=x0((r||C0)[e]||"",...i||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=s,a}function $0(e){throw e}const Bn=" ",N0="\r",Wt=`
`,L0=String.fromCharCode(8232),P0=String.fromCharCode(8233);function D0(e){const t=e;let n=0,s=1,r=1,i=0;const o=N=>t[N]===N0&&t[N+1]===Wt,a=N=>t[N]===Wt,l=N=>t[N]===P0,u=N=>t[N]===L0,c=N=>o(N)||a(N)||l(N)||u(N),f=()=>n,d=()=>s,_=()=>r,h=()=>i,E=N=>o(N)||l(N)||u(N)?Wt:t[N],S=()=>E(n),y=()=>E(n+i);function I(){return i=0,c(n)&&(s++,r=0),o(n)&&n++,n++,r++,t[n]}function C(){return o(n+i)&&i++,i++,t[n+i]}function T(){n=0,s=1,r=1,i=0}function L(N=0){i=N}function A(){const N=n+i;for(;N!==n;)I();i=0}return{index:f,line:d,column:_,peekOffset:h,charAt:E,currentChar:S,currentPeek:y,next:I,peek:C,reset:T,resetPeek:L,skipToPeek:A}}const _s=void 0,M0=".",sf="'",R0="tokenizer";function F0(e,t={}){const n=t.location!==!1,s=D0(e),r=()=>s.index(),i=()=>k0(s.line(),s.column(),s.index()),o=i(),a=r(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function f(g,b,x,...M){const B=u();if(b.column+=x,b.offset+=x,c){const J=n?tu(B.startLoc,b):null,ne=ri(g,J,{domain:R0,args:M});c(ne)}}function d(g,b,x){g.endLoc=i(),g.currentType=b;const M={type:b};return n&&(M.loc=tu(g.startLoc,g.endLoc)),x!=null&&(M.value=x),M}const _=g=>d(g,14);function h(g,b){return g.currentChar()===b?(g.next(),b):(f(Ne.EXPECTED_TOKEN,i(),0,b),"")}function E(g){let b="";for(;g.currentPeek()===Bn||g.currentPeek()===Wt;)b+=g.currentPeek(),g.peek();return b}function S(g){const b=E(g);return g.skipToPeek(),b}function y(g){if(g===_s)return!1;const b=g.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b===95}function I(g){if(g===_s)return!1;const b=g.charCodeAt(0);return b>=48&&b<=57}function C(g,b){const{currentType:x}=b;if(x!==2)return!1;E(g);const M=y(g.currentPeek());return g.resetPeek(),M}function T(g,b){const{currentType:x}=b;if(x!==2)return!1;E(g);const M=g.currentPeek()==="-"?g.peek():g.currentPeek(),B=I(M);return g.resetPeek(),B}function L(g,b){const{currentType:x}=b;if(x!==2)return!1;E(g);const M=g.currentPeek()===sf;return g.resetPeek(),M}function A(g,b){const{currentType:x}=b;if(x!==8)return!1;E(g);const M=g.currentPeek()===".";return g.resetPeek(),M}function N(g,b){const{currentType:x}=b;if(x!==9)return!1;E(g);const M=y(g.currentPeek());return g.resetPeek(),M}function V(g,b){const{currentType:x}=b;if(!(x===8||x===12))return!1;E(g);const M=g.currentPeek()===":";return g.resetPeek(),M}function U(g,b){const{currentType:x}=b;if(x!==10)return!1;const M=()=>{const J=g.currentPeek();return J==="{"?y(g.peek()):J==="@"||J==="%"||J==="|"||J===":"||J==="."||J===Bn||!J?!1:J===Wt?(g.peek(),M()):y(J)},B=M();return g.resetPeek(),B}function $(g){E(g);const b=g.currentPeek()==="|";return g.resetPeek(),b}function D(g){const b=E(g),x=g.currentPeek()==="%"&&g.peek()==="{";return g.resetPeek(),{isModulo:x,hasSpace:b.length>0}}function Y(g,b=!0){const x=(B=!1,J="",ne=!1)=>{const re=g.currentPeek();return re==="{"?J==="%"?!1:B:re==="@"||!re?J==="%"?!0:B:re==="%"?(g.peek(),x(B,"%",!0)):re==="|"?J==="%"||ne?!0:!(J===Bn||J===Wt):re===Bn?(g.peek(),x(!0,Bn,ne)):re===Wt?(g.peek(),x(!0,Wt,ne)):!0},M=x();return b&&g.resetPeek(),M}function q(g,b){const x=g.currentChar();return x===_s?_s:b(x)?(g.next(),x):null}function G(g){return q(g,x=>{const M=x.charCodeAt(0);return M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===95||M===36})}function ee(g){return q(g,x=>{const M=x.charCodeAt(0);return M>=48&&M<=57})}function se(g){return q(g,x=>{const M=x.charCodeAt(0);return M>=48&&M<=57||M>=65&&M<=70||M>=97&&M<=102})}function ue(g){let b="",x="";for(;b=ee(g);)x+=b;return x}function Ee(g){S(g);const b=g.currentChar();return b!=="%"&&f(Ne.EXPECTED_TOKEN,i(),0,b),g.next(),"%"}function he(g){let b="";for(;;){const x=g.currentChar();if(x==="{"||x==="}"||x==="@"||x==="|"||!x)break;if(x==="%")if(Y(g))b+=x,g.next();else break;else if(x===Bn||x===Wt)if(Y(g))b+=x,g.next();else{if($(g))break;b+=x,g.next()}else b+=x,g.next()}return b}function be(g){S(g);let b="",x="";for(;b=G(g);)x+=b;return g.currentChar()===_s&&f(Ne.UNTERMINATED_CLOSING_BRACE,i(),0),x}function ve(g){S(g);let b="";return g.currentChar()==="-"?(g.next(),b+=`-${ue(g)}`):b+=ue(g),g.currentChar()===_s&&f(Ne.UNTERMINATED_CLOSING_BRACE,i(),0),b}function xe(g){S(g),h(g,"'");let b="",x="";const M=J=>J!==sf&&J!==Wt;for(;b=q(g,M);)b==="\\"?x+=ze(g):x+=b;const B=g.currentChar();return B===Wt||B===_s?(f(Ne.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),B===Wt&&(g.next(),h(g,"'")),x):(h(g,"'"),x)}function ze(g){const b=g.currentChar();switch(b){case"\\":case"'":return g.next(),`\\${b}`;case"u":return Ct(g,b,4);case"U":return Ct(g,b,6);default:return f(Ne.UNKNOWN_ESCAPE_SEQUENCE,i(),0,b),""}}function Ct(g,b,x){h(g,b);let M="";for(let B=0;B<x;B++){const J=se(g);if(!J){f(Ne.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${b}${M}${g.currentChar()}`);break}M+=J}return`\\${b}${M}`}function K(g){S(g);let b="",x="";const M=B=>B!=="{"&&B!=="}"&&B!==Bn&&B!==Wt;for(;b=q(g,M);)x+=b;return x}function le(g){let b="",x="";for(;b=G(g);)x+=b;return x}function ae(g){const b=(x=!1,M)=>{const B=g.currentChar();return B==="{"||B==="%"||B==="@"||B==="|"||B==="("||B===")"||!B||B===Bn?M:B===Wt||B===M0?(M+=B,g.next(),b(x,M)):(M+=B,g.next(),b(!0,M))};return b(!1,"")}function me(g){S(g);const b=h(g,"|");return S(g),b}function Pe(g,b){let x=null;switch(g.currentChar()){case"{":return b.braceNest>=1&&f(Ne.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),g.next(),x=d(b,2,"{"),S(g),b.braceNest++,x;case"}":return b.braceNest>0&&b.currentType===2&&f(Ne.EMPTY_PLACEHOLDER,i(),0),g.next(),x=d(b,3,"}"),b.braceNest--,b.braceNest>0&&S(g),b.inLinked&&b.braceNest===0&&(b.inLinked=!1),x;case"@":return b.braceNest>0&&f(Ne.UNTERMINATED_CLOSING_BRACE,i(),0),x=Be(g,b)||_(b),b.braceNest=0,x;default:let B=!0,J=!0,ne=!0;if($(g))return b.braceNest>0&&f(Ne.UNTERMINATED_CLOSING_BRACE,i(),0),x=d(b,1,me(g)),b.braceNest=0,b.inLinked=!1,x;if(b.braceNest>0&&(b.currentType===5||b.currentType===6||b.currentType===7))return f(Ne.UNTERMINATED_CLOSING_BRACE,i(),0),b.braceNest=0,Ae(g,b);if(B=C(g,b))return x=d(b,5,be(g)),S(g),x;if(J=T(g,b))return x=d(b,6,ve(g)),S(g),x;if(ne=L(g,b))return x=d(b,7,xe(g)),S(g),x;if(!B&&!J&&!ne)return x=d(b,13,K(g)),f(Ne.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,x.value),S(g),x;break}return x}function Be(g,b){const{currentType:x}=b;let M=null;const B=g.currentChar();switch((x===8||x===9||x===12||x===10)&&(B===Wt||B===Bn)&&f(Ne.INVALID_LINKED_FORMAT,i(),0),B){case"@":return g.next(),M=d(b,8,"@"),b.inLinked=!0,M;case".":return S(g),g.next(),d(b,9,".");case":":return S(g),g.next(),d(b,10,":");default:return $(g)?(M=d(b,1,me(g)),b.braceNest=0,b.inLinked=!1,M):A(g,b)||V(g,b)?(S(g),Be(g,b)):N(g,b)?(S(g),d(b,12,le(g))):U(g,b)?(S(g),B==="{"?Pe(g,b)||M:d(b,11,ae(g))):(x===8&&f(Ne.INVALID_LINKED_FORMAT,i(),0),b.braceNest=0,b.inLinked=!1,Ae(g,b))}}function Ae(g,b){let x={type:14};if(b.braceNest>0)return Pe(g,b)||_(b);if(b.inLinked)return Be(g,b)||_(b);switch(g.currentChar()){case"{":return Pe(g,b)||_(b);case"}":return f(Ne.UNBALANCED_CLOSING_BRACE,i(),0),g.next(),d(b,3,"}");case"@":return Be(g,b)||_(b);default:if($(g))return x=d(b,1,me(g)),b.braceNest=0,b.inLinked=!1,x;const{isModulo:B,hasSpace:J}=D(g);if(B)return J?d(b,0,he(g)):d(b,4,Ee(g));if(Y(g))return d(b,0,he(g));break}return x}function k(){const{currentType:g,offset:b,startLoc:x,endLoc:M}=l;return l.lastType=g,l.lastOffset=b,l.lastStartLoc=x,l.lastEndLoc=M,l.offset=r(),l.startLoc=i(),s.currentChar()===_s?d(l,14):Ae(s,l)}return{nextToken:k,currentOffset:r,currentPosition:i,context:u}}const V0="parser",U0=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function H0(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(t||n,16);return s<=55295||s>=57344?String.fromCodePoint(s):"�"}}}function W0(e={}){const t=e.location!==!1,{onError:n}=e;function s(y,I,C,T,...L){const A=y.currentPosition();if(A.offset+=T,A.column+=T,n){const N=t?tu(C,A):null,V=ri(I,N,{domain:V0,args:L});n(V)}}function r(y,I,C){const T={type:y};return t&&(T.start=I,T.end=I,T.loc={start:C,end:C}),T}function i(y,I,C,T){T&&(y.type=T),t&&(y.end=I,y.loc&&(y.loc.end=C))}function o(y,I){const C=y.context(),T=r(3,C.offset,C.startLoc);return T.value=I,i(T,y.currentOffset(),y.currentPosition()),T}function a(y,I){const C=y.context(),{lastOffset:T,lastStartLoc:L}=C,A=r(5,T,L);return A.index=parseInt(I,10),y.nextToken(),i(A,y.currentOffset(),y.currentPosition()),A}function l(y,I){const C=y.context(),{lastOffset:T,lastStartLoc:L}=C,A=r(4,T,L);return A.key=I,y.nextToken(),i(A,y.currentOffset(),y.currentPosition()),A}function u(y,I){const C=y.context(),{lastOffset:T,lastStartLoc:L}=C,A=r(9,T,L);return A.value=I.replace(U0,H0),y.nextToken(),i(A,y.currentOffset(),y.currentPosition()),A}function c(y){const I=y.nextToken(),C=y.context(),{lastOffset:T,lastStartLoc:L}=C,A=r(8,T,L);return I.type!==12?(s(y,Ne.UNEXPECTED_EMPTY_LINKED_MODIFIER,C.lastStartLoc,0),A.value="",i(A,T,L),{nextConsumeToken:I,node:A}):(I.value==null&&s(y,Ne.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Ln(I)),A.value=I.value||"",i(A,y.currentOffset(),y.currentPosition()),{node:A})}function f(y,I){const C=y.context(),T=r(7,C.offset,C.startLoc);return T.value=I,i(T,y.currentOffset(),y.currentPosition()),T}function d(y){const I=y.context(),C=r(6,I.offset,I.startLoc);let T=y.nextToken();if(T.type===9){const L=c(y);C.modifier=L.node,T=L.nextConsumeToken||y.nextToken()}switch(T.type!==10&&s(y,Ne.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ln(T)),T=y.nextToken(),T.type===2&&(T=y.nextToken()),T.type){case 11:T.value==null&&s(y,Ne.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ln(T)),C.key=f(y,T.value||"");break;case 5:T.value==null&&s(y,Ne.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ln(T)),C.key=l(y,T.value||"");break;case 6:T.value==null&&s(y,Ne.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ln(T)),C.key=a(y,T.value||"");break;case 7:T.value==null&&s(y,Ne.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ln(T)),C.key=u(y,T.value||"");break;default:s(y,Ne.UNEXPECTED_EMPTY_LINKED_KEY,I.lastStartLoc,0);const L=y.context(),A=r(7,L.offset,L.startLoc);return A.value="",i(A,L.offset,L.startLoc),C.key=A,i(C,L.offset,L.startLoc),{nextConsumeToken:T,node:C}}return i(C,y.currentOffset(),y.currentPosition()),{node:C}}function _(y){const I=y.context(),C=I.currentType===1?y.currentOffset():I.offset,T=I.currentType===1?I.endLoc:I.startLoc,L=r(2,C,T);L.items=[];let A=null;do{const U=A||y.nextToken();switch(A=null,U.type){case 0:U.value==null&&s(y,Ne.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ln(U)),L.items.push(o(y,U.value||""));break;case 6:U.value==null&&s(y,Ne.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ln(U)),L.items.push(a(y,U.value||""));break;case 5:U.value==null&&s(y,Ne.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ln(U)),L.items.push(l(y,U.value||""));break;case 7:U.value==null&&s(y,Ne.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ln(U)),L.items.push(u(y,U.value||""));break;case 8:const $=d(y);L.items.push($.node),A=$.nextConsumeToken||null;break}}while(I.currentType!==14&&I.currentType!==1);const N=I.currentType===1?I.lastOffset:y.currentOffset(),V=I.currentType===1?I.lastEndLoc:y.currentPosition();return i(L,N,V),L}function h(y,I,C,T){const L=y.context();let A=T.items.length===0;const N=r(1,I,C);N.cases=[],N.cases.push(T);do{const V=_(y);A||(A=V.items.length===0),N.cases.push(V)}while(L.currentType!==14);return A&&s(y,Ne.MUST_HAVE_MESSAGES_IN_PLURAL,C,0),i(N,y.currentOffset(),y.currentPosition()),N}function E(y){const I=y.context(),{offset:C,startLoc:T}=I,L=_(y);return I.currentType===14?L:h(y,C,T,L)}function S(y){const I=F0(y,om({},e)),C=I.context(),T=r(0,C.offset,C.startLoc);return t&&T.loc&&(T.loc.source=y),T.body=E(I),e.onCacheKey&&(T.cacheKey=e.onCacheKey(y)),C.currentType!==14&&s(I,Ne.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,y[C.offset]||""),i(T,I.currentOffset(),I.currentPosition()),T}return{parse:S}}function Ln(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function j0(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function rf(e,t){for(let n=0;n<e.length;n++)ac(e[n],t)}function ac(e,t){switch(e.type){case 1:rf(e.cases,t),t.helper("plural");break;case 2:rf(e.items,t);break;case 6:ac(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Y0(e,t={}){const n=j0(e);n.helper("normalize"),e.body&&ac(e.body,n);const s=n.context();e.helpers=Array.from(s.helpers)}function z0(e){const t=e.body;return t.type===2?of(t):t.cases.forEach(n=>of(n)),e}function of(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const s=e.items[n];if(!(s.type===3||s.type===9)||s.value==null)break;t.push(s.value)}if(t.length===e.items.length){e.static=am(t);for(let n=0;n<e.items.length;n++){const s=e.items[n];(s.type===3||s.type===9)&&delete s.value}}}}const B0="minifier";function wr(e){switch(e.t=e.type,e.type){case 0:const t=e;wr(t.body),t.b=t.body,delete t.body;break;case 1:const n=e,s=n.cases;for(let c=0;c<s.length;c++)wr(s[c]);n.c=s,delete n.cases;break;case 2:const r=e,i=r.items;for(let c=0;c<i.length;c++)wr(i[c]);r.i=i,delete r.items,r.static&&(r.s=r.static,delete r.static);break;case 3:case 9:case 8:case 7:const o=e;o.value&&(o.v=o.value,delete o.value);break;case 6:const a=e;wr(a.key),a.k=a.key,delete a.key,a.modifier&&(wr(a.modifier),a.m=a.modifier,delete a.modifier);break;case 5:const l=e;l.i=l.index,delete l.index;break;case 4:const u=e;u.k=u.key,delete u.key;break;default:throw ri(Ne.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:B0,args:[e.type]})}delete e.type}const G0="parser";function K0(e,t){const{sourceMap:n,filename:s,breakLineCode:r,needIndent:i}=t,o=t.location!==!1,a={filename:s,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:i,indentLevel:0};o&&e.loc&&(a.source=e.loc.source);const l=()=>a;function u(S,y){a.code+=S}function c(S,y=!0){const I=y?r:"";u(i?I+"  ".repeat(S):I)}function f(S=!0){const y=++a.indentLevel;S&&c(y)}function d(S=!0){const y=--a.indentLevel;S&&c(y)}function _(){c(a.indentLevel)}return{context:l,push:u,indent:f,deindent:d,newline:_,helper:S=>`_${S}`,needIndent:()=>a.needIndent}}function q0(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),jr(e,t.key),t.modifier?(e.push(", "),jr(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function X0(e,t){const{helper:n,needIndent:s}=e;e.push(`${n("normalize")}([`),e.indent(s());const r=t.items.length;for(let i=0;i<r&&(jr(e,t.items[i]),i!==r-1);i++)e.push(", ");e.deindent(s()),e.push("])")}function J0(e,t){const{helper:n,needIndent:s}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(s());const r=t.cases.length;for(let i=0;i<r&&(jr(e,t.cases[i]),i!==r-1);i++)e.push(", ");e.deindent(s()),e.push("])")}}function Q0(e,t){t.body?jr(e,t.body):e.push("null")}function jr(e,t){const{helper:n}=e;switch(t.type){case 0:Q0(e,t);break;case 1:J0(e,t);break;case 2:X0(e,t);break;case 6:q0(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw ri(Ne.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:G0,args:[t.type]})}}const Z0=(e,t={})=>{const n=nf(t.mode)?t.mode:"normal",s=nf(t.filename)?t.filename:"message.intl",r=!!t.sourceMap,i=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,o=t.needIndent?t.needIndent:n!=="arrow",a=e.helpers||[],l=K0(e,{mode:n,filename:s,sourceMap:r,breakLineCode:i,needIndent:o});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${am(a.map(f=>`${f}: _${f}`),", ")} } = ctx`),l.newline()),l.push("return "),jr(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:u,map:c}=l.context();return{ast:e,code:u,map:c?c.toJSON():void 0}};function ew(e,t={}){const n=om({},t),s=!!n.jit,r=!!n.minify,i=n.optimize==null?!0:n.optimize,a=W0(n).parse(e);return s?(i&&z0(a),r&&wr(a),{ast:a,code:""}):(Y0(a,n),Z0(a,n))}/*!
  * core-base v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function tw(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Qn().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Qn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Qn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Us=[];Us[0]={w:[0],i:[3,0],["["]:[4],o:[7]};Us[1]={w:[1],["."]:[2],["["]:[4],o:[7]};Us[2]={w:[2],i:[3,0],[0]:[3,0]};Us[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};Us[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};Us[5]={["'"]:[4,0],o:8,l:[5,0]};Us[6]={['"']:[4,0],o:8,l:[6,0]};const nw=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function sw(e){return nw.test(e)}function rw(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function iw(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function ow(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:sw(t)?rw(t):"*"+t}function aw(e){const t=[];let n=-1,s=0,r=0,i,o,a,l,u,c,f;const d=[];d[0]=()=>{o===void 0?o=a:o+=a},d[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},d[2]=()=>{d[0](),r++},d[3]=()=>{if(r>0)r--,s=4,d[0]();else{if(r=0,o===void 0||(o=ow(o),o===!1))return!1;d[1]()}};function _(){const h=e[n+1];if(s===5&&h==="'"||s===6&&h==='"')return n++,a="\\"+h,d[0](),!0}for(;s!==null;)if(n++,i=e[n],!(i==="\\"&&_())){if(l=iw(i),f=Us[s],u=f[l]||f.l||8,u===8||(s=u[0],u[1]!==void 0&&(c=d[u[1]],c&&(a=i,c()===!1))))return;if(s===7)return t}}const af=new Map;function lw(e,t){return rt(e)?e[t]:null}function uw(e,t){if(!rt(e))return null;let n=af.get(t);if(n||(n=aw(t),n&&af.set(t,n)),!n)return null;const s=n.length;let r=e,i=0;for(;i<s;){const o=r[n[i]];if(o===void 0)return null;r=o,i++}return r}const cw=e=>e,dw=e=>"",fw="text",pw=e=>e.length===0?"":T0(e),hw=S0;function lf(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function mw(e){const t=It(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(It(e.named.count)||It(e.named.n))?It(e.named.count)?e.named.count:It(e.named.n)?e.named.n:t:t}function _w(e,t){t.count||(t.count=e),t.n||(t.n=e)}function gw(e={}){const t=e.locale,n=mw(e),s=rt(e.pluralRules)&&de(t)&&bt(e.pluralRules[t])?e.pluralRules[t]:lf,r=rt(e.pluralRules)&&de(t)&&bt(e.pluralRules[t])?lf:void 0,i=y=>y[s(n,y.length,r)],o=e.list||[],a=y=>o[y],l=e.named||{};It(e.pluralIndex)&&_w(n,l);const u=y=>l[y];function c(y){const I=bt(e.messages)?e.messages(y):rt(e.messages)?e.messages[y]:!1;return I||(e.parent?e.parent.message(y):dw)}const f=y=>e.modifiers?e.modifiers[y]:cw,d=De(e.processor)&&bt(e.processor.normalize)?e.processor.normalize:pw,_=De(e.processor)&&bt(e.processor.interpolate)?e.processor.interpolate:hw,h=De(e.processor)&&de(e.processor.type)?e.processor.type:fw,S={list:a,named:u,plural:i,linked:(y,...I)=>{const[C,T]=I;let L="text",A="";I.length===1?rt(C)?(A=C.modifier||A,L=C.type||L):de(C)&&(A=C||A):I.length===2&&(de(C)&&(A=C||A),de(T)&&(L=T||L));const N=c(y)(S),V=L==="vnode"&&ct(N)&&A?N[0]:N;return A?f(A)(V,L):V},message:c,type:h,interpolate:_,normalize:d,values:Lt({},o,l)};return S}let Hi=null;function vw(e){Hi=e}function yw(e,t,n){Hi&&Hi.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const bw=ww("function:translate");function ww(e){return t=>Hi&&Hi.emit(e,t)}const Ew={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function Sw(e,t,n){return[...new Set([n,...ct(t)?t:rt(t)?Object.keys(t):de(t)?[t]:[n]])]}function lm(e,t,n){const s=de(n)?n:to,r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let i=r.__localeChainCache.get(s);if(!i){i=[];let o=[n];for(;ct(o);)o=uf(i,o,t);const a=ct(t)||!De(t)?t:t.default?t.default:null;o=de(a)?[a]:a,ct(o)&&uf(i,o,!1),r.__localeChainCache.set(s,i)}return i}function uf(e,t,n){let s=!0;for(let r=0;r<t.length&&He(s);r++){const i=t[r];de(i)&&(s=Tw(e,t[r],n))}return s}function Tw(e,t,n){let s;const r=t.split("-");do{const i=r.join("-");s=Iw(e,i,n),r.splice(-1,1)}while(r.length&&s===!0);return s}function Iw(e,t,n){let s=!1;if(!e.includes(t)&&(s=!0,t)){s=t[t.length-1]!=="!";const r=t.replace(/!/g,"");e.push(r),(ct(n)||De(n))&&n[r]&&(s=n[r])}return s}const kw="9.4.1",Na=-1,to="en-US",cf="",df=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Ow(){return{upper:(e,t)=>t==="text"&&de(e)?e.toUpperCase():t==="vnode"&&rt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&de(e)?e.toLowerCase():t==="vnode"&&rt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&de(e)?df(e):t==="vnode"&&rt(e)&&"__v_isVNode"in e?df(e.children):e}}let um;function ff(e){um=e}let cm;function xw(e){cm=e}let dm;function Aw(e){dm=e}let fm=null;const pf=e=>{fm=e},Cw=()=>fm;let pm=null;const hf=e=>{pm=e},$w=()=>pm;let mf=0;function Nw(e={}){const t=bt(e.onWarn)?e.onWarn:I0,n=de(e.version)?e.version:kw,s=de(e.locale)?e.locale:to,r=ct(e.fallbackLocale)||De(e.fallbackLocale)||de(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,i=De(e.messages)?e.messages:{[s]:{}},o=De(e.datetimeFormats)?e.datetimeFormats:{[s]:{}},a=De(e.numberFormats)?e.numberFormats:{[s]:{}},l=Lt({},e.modifiers||{},Ow()),u=e.pluralRules||{},c=bt(e.missing)?e.missing:null,f=He(e.missingWarn)||Ps(e.missingWarn)?e.missingWarn:!0,d=He(e.fallbackWarn)||Ps(e.fallbackWarn)?e.fallbackWarn:!0,_=!!e.fallbackFormat,h=!!e.unresolving,E=bt(e.postTranslation)?e.postTranslation:null,S=De(e.processor)?e.processor:null,y=He(e.warnHtmlMessage)?e.warnHtmlMessage:!0,I=!!e.escapeParameter,C=bt(e.messageCompiler)?e.messageCompiler:um,T=bt(e.messageResolver)?e.messageResolver:cm||lw,L=bt(e.localeFallbacker)?e.localeFallbacker:dm||Sw,A=rt(e.fallbackContext)?e.fallbackContext:void 0,N=e,V=rt(N.__datetimeFormatters)?N.__datetimeFormatters:new Map,U=rt(N.__numberFormatters)?N.__numberFormatters:new Map,$=rt(N.__meta)?N.__meta:{};mf++;const D={version:n,cid:mf,locale:s,fallbackLocale:r,messages:i,modifiers:l,pluralRules:u,missing:c,missingWarn:f,fallbackWarn:d,fallbackFormat:_,unresolving:h,postTranslation:E,processor:S,warnHtmlMessage:y,escapeParameter:I,messageCompiler:C,messageResolver:T,localeFallbacker:L,fallbackContext:A,onWarn:t,__meta:$};return D.datetimeFormats=o,D.numberFormats=a,D.__datetimeFormatters=V,D.__numberFormatters=U,__INTLIFY_PROD_DEVTOOLS__&&yw(D,n,$),D}function lc(e,t,n,s,r){const{missing:i,onWarn:o}=e;if(i!==null){const a=i(e,n,t,r);return de(a)?a:t}else return t}function hi(e,t,n){const s=e;s.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function gl(e){return n=>Lw(n,e)}function Lw(e,t){const n=t.b||t.body;if((n.t||n.type)===1){const s=n,r=s.c||s.cases;return e.plural(r.reduce((i,o)=>[...i,_f(e,o)],[]))}else return _f(e,n)}function _f(e,t){const n=t.s||t.static;if(n)return e.type==="text"?n:e.normalize([n]);{const s=(t.i||t.items).reduce((r,i)=>[...r,nu(e,i)],[]);return e.normalize(s)}}function nu(e,t){const n=t.t||t.type;switch(n){case 3:const s=t;return s.v||s.value;case 9:const r=t;return r.v||r.value;case 4:const i=t;return e.interpolate(e.named(i.k||i.key));case 5:const o=t;return e.interpolate(e.list(o.i||o.index));case 6:const a=t,l=a.m||a.modifier;return e.linked(nu(e,a.k||a.key),l?nu(e,l):void 0,e.type);case 7:const u=t;return u.v||u.value;case 8:const c=t;return c.v||c.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const hm=Ne.__EXTEND_POINT__,To=oc(hm),Ss={INVALID_ARGUMENT:hm,INVALID_DATE_ARGUMENT:To(),INVALID_ISO_DATE_ARGUMENT:To(),NOT_SUPPORT_NON_STRING_MESSAGE:To(),__EXTEND_POINT__:To()};function Zs(e){return ri(e,null,void 0)}const mm=e=>e;let Or=Object.create(null);const Wi=e=>rt(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function _m(e,t={}){let n=!1;const s=t.onError||$0;return t.onError=r=>{n=!0,s(r)},{...ew(e,t),detectError:n}}const Pw=(e,t)=>{if(!de(e))throw Zs(Ss.NOT_SUPPORT_NON_STRING_MESSAGE);{He(t.warnHtmlMessage)&&t.warnHtmlMessage;const s=(t.onCacheKey||mm)(e),r=Or[s];if(r)return r;const{code:i,detectError:o}=_m(e,t),a=new Function(`return ${i}`)();return o?a:Or[s]=a}};function Dw(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&de(e)){He(t.warnHtmlMessage)&&t.warnHtmlMessage;const s=(t.onCacheKey||mm)(e),r=Or[s];if(r)return r;const{ast:i,detectError:o}=_m(e,{...t,location:!1,jit:!0}),a=gl(i);return o?a:Or[s]=a}else{const n=e.cacheKey;if(n){const s=Or[n];return s||(Or[n]=gl(e))}else return gl(e)}}const gf=()=>"",vn=e=>bt(e);function vf(e,...t){const{fallbackFormat:n,postTranslation:s,unresolving:r,messageCompiler:i,fallbackLocale:o,messages:a}=e,[l,u]=su(...t),c=He(u.missingWarn)?u.missingWarn:e.missingWarn,f=He(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,d=He(u.escapeParameter)?u.escapeParameter:e.escapeParameter,_=!!u.resolvedMessage,h=de(u.default)||He(u.default)?He(u.default)?i?l:()=>l:u.default:n?i?l:()=>l:"",E=n||h!=="",S=de(u.locale)?u.locale:e.locale;d&&Mw(u);let[y,I,C]=_?[l,S,a[S]||{}]:gm(e,l,S,o,f,c),T=y,L=l;if(!_&&!(de(T)||Wi(T)||vn(T))&&E&&(T=h,L=T),!_&&(!(de(T)||Wi(T)||vn(T))||!de(I)))return r?Na:l;let A=!1;const N=()=>{A=!0},V=vn(T)?T:vm(e,l,I,T,L,N);if(A)return T;const U=Vw(e,I,C,u),$=gw(U),D=Rw(e,V,$),Y=s?s(D,l):D;if(__INTLIFY_PROD_DEVTOOLS__){const q={timestamp:Date.now(),key:de(l)?l:vn(T)?T.key:"",locale:I||(vn(T)?T.locale:""),format:de(T)?T:vn(T)?T.source:"",message:Y};q.meta=Lt({},e.__meta,Cw()||{}),bw(q)}return Y}function Mw(e){ct(e.list)?e.list=e.list.map(t=>de(t)?tf(t):t):rt(e.named)&&Object.keys(e.named).forEach(t=>{de(e.named[t])&&(e.named[t]=tf(e.named[t]))})}function gm(e,t,n,s,r,i){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:u}=e,c=u(e,s,n);let f={},d,_=null;const h="translate";for(let E=0;E<c.length&&(d=c[E],f=o[d]||{},(_=l(f,t))===null&&(_=f[t]),!(de(_)||Wi(_)||vn(_)));E++){const S=lc(e,t,d,i,h);S!==t&&(_=S)}return[_,d,f]}function vm(e,t,n,s,r,i){const{messageCompiler:o,warnHtmlMessage:a}=e;if(vn(s)){const u=s;return u.locale=u.locale||n,u.key=u.key||t,u}if(o==null){const u=()=>s;return u.locale=n,u.key=t,u}const l=o(s,Fw(e,n,r,s,a,i));return l.locale=n,l.key=t,l.source=s,l}function Rw(e,t,n){return t(n)}function su(...e){const[t,n,s]=e,r={};if(!de(t)&&!It(t)&&!vn(t)&&!Wi(t))throw Zs(Ss.INVALID_ARGUMENT);const i=It(t)?String(t):(vn(t),t);return It(n)?r.plural=n:de(n)?r.default=n:De(n)&&!$a(n)?r.named=n:ct(n)&&(r.list=n),It(s)?r.plural=s:de(s)?r.default=s:De(s)&&Lt(r,s),[i,r]}function Fw(e,t,n,s,r,i){return{locale:t,key:n,warnHtmlMessage:r,onError:o=>{throw i&&i(o),o},onCacheKey:o=>y0(t,n,o)}}function Vw(e,t,n,s){const{modifiers:r,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,d={locale:t,modifiers:r,pluralRules:i,messages:_=>{let h=o(n,_);if(h==null&&c){const[,,E]=gm(c,_,t,a,l,u);h=o(E,_)}if(de(h)||Wi(h)){let E=!1;const y=vm(e,_,t,h,_,()=>{E=!0});return E?gf:y}else return vn(h)?h:gf}};return e.processor&&(d.processor=e.processor),s.list&&(d.list=s.list),s.named&&(d.named=s.named),It(s.plural)&&(d.pluralIndex=s.plural),d}function yf(e,...t){const{datetimeFormats:n,unresolving:s,fallbackLocale:r,onWarn:i,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,u,c,f]=ru(...t),d=He(c.missingWarn)?c.missingWarn:e.missingWarn;He(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const _=!!c.part,h=de(c.locale)?c.locale:e.locale,E=o(e,r,h);if(!de(l)||l==="")return new Intl.DateTimeFormat(h,f).format(u);let S={},y,I=null;const C="datetime format";for(let A=0;A<E.length&&(y=E[A],S=n[y]||{},I=S[l],!De(I));A++)lc(e,l,y,d,C);if(!De(I)||!de(y))return s?Na:l;let T=`${y}__${l}`;$a(f)||(T=`${T}__${JSON.stringify(f)}`);let L=a.get(T);return L||(L=new Intl.DateTimeFormat(y,Lt({},I,f)),a.set(T,L)),_?L.formatToParts(u):L.format(u)}const ym=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function ru(...e){const[t,n,s,r]=e,i={};let o={},a;if(de(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Zs(Ss.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(u);try{a.toISOString()}catch{throw Zs(Ss.INVALID_ISO_DATE_ARGUMENT)}}else if(w0(t)){if(isNaN(t.getTime()))throw Zs(Ss.INVALID_DATE_ARGUMENT);a=t}else if(It(t))a=t;else throw Zs(Ss.INVALID_ARGUMENT);return de(n)?i.key=n:De(n)&&Object.keys(n).forEach(l=>{ym.includes(l)?o[l]=n[l]:i[l]=n[l]}),de(s)?i.locale=s:De(s)&&(o=s),De(r)&&(o=r),[i.key||"",a,i,o]}function bf(e,t,n){const s=e;for(const r in n){const i=`${t}__${r}`;s.__datetimeFormatters.has(i)&&s.__datetimeFormatters.delete(i)}}function wf(e,...t){const{numberFormats:n,unresolving:s,fallbackLocale:r,onWarn:i,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,u,c,f]=iu(...t),d=He(c.missingWarn)?c.missingWarn:e.missingWarn;He(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const _=!!c.part,h=de(c.locale)?c.locale:e.locale,E=o(e,r,h);if(!de(l)||l==="")return new Intl.NumberFormat(h,f).format(u);let S={},y,I=null;const C="number format";for(let A=0;A<E.length&&(y=E[A],S=n[y]||{},I=S[l],!De(I));A++)lc(e,l,y,d,C);if(!De(I)||!de(y))return s?Na:l;let T=`${y}__${l}`;$a(f)||(T=`${T}__${JSON.stringify(f)}`);let L=a.get(T);return L||(L=new Intl.NumberFormat(y,Lt({},I,f)),a.set(T,L)),_?L.formatToParts(u):L.format(u)}const bm=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function iu(...e){const[t,n,s,r]=e,i={};let o={};if(!It(t))throw Zs(Ss.INVALID_ARGUMENT);const a=t;return de(n)?i.key=n:De(n)&&Object.keys(n).forEach(l=>{bm.includes(l)?o[l]=n[l]:i[l]=n[l]}),de(s)?i.locale=s:De(s)&&(o=s),De(r)&&(o=r),[i.key||"",a,i,o]}function Ef(e,t,n){const s=e;for(const r in n){const i=`${t}__${r}`;s.__numberFormatters.has(i)&&s.__numberFormatters.delete(i)}}tw();/*!
  * vue-i18n v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const Uw="9.4.1";function Hw(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Qn().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Qn().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Qn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Qn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Qn().__INTLIFY_PROD_DEVTOOLS__=!1)}const wm=Ew.__EXTEND_POINT__,gs=oc(wm);gs(),gs(),gs(),gs(),gs(),gs(),gs(),gs();const Em=Ss.__EXTEND_POINT__,Gt=oc(Em),Et={UNEXPECTED_RETURN_TYPE:Em,INVALID_ARGUMENT:Gt(),MUST_BE_CALL_SETUP_TOP:Gt(),NOT_INSTALLED:Gt(),NOT_AVAILABLE_IN_LEGACY_MODE:Gt(),REQUIRED_VALUE:Gt(),INVALID_VALUE:Gt(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Gt(),NOT_INSTALLED_WITH_PROVIDE:Gt(),UNEXPECTED_ERROR:Gt(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Gt(),BRIDGE_SUPPORT_VUE_2_ONLY:Gt(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Gt(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Gt(),__EXTEND_POINT__:Gt()};function Ot(e,...t){return ri(e,null,void 0)}const ou=Vs("__translateVNode"),au=Vs("__datetimeParts"),lu=Vs("__numberParts"),Sm=Vs("__setPluralRules"),Tm=Vs("__injectWithOption"),uu=Vs("__dispose");function cu(e){if(!rt(e))return e;for(const t in e)if(ic(e,t))if(!t.includes("."))rt(e[t])&&cu(e[t]);else{const n=t.split("."),s=n.length-1;let r=e,i=!1;for(let o=0;o<s;o++){if(n[o]in r||(r[n[o]]={}),!rt(r[n[o]])){i=!0;break}r=r[n[o]]}i||(r[n[s]]=e[t],delete e[t]),rt(r[n[s]])&&cu(r[n[s]])}return e}function La(e,t){const{messages:n,__i18n:s,messageResolver:r,flatJson:i}=t,o=De(n)?n:ct(s)?{}:{[e]:{}};if(ct(s)&&s.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:u}=a;l?(o[l]=o[l]||{},ki(u,o[l])):ki(u,o)}else de(a)&&ki(JSON.parse(a),o)}),r==null&&i)for(const a in o)ic(o,a)&&cu(o[a]);return o}const Io=e=>!rt(e)||ct(e);function ki(e,t){if(Io(e)||Io(t))throw Ot(Et.INVALID_VALUE);for(const n in e)ic(e,n)&&(Io(e[n])||Io(t[n])?t[n]=e[n]:ki(e[n],t[n]))}function Im(e){return e.type}function km(e,t,n){let s=rt(t.messages)?t.messages:{};"__i18nGlobal"in n&&(s=La(e.locale.value,{messages:s,__i18n:n.__i18nGlobal}));const r=Object.keys(s);r.length&&r.forEach(i=>{e.mergeLocaleMessage(i,s[i])});{if(rt(t.datetimeFormats)){const i=Object.keys(t.datetimeFormats);i.length&&i.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(rt(t.numberFormats)){const i=Object.keys(t.numberFormats);i.length&&i.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function Sf(e){return H(eo,null,e,0)}const Tf="__INTLIFY_META__";let If=0;function kf(e){return(t,n,s,r)=>e(n,s,Ur()||void 0,r)}const Ww=()=>{const e=Ur();let t=null;return e&&(t=Im(e)[Tf])?{[Tf]:t}:null};function uc(e={},t){const{__root:n,__injectWithOption:s}=e,r=n===void 0;let i=He(e.inheritLocale)?e.inheritLocale:!0;const o=W(n&&i?n.locale.value:de(e.locale)?e.locale:to),a=W(n&&i?n.fallbackLocale.value:de(e.fallbackLocale)||ct(e.fallbackLocale)||De(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o.value),l=W(La(o.value,e)),u=W(De(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),c=W(De(e.numberFormats)?e.numberFormats:{[o.value]:{}});let f=n?n.missingWarn:He(e.missingWarn)||Ps(e.missingWarn)?e.missingWarn:!0,d=n?n.fallbackWarn:He(e.fallbackWarn)||Ps(e.fallbackWarn)?e.fallbackWarn:!0,_=n?n.fallbackRoot:He(e.fallbackRoot)?e.fallbackRoot:!0,h=!!e.fallbackFormat,E=bt(e.missing)?e.missing:null,S=bt(e.missing)?kf(e.missing):null,y=bt(e.postTranslation)?e.postTranslation:null,I=n?n.warnHtmlMessage:He(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter;const T=n?n.modifiers:De(e.modifiers)?e.modifiers:{};let L=e.pluralRules||n&&n.pluralRules,A;A=(()=>{r&&hf(null);const R={version:Uw,locale:o.value,fallbackLocale:a.value,messages:l.value,modifiers:T,pluralRules:L,missing:S===null?void 0:S,missingWarn:f,fallbackWarn:d,fallbackFormat:h,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:I,escapeParameter:C,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};R.datetimeFormats=u.value,R.numberFormats=c.value,R.__datetimeFormatters=De(A)?A.__datetimeFormatters:void 0,R.__numberFormatters=De(A)?A.__numberFormatters:void 0;const j=Nw(R);return r&&hf(j),j})(),hi(A,o.value,a.value);function V(){return[o.value,a.value,l.value,u.value,c.value]}const U=P({get:()=>o.value,set:R=>{o.value=R,A.locale=o.value}}),$=P({get:()=>a.value,set:R=>{a.value=R,A.fallbackLocale=a.value,hi(A,o.value,R)}}),D=P(()=>l.value),Y=P(()=>u.value),q=P(()=>c.value);function G(){return bt(y)?y:null}function ee(R){y=R,A.postTranslation=R}function se(){return E}function ue(R){R!==null&&(S=kf(R)),E=R,A.missing=S}const Ee=(R,j,we,Se,Ke,We)=>{V();let at;try{__INTLIFY_PROD_DEVTOOLS__&&pf(Ww()),r||(A.fallbackContext=n?$w():void 0),at=R(A)}finally{__INTLIFY_PROD_DEVTOOLS__&&pf(null),r||(A.fallbackContext=void 0)}if(It(at)&&at===Na){const[en,zs]=j();return n&&_?Se(n):Ke(en)}else{if(We(at))return at;throw Ot(Et.UNEXPECTED_RETURN_TYPE)}};function he(...R){return Ee(j=>Reflect.apply(vf,null,[j,...R]),()=>su(...R),"translate",j=>Reflect.apply(j.t,j,[...R]),j=>j,j=>de(j))}function be(...R){const[j,we,Se]=R;if(Se&&!rt(Se))throw Ot(Et.INVALID_ARGUMENT);return he(j,we,Lt({resolvedMessage:!0},Se||{}))}function ve(...R){return Ee(j=>Reflect.apply(yf,null,[j,...R]),()=>ru(...R),"datetime format",j=>Reflect.apply(j.d,j,[...R]),()=>cf,j=>de(j))}function xe(...R){return Ee(j=>Reflect.apply(wf,null,[j,...R]),()=>iu(...R),"number format",j=>Reflect.apply(j.n,j,[...R]),()=>cf,j=>de(j))}function ze(R){return R.map(j=>de(j)||It(j)||He(j)?Sf(String(j)):j)}const K={normalize:ze,interpolate:R=>R,type:"vnode"};function le(...R){return Ee(j=>{let we;const Se=j;try{Se.processor=K,we=Reflect.apply(vf,null,[Se,...R])}finally{Se.processor=null}return we},()=>su(...R),"translate",j=>j[ou](...R),j=>[Sf(j)],j=>ct(j))}function ae(...R){return Ee(j=>Reflect.apply(wf,null,[j,...R]),()=>iu(...R),"number format",j=>j[lu](...R),()=>[],j=>de(j)||ct(j))}function me(...R){return Ee(j=>Reflect.apply(yf,null,[j,...R]),()=>ru(...R),"datetime format",j=>j[au](...R),()=>[],j=>de(j)||ct(j))}function Pe(R){L=R,A.pluralRules=L}function Be(R,j){const we=de(j)?j:o.value,Se=g(we);return A.messageResolver(Se,R)!==null}function Ae(R){let j=null;const we=lm(A,a.value,o.value);for(let Se=0;Se<we.length;Se++){const Ke=l.value[we[Se]]||{},We=A.messageResolver(Ke,R);if(We!=null){j=We;break}}return j}function k(R){const j=Ae(R);return j??(n?n.tm(R)||{}:{})}function g(R){return l.value[R]||{}}function b(R,j){l.value[R]=j,A.messages=l.value}function x(R,j){l.value[R]=l.value[R]||{},ki(j,l.value[R]),A.messages=l.value}function M(R){return u.value[R]||{}}function B(R,j){u.value[R]=j,A.datetimeFormats=u.value,bf(A,R,j)}function J(R,j){u.value[R]=Lt(u.value[R]||{},j),A.datetimeFormats=u.value,bf(A,R,j)}function ne(R){return c.value[R]||{}}function re(R,j){c.value[R]=j,A.numberFormats=c.value,Ef(A,R,j)}function Z(R,j){c.value[R]=Lt(c.value[R]||{},j),A.numberFormats=c.value,Ef(A,R,j)}If++,n&&eu&&(Le(n.locale,R=>{i&&(o.value=R,A.locale=R,hi(A,o.value,a.value))}),Le(n.fallbackLocale,R=>{i&&(a.value=R,A.fallbackLocale=R,hi(A,o.value,a.value))}));const ce={id:If,locale:U,fallbackLocale:$,get inheritLocale(){return i},set inheritLocale(R){i=R,R&&n&&(o.value=n.locale.value,a.value=n.fallbackLocale.value,hi(A,o.value,a.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:D,get modifiers(){return T},get pluralRules(){return L||{}},get isGlobal(){return r},get missingWarn(){return f},set missingWarn(R){f=R,A.missingWarn=f},get fallbackWarn(){return d},set fallbackWarn(R){d=R,A.fallbackWarn=d},get fallbackRoot(){return _},set fallbackRoot(R){_=R},get fallbackFormat(){return h},set fallbackFormat(R){h=R,A.fallbackFormat=h},get warnHtmlMessage(){return I},set warnHtmlMessage(R){I=R,A.warnHtmlMessage=R},get escapeParameter(){return C},set escapeParameter(R){C=R,A.escapeParameter=R},t:he,getLocaleMessage:g,setLocaleMessage:b,mergeLocaleMessage:x,getPostTranslationHandler:G,setPostTranslationHandler:ee,getMissingHandler:se,setMissingHandler:ue,[Sm]:Pe};return ce.datetimeFormats=Y,ce.numberFormats=q,ce.rt=be,ce.te=Be,ce.tm=k,ce.d=ve,ce.n=xe,ce.getDateTimeFormat=M,ce.setDateTimeFormat=B,ce.mergeDateTimeFormat=J,ce.getNumberFormat=ne,ce.setNumberFormat=re,ce.mergeNumberFormat=Z,ce[Tm]=s,ce[ou]=le,ce[au]=me,ce[lu]=ae,ce}function jw(e){const t=de(e.locale)?e.locale:to,n=de(e.fallbackLocale)||ct(e.fallbackLocale)||De(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,s=bt(e.missing)?e.missing:void 0,r=He(e.silentTranslationWarn)||Ps(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,i=He(e.silentFallbackWarn)||Ps(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=He(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=De(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,c=bt(e.postTranslation)?e.postTranslation:void 0,f=de(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,d=!!e.escapeParameterHtml,_=He(e.sync)?e.sync:!0;let h=e.messages;if(De(e.sharedMessages)){const L=e.sharedMessages;h=Object.keys(L).reduce((N,V)=>{const U=N[V]||(N[V]={});return Lt(U,L[V]),N},h||{})}const{__i18n:E,__root:S,__injectWithOption:y}=e,I=e.datetimeFormats,C=e.numberFormats,T=e.flatJson;return{locale:t,fallbackLocale:n,messages:h,flatJson:T,datetimeFormats:I,numberFormats:C,missing:s,missingWarn:r,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:f,escapeParameter:d,messageResolver:e.messageResolver,inheritLocale:_,__i18n:E,__root:S,__injectWithOption:y}}function du(e={},t){{const n=uc(jw(e)),{__extender:s}=e,r={id:n.id,get locale(){return n.locale.value},set locale(i){n.locale.value=i},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(i){n.fallbackLocale.value=i},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(i){},get missing(){return n.getMissingHandler()},set missing(i){n.setMissingHandler(i)},get silentTranslationWarn(){return He(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(i){n.missingWarn=He(i)?!i:i},get silentFallbackWarn(){return He(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(i){n.fallbackWarn=He(i)?!i:i},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(i){n.fallbackFormat=i},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(i){n.setPostTranslationHandler(i)},get sync(){return n.inheritLocale},set sync(i){n.inheritLocale=i},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){n.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(i){n.escapeParameter=i},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(i){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...i){const[o,a,l]=i,u={};let c=null,f=null;if(!de(o))throw Ot(Et.INVALID_ARGUMENT);const d=o;return de(a)?u.locale=a:ct(a)?c=a:De(a)&&(f=a),ct(l)?c=l:De(l)&&(f=l),Reflect.apply(n.t,n,[d,c||f||{},u])},rt(...i){return Reflect.apply(n.rt,n,[...i])},tc(...i){const[o,a,l]=i,u={plural:1};let c=null,f=null;if(!de(o))throw Ot(Et.INVALID_ARGUMENT);const d=o;return de(a)?u.locale=a:It(a)?u.plural=a:ct(a)?c=a:De(a)&&(f=a),de(l)?u.locale=l:ct(l)?c=l:De(l)&&(f=l),Reflect.apply(n.t,n,[d,c||f||{},u])},te(i,o){return n.te(i,o)},tm(i){return n.tm(i)},getLocaleMessage(i){return n.getLocaleMessage(i)},setLocaleMessage(i,o){n.setLocaleMessage(i,o)},mergeLocaleMessage(i,o){n.mergeLocaleMessage(i,o)},d(...i){return Reflect.apply(n.d,n,[...i])},getDateTimeFormat(i){return n.getDateTimeFormat(i)},setDateTimeFormat(i,o){n.setDateTimeFormat(i,o)},mergeDateTimeFormat(i,o){n.mergeDateTimeFormat(i,o)},n(...i){return Reflect.apply(n.n,n,[...i])},getNumberFormat(i){return n.getNumberFormat(i)},setNumberFormat(i,o){n.setNumberFormat(i,o)},mergeNumberFormat(i,o){n.mergeNumberFormat(i,o)},getChoiceIndex(i,o){return-1}};return r.__extender=s,r}}const cc={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Yw({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((s,r)=>[...s,...r.type===ie?r.children:[r]],[]):t.reduce((n,s)=>{const r=e[s];return r&&(n[s]=r()),n},{})}function Om(e){return ie}const zw=fe({name:"i18n-t",props:Lt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>It(e)||!isNaN(e)}},cc),setup(e,t){const{slots:n,attrs:s}=t,r=e.i18n||Pa({useScope:e.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(f=>f!=="_"),o={};e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=de(e.plural)?+e.plural:e.plural);const a=Yw(t,i),l=r[ou](e.keypath,a,o),u=Lt({},s),c=de(e.tag)||rt(e.tag)?e.tag:Om();return Ca(c,u,l)}}}),Of=zw;function Bw(e){return ct(e)&&!de(e[0])}function xm(e,t,n,s){const{slots:r,attrs:i}=t;return()=>{const o={part:!0};let a={};e.locale&&(o.locale=e.locale),de(e.format)?o.key=e.format:rt(e.format)&&(de(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((d,_)=>n.includes(_)?Lt({},d,{[_]:e.format[_]}):d,{}));const l=s(e.value,o,a);let u=[o.key];ct(l)?u=l.map((d,_)=>{const h=r[d.type],E=h?h({[d.type]:d.value,index:_,parts:l}):[d.value];return Bw(E)&&(E[0].key=`${d.type}-${_}`),E}):de(l)&&(u=[l]);const c=Lt({},i),f=de(e.tag)||rt(e.tag)?e.tag:Om();return Ca(f,c,u)}}const Gw=fe({name:"i18n-n",props:Lt({value:{type:Number,required:!0},format:{type:[String,Object]}},cc),setup(e,t){const n=e.i18n||Pa({useScope:"parent",__useComponent:!0});return xm(e,t,bm,(...s)=>n[lu](...s))}}),xf=Gw,Kw=fe({name:"i18n-d",props:Lt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},cc),setup(e,t){const n=e.i18n||Pa({useScope:"parent",__useComponent:!0});return xm(e,t,ym,(...s)=>n[au](...s))}}),Af=Kw;function qw(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const s=n.__getInstance(t);return s!=null?s.__composer:e.global.__composer}}function Xw(e){const t=o=>{const{instance:a,modifiers:l,value:u}=o;if(!a||!a.$)throw Ot(Et.UNEXPECTED_ERROR);const c=qw(e,a.$),f=Cf(u);return[Reflect.apply(c.t,c,[...$f(f)]),c]};return{created:(o,a)=>{const[l,u]=t(a);eu&&e.global===u&&(o.__i18nWatcher=Le(u.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=u,o.textContent=l},unmounted:o=>{eu&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,u=Cf(a);o.textContent=Reflect.apply(l.t,l,[...$f(u)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function Cf(e){if(de(e))return{path:e};if(De(e)){if(!("path"in e))throw Ot(Et.REQUIRED_VALUE,"path");return e}else throw Ot(Et.INVALID_VALUE)}function $f(e){const{path:t,locale:n,args:s,choice:r,plural:i}=e,o={},a=s||{};return de(n)&&(o.locale=n),It(r)&&(o.plural=r),It(i)&&(o.plural=i),[t,a,o]}function Jw(e,t,...n){const s=De(n[0])?n[0]:{},r=!!s.useI18nComponentName;(He(s.globalInstall)?s.globalInstall:!0)&&([r?"i18n":Of.name,"I18nT"].forEach(o=>e.component(o,Of)),[xf.name,"I18nN"].forEach(o=>e.component(o,xf)),[Af.name,"I18nD"].forEach(o=>e.component(o,Af))),e.directive("t",Xw(t))}function Qw(e,t,n){return{beforeCreate(){const s=Ur();if(!s)throw Ot(Et.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const i=r.i18n;if(r.__i18n&&(i.__i18n=r.__i18n),i.__root=t,this===this.$root)this.$i18n=Nf(e,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=du(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=Nf(e,r);else{this.$i18n=du({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=e;r.__i18nGlobal&&km(t,r,r),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$tc=(...i)=>this.$i18n.tc(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=Ur();if(!s)throw Ot(Et.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(s),delete this.$i18n}}}function Nf(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Sm](t.pluralizationRules||e.pluralizationRules);const n=La(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(s=>e.mergeLocaleMessage(s,n[s])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(s=>e.mergeDateTimeFormat(s,t.datetimeFormats[s])),t.numberFormats&&Object.keys(t.numberFormats).forEach(s=>e.mergeNumberFormat(s,t.numberFormats[s])),e}const Zw=Vs("global-vue-i18n");function eE(e={},t){const n=__VUE_I18N_LEGACY_API__&&He(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,s=He(e.globalInjection)?e.globalInjection:!0,r=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,i=new Map,[o,a]=tE(e,n),l=Vs("");function u(d){return i.get(d)||null}function c(d,_){i.set(d,_)}function f(d){i.delete(d)}{const d={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return r},async install(_,...h){if(_.__VUE_I18N_SYMBOL__=l,_.provide(_.__VUE_I18N_SYMBOL__,d),De(h[0])){const y=h[0];d.__composerExtend=y.__composerExtend,d.__vueI18nExtend=y.__vueI18nExtend}let E=null;!n&&s&&(E=cE(_,d.global)),__VUE_I18N_FULL_INSTALL__&&Jw(_,d,...h),__VUE_I18N_LEGACY_API__&&n&&_.mixin(Qw(a,a.__composer,d));const S=_.unmount;_.unmount=()=>{E&&E(),d.dispose(),S()}},get global(){return a},dispose(){o.stop()},__instances:i,__getInstance:u,__setInstance:c,__deleteInstance:f};return d}}function Pa(e={}){const t=Ur();if(t==null)throw Ot(Et.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Ot(Et.NOT_INSTALLED);const n=nE(t),s=rE(n),r=Im(t),i=sE(e,r);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw Ot(Et.NOT_AVAILABLE_IN_LEGACY_MODE);return lE(t,i,s,e)}if(i==="global")return km(s,e,r),s;if(i==="parent"){let l=iE(n,t,e.__useComponent);return l==null&&(l=s),l}const o=n;let a=o.__getInstance(t);if(a==null){const l=Lt({},e);"__i18n"in r&&(l.__i18n=r.__i18n),s&&(l.__root=s),a=uc(l),o.__composerExtend&&(a[uu]=o.__composerExtend(a)),aE(o,t,a),o.__setInstance(t,a)}return a}function tE(e,t,n){const s=qv();{const r=__VUE_I18N_LEGACY_API__&&t?s.run(()=>du(e)):s.run(()=>uc(e));if(r==null)throw Ot(Et.UNEXPECTED_ERROR);return[s,r]}}function nE(e){{const t=Fn(e.isCE?Zw:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Ot(e.isCE?Et.NOT_INSTALLED_WITH_PROVIDE:Et.UNEXPECTED_ERROR);return t}}function sE(e,t){return $a(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function rE(e){return e.mode==="composition"?e.global:e.global.__composer}function iE(e,t,n=!1){let s=null;const r=t.root;let i=oE(t,n);for(;i!=null;){const o=e;if(e.mode==="composition")s=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(s=a.__composer,n&&s&&!s[Tm]&&(s=null))}if(s!=null||r===i)break;i=i.parent}return s}function oE(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function aE(e,t,n){Ve(()=>{},t),Zi(()=>{const s=n;e.__deleteInstance(t);const r=s[uu];r&&(r(),delete s[uu])},t)}function lE(e,t,n,s={}){const r=t==="local",i=Oh(null);if(r&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw Ot(Et.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=He(s.inheritLocale)?s.inheritLocale:!de(s.locale),a=W(!r||o?n.locale.value:de(s.locale)?s.locale:to),l=W(!r||o?n.fallbackLocale.value:de(s.fallbackLocale)||ct(s.fallbackLocale)||De(s.fallbackLocale)||s.fallbackLocale===!1?s.fallbackLocale:a.value),u=W(La(a.value,s)),c=W(De(s.datetimeFormats)?s.datetimeFormats:{[a.value]:{}}),f=W(De(s.numberFormats)?s.numberFormats:{[a.value]:{}}),d=r?n.missingWarn:He(s.missingWarn)||Ps(s.missingWarn)?s.missingWarn:!0,_=r?n.fallbackWarn:He(s.fallbackWarn)||Ps(s.fallbackWarn)?s.fallbackWarn:!0,h=r?n.fallbackRoot:He(s.fallbackRoot)?s.fallbackRoot:!0,E=!!s.fallbackFormat,S=bt(s.missing)?s.missing:null,y=bt(s.postTranslation)?s.postTranslation:null,I=r?n.warnHtmlMessage:He(s.warnHtmlMessage)?s.warnHtmlMessage:!0,C=!!s.escapeParameter,T=r?n.modifiers:De(s.modifiers)?s.modifiers:{},L=s.pluralRules||r&&n.pluralRules;function A(){return[a.value,l.value,u.value,c.value,f.value]}const N=P({get:()=>i.value?i.value.locale.value:a.value,set:b=>{i.value&&(i.value.locale.value=b),a.value=b}}),V=P({get:()=>i.value?i.value.fallbackLocale.value:l.value,set:b=>{i.value&&(i.value.fallbackLocale.value=b),l.value=b}}),U=P(()=>i.value?i.value.messages.value:u.value),$=P(()=>c.value),D=P(()=>f.value);function Y(){return i.value?i.value.getPostTranslationHandler():y}function q(b){i.value&&i.value.setPostTranslationHandler(b)}function G(){return i.value?i.value.getMissingHandler():S}function ee(b){i.value&&i.value.setMissingHandler(b)}function se(b){return A(),b()}function ue(...b){return i.value?se(()=>Reflect.apply(i.value.t,null,[...b])):se(()=>"")}function Ee(...b){return i.value?Reflect.apply(i.value.rt,null,[...b]):""}function he(...b){return i.value?se(()=>Reflect.apply(i.value.d,null,[...b])):se(()=>"")}function be(...b){return i.value?se(()=>Reflect.apply(i.value.n,null,[...b])):se(()=>"")}function ve(b){return i.value?i.value.tm(b):{}}function xe(b,x){return i.value?i.value.te(b,x):!1}function ze(b){return i.value?i.value.getLocaleMessage(b):{}}function Ct(b,x){i.value&&(i.value.setLocaleMessage(b,x),u.value[b]=x)}function K(b,x){i.value&&i.value.mergeLocaleMessage(b,x)}function le(b){return i.value?i.value.getDateTimeFormat(b):{}}function ae(b,x){i.value&&(i.value.setDateTimeFormat(b,x),c.value[b]=x)}function me(b,x){i.value&&i.value.mergeDateTimeFormat(b,x)}function Pe(b){return i.value?i.value.getNumberFormat(b):{}}function Be(b,x){i.value&&(i.value.setNumberFormat(b,x),f.value[b]=x)}function Ae(b,x){i.value&&i.value.mergeNumberFormat(b,x)}const k={get id(){return i.value?i.value.id:-1},locale:N,fallbackLocale:V,messages:U,datetimeFormats:$,numberFormats:D,get inheritLocale(){return i.value?i.value.inheritLocale:o},set inheritLocale(b){i.value&&(i.value.inheritLocale=b)},get availableLocales(){return i.value?i.value.availableLocales:Object.keys(u.value)},get modifiers(){return i.value?i.value.modifiers:T},get pluralRules(){return i.value?i.value.pluralRules:L},get isGlobal(){return i.value?i.value.isGlobal:!1},get missingWarn(){return i.value?i.value.missingWarn:d},set missingWarn(b){i.value&&(i.value.missingWarn=b)},get fallbackWarn(){return i.value?i.value.fallbackWarn:_},set fallbackWarn(b){i.value&&(i.value.missingWarn=b)},get fallbackRoot(){return i.value?i.value.fallbackRoot:h},set fallbackRoot(b){i.value&&(i.value.fallbackRoot=b)},get fallbackFormat(){return i.value?i.value.fallbackFormat:E},set fallbackFormat(b){i.value&&(i.value.fallbackFormat=b)},get warnHtmlMessage(){return i.value?i.value.warnHtmlMessage:I},set warnHtmlMessage(b){i.value&&(i.value.warnHtmlMessage=b)},get escapeParameter(){return i.value?i.value.escapeParameter:C},set escapeParameter(b){i.value&&(i.value.escapeParameter=b)},t:ue,getPostTranslationHandler:Y,setPostTranslationHandler:q,getMissingHandler:G,setMissingHandler:ee,rt:Ee,d:he,n:be,tm:ve,te:xe,getLocaleMessage:ze,setLocaleMessage:Ct,mergeLocaleMessage:K,getDateTimeFormat:le,setDateTimeFormat:ae,mergeDateTimeFormat:me,getNumberFormat:Pe,setNumberFormat:Be,mergeNumberFormat:Ae};function g(b){b.locale.value=a.value,b.fallbackLocale.value=l.value,Object.keys(u.value).forEach(x=>{b.mergeLocaleMessage(x,u.value[x])}),Object.keys(c.value).forEach(x=>{b.mergeDateTimeFormat(x,c.value[x])}),Object.keys(f.value).forEach(x=>{b.mergeNumberFormat(x,f.value[x])}),b.escapeParameter=C,b.fallbackFormat=E,b.fallbackRoot=h,b.fallbackWarn=_,b.missingWarn=d,b.warnHtmlMessage=I}return Vh(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw Ot(Et.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const b=i.value=e.proxy.$i18n.__composer;t==="global"?(a.value=b.locale.value,l.value=b.fallbackLocale.value,u.value=b.messages.value,c.value=b.datetimeFormats.value,f.value=b.numberFormats.value):r&&g(b)}),k}const uE=["locale","fallbackLocale","availableLocales"],Lf=["t","rt","d","n","tm","te"];function cE(e,t){const n=Object.create(null);return uE.forEach(r=>{const i=Object.getOwnPropertyDescriptor(t,r);if(!i)throw Ot(Et.UNEXPECTED_ERROR);const o=At(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,r,o)}),e.config.globalProperties.$i18n=n,Lf.forEach(r=>{const i=Object.getOwnPropertyDescriptor(t,r);if(!i||!i.value)throw Ot(Et.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${r}`,i)}),()=>{delete e.config.globalProperties.$i18n,Lf.forEach(r=>{delete e.config.globalProperties[`$${r}`]})}}Hw();__INTLIFY_JIT_COMPILATION__?ff(Dw):ff(Pw);xw(uw);Aw(lm);if(__INTLIFY_PROD_DEVTOOLS__){const e=Qn();e.__INTLIFY__=!0,vw(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Er=typeof window<"u";function dE(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const nt=Object.assign;function vl(e,t){const n={};for(const s in t){const r=t[s];n[s]=Tn(r)?r.map(e):e(r)}return n}const Oi=()=>{},Tn=Array.isArray,fE=/\/$/,pE=e=>e.replace(fE,"");function yl(e,t,n="/"){let s,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=gE(s??t,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function hE(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Pf(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function mE(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Yr(t.matched[s],n.matched[r])&&Am(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Yr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Am(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!_E(e[n],t[n]))return!1;return!0}function _E(e,t){return Tn(e)?Df(e,t):Tn(t)?Df(t,e):e===t}function Df(e,t){return Tn(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function gE(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var ji;(function(e){e.pop="pop",e.push="push"})(ji||(ji={}));var xi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xi||(xi={}));function vE(e){if(!e)if(Er){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),pE(e)}const yE=/^[^#]+#/;function bE(e,t){return e.replace(yE,"#")+t}function wE(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Da=()=>({left:window.pageXOffset,top:window.pageYOffset});function EE(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=wE(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Mf(e,t){return(history.state?history.state.position-t:-1)+e}const fu=new Map;function SE(e,t){fu.set(e,t)}function TE(e){const t=fu.get(e);return fu.delete(e),t}let IE=()=>location.protocol+"//"+location.host;function Cm(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Pf(l,"")}return Pf(n,e)+s+r}function kE(e,t,n,s){let r=[],i=[],o=null;const a=({state:d})=>{const _=Cm(e,location),h=n.value,E=t.value;let S=0;if(d){if(n.value=_,t.value=d,o&&o===h){o=null;return}S=E?d.position-E.position:0}else s(_);r.forEach(y=>{y(n.value,h,{delta:S,type:ji.pop,direction:S?S>0?xi.forward:xi.back:xi.unknown})})};function l(){o=n.value}function u(d){r.push(d);const _=()=>{const h=r.indexOf(d);h>-1&&r.splice(h,1)};return i.push(_),_}function c(){const{history:d}=window;d.state&&d.replaceState(nt({},d.state,{scroll:Da()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:f}}function Rf(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Da():null}}function OE(e){const{history:t,location:n}=window,s={value:Cm(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:IE()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),r.value=u}catch(_){console.error(_),n[c?"replace":"assign"](d)}}function o(l,u){const c=nt({},t.state,Rf(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),s.value=l}function a(l,u){const c=nt({},r.value,t.state,{forward:l,scroll:Da()});i(c.current,c,!0);const f=nt({},Rf(s.value,l,null),{position:c.position+1},u);i(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function xE(e){e=vE(e);const t=OE(e),n=kE(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=nt({location:"",base:e,go:s,createHref:bE.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function AE(e){return typeof e=="string"||e&&typeof e=="object"}function $m(e){return typeof e=="string"||typeof e=="symbol"}const vs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Nm=Symbol("");var Ff;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ff||(Ff={}));function zr(e,t){return nt(new Error,{type:e,[Nm]:!0},t)}function Gn(e,t){return e instanceof Error&&Nm in e&&(t==null||!!(e.type&t))}const Vf="[^/]+?",CE={sensitive:!1,strict:!1,start:!0,end:!0},$E=/[.+*?^${}()[\]/\\]/g;function NE(e,t){const n=nt({},CE,t),s=[];let r=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const d=u[f];let _=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace($E,"\\$&"),_+=40;else if(d.type===1){const{value:h,repeatable:E,optional:S,regexp:y}=d;i.push({name:h,repeatable:E,optional:S});const I=y||Vf;if(I!==Vf){_+=10;try{new RegExp(`(${I})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${h}" (${I}): `+T.message)}}let C=E?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;f||(C=S&&u.length<2?`(?:/${C})`:"/"+C),S&&(C+="?"),r+=C,_+=20,S&&(_+=-8),E&&(_+=-20),I===".*"&&(_+=-50)}c.push(_)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const _=c[d]||"",h=i[d-1];f[h.name]=_&&h.repeatable?_.split("/"):_}return f}function l(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const _ of d)if(_.type===0)c+=_.value;else if(_.type===1){const{value:h,repeatable:E,optional:S}=_,y=h in u?u[h]:"";if(Tn(y)&&!E)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const I=Tn(y)?y.join("/"):y;if(!I)if(S)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${h}"`);c+=I}}return c||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function LE(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function PE(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=LE(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Uf(s))return 1;if(Uf(r))return-1}return r.length-s.length}function Uf(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const DE={type:0,value:""},ME=/[a-zA-Z0-9_]/;function RE(e){if(!e)return[[]];if(e==="/")return[[DE]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${n})/"${u}": ${_}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:ME.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),r}function FE(e,t,n){const s=NE(RE(e.path),n),r=nt(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function VE(e,t){const n=[],s=new Map;t=jf({strict:!1,end:!0,sensitive:!1},t);function r(c){return s.get(c)}function i(c,f,d){const _=!d,h=UE(c);h.aliasOf=d&&d.record;const E=jf(t,c),S=[h];if("alias"in c){const C=typeof c.alias=="string"?[c.alias]:c.alias;for(const T of C)S.push(nt({},h,{components:d?d.record.components:h.components,path:T,aliasOf:d?d.record:h}))}let y,I;for(const C of S){const{path:T}=C;if(f&&T[0]!=="/"){const L=f.record.path,A=L[L.length-1]==="/"?"":"/";C.path=f.record.path+(T&&A+T)}if(y=FE(C,f,E),d?d.alias.push(y):(I=I||y,I!==y&&I.alias.push(y),_&&c.name&&!Wf(y)&&o(c.name)),h.children){const L=h.children;for(let A=0;A<L.length;A++)i(L[A],y,d&&d.children[A])}d=d||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return I?()=>{o(I)}:Oi}function o(c){if($m(c)){const f=s.get(c);f&&(s.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&s.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let f=0;for(;f<n.length&&PE(c,n[f])>=0&&(c.record.path!==n[f].record.path||!Lm(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!Wf(c)&&s.set(c.record.name,c)}function u(c,f){let d,_={},h,E;if("name"in c&&c.name){if(d=s.get(c.name),!d)throw zr(1,{location:c});E=d.record.name,_=nt(Hf(f.params,d.keys.filter(I=>!I.optional).map(I=>I.name)),c.params&&Hf(c.params,d.keys.map(I=>I.name))),h=d.stringify(_)}else if("path"in c)h=c.path,d=n.find(I=>I.re.test(h)),d&&(_=d.parse(h),E=d.record.name);else{if(d=f.name?s.get(f.name):n.find(I=>I.re.test(f.path)),!d)throw zr(1,{location:c,currentLocation:f});E=d.record.name,_=nt({},f.params,c.params),h=d.stringify(_)}const S=[];let y=d;for(;y;)S.unshift(y.record),y=y.parent;return{name:E,path:h,params:_,matched:S,meta:WE(S)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Hf(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function UE(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:HE(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function HE(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="boolean"?n:n[s];return t}function Wf(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function WE(e){return e.reduce((t,n)=>nt(t,n.meta),{})}function jf(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Lm(e,t){return t.children.some(n=>n===e||Lm(e,n))}const Pm=/#/g,jE=/&/g,YE=/\//g,zE=/=/g,BE=/\?/g,Dm=/\+/g,GE=/%5B/g,KE=/%5D/g,Mm=/%5E/g,qE=/%60/g,Rm=/%7B/g,XE=/%7C/g,Fm=/%7D/g,JE=/%20/g;function dc(e){return encodeURI(""+e).replace(XE,"|").replace(GE,"[").replace(KE,"]")}function QE(e){return dc(e).replace(Rm,"{").replace(Fm,"}").replace(Mm,"^")}function pu(e){return dc(e).replace(Dm,"%2B").replace(JE,"+").replace(Pm,"%23").replace(jE,"%26").replace(qE,"`").replace(Rm,"{").replace(Fm,"}").replace(Mm,"^")}function ZE(e){return pu(e).replace(zE,"%3D")}function e1(e){return dc(e).replace(Pm,"%23").replace(BE,"%3F")}function t1(e){return e==null?"":e1(e).replace(YE,"%2F")}function aa(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function n1(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Dm," "),o=i.indexOf("="),a=aa(o<0?i:i.slice(0,o)),l=o<0?null:aa(i.slice(o+1));if(a in t){let u=t[a];Tn(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Yf(e){let t="";for(let n in e){const s=e[n];if(n=ZE(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Tn(s)?s.map(i=>i&&pu(i)):[s&&pu(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function s1(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Tn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const r1=Symbol(""),zf=Symbol(""),fc=Symbol(""),Vm=Symbol(""),hu=Symbol("");function mi(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Es(e,t,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=f=>{f===!1?a(zr(4,{from:n,to:t})):f instanceof Error?a(f):AE(f)?a(zr(2,{from:t,to:f})):(i&&s.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),o())},u=e.call(s&&s.instances[r],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(f=>a(f))})}function bl(e,t,n,s){const r=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(i1(a)){const u=(a.__vccOpts||a)[t];u&&r.push(Es(u,n,s,i,o))}else{let l=a();r.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=dE(u)?u.default:u;i.components[o]=c;const d=(c.__vccOpts||c)[t];return d&&Es(d,n,s,i,o)()}))}}return r}function i1(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Bf(e){const t=Fn(fc),n=Fn(Vm),s=P(()=>t.resolve(p(e.to))),r=P(()=>{const{matched:l}=s.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(Yr.bind(null,c));if(d>-1)return d;const _=Gf(l[u-2]);return u>1&&Gf(c)===_&&f[f.length-1].path!==_?f.findIndex(Yr.bind(null,l[u-2])):d}),i=P(()=>r.value>-1&&u1(n.params,s.value.params)),o=P(()=>r.value>-1&&r.value===n.matched.length-1&&Am(n.params,s.value.params));function a(l={}){return l1(l)?t[p(e.replace)?"replace":"push"](p(e.to)).catch(Oi):Promise.resolve()}return{route:s,href:P(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const o1=fe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Bf,setup(e,{slots:t}){const n=Je(Bf(e)),{options:s}=Fn(fc),r=P(()=>({[Kf(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Kf(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Ca("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),a1=o1;function l1(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function u1(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Tn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Gf(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Kf=(e,t,n)=>e??t??n,c1=fe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Fn(hu),r=P(()=>e.route||s.value),i=Fn(zf,0),o=P(()=>{let u=p(i);const{matched:c}=r.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=P(()=>r.value.matched[o.value]);Fo(zf,P(()=>o.value+1)),Fo(r1,a),Fo(hu,r);const l=W();return Le(()=>[l.value,a.value,e.name],([u,c,f],[d,_,h])=>{c&&(c.instances[f]=u,_&&_!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=_.leaveGuards),c.updateGuards.size||(c.updateGuards=_.updateGuards))),u&&c&&(!_||!Yr(c,_)||!d)&&(c.enterCallbacks[f]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,f=a.value,d=f&&f.components[c];if(!d)return qf(n.default,{Component:d,route:u});const _=f.props[c],h=_?_===!0?u.params:typeof _=="function"?_(u):_:null,S=Ca(d,nt({},h,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return qf(n.default,{Component:S,route:u})||S}}});function qf(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Um=c1;function d1(e){const t=VE(e.routes,e),n=e.parseQuery||n1,s=e.stringifyQuery||Yf,r=e.history,i=mi(),o=mi(),a=mi(),l=Oh(vs);let u=vs;Er&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=vl.bind(null,K=>""+K),f=vl.bind(null,t1),d=vl.bind(null,aa);function _(K,le){let ae,me;return $m(K)?(ae=t.getRecordMatcher(K),me=le):me=K,t.addRoute(me,ae)}function h(K){const le=t.getRecordMatcher(K);le&&t.removeRoute(le)}function E(){return t.getRoutes().map(K=>K.record)}function S(K){return!!t.getRecordMatcher(K)}function y(K,le){if(le=nt({},le||l.value),typeof K=="string"){const k=yl(n,K,le.path),g=t.resolve({path:k.path},le),b=r.createHref(k.fullPath);return nt(k,g,{params:d(g.params),hash:aa(k.hash),redirectedFrom:void 0,href:b})}let ae;if("path"in K)ae=nt({},K,{path:yl(n,K.path,le.path).path});else{const k=nt({},K.params);for(const g in k)k[g]==null&&delete k[g];ae=nt({},K,{params:f(K.params)}),le.params=f(le.params)}const me=t.resolve(ae,le),Pe=K.hash||"";me.params=c(d(me.params));const Be=hE(s,nt({},K,{hash:QE(Pe),path:me.path})),Ae=r.createHref(Be);return nt({fullPath:Be,hash:Pe,query:s===Yf?s1(K.query):K.query||{}},me,{redirectedFrom:void 0,href:Ae})}function I(K){return typeof K=="string"?yl(n,K,l.value.path):nt({},K)}function C(K,le){if(u!==K)return zr(8,{from:le,to:K})}function T(K){return N(K)}function L(K){return T(nt(I(K),{replace:!0}))}function A(K){const le=K.matched[K.matched.length-1];if(le&&le.redirect){const{redirect:ae}=le;let me=typeof ae=="function"?ae(K):ae;return typeof me=="string"&&(me=me.includes("?")||me.includes("#")?me=I(me):{path:me},me.params={}),nt({query:K.query,hash:K.hash,params:"path"in me?{}:K.params},me)}}function N(K,le){const ae=u=y(K),me=l.value,Pe=K.state,Be=K.force,Ae=K.replace===!0,k=A(ae);if(k)return N(nt(I(k),{state:typeof k=="object"?nt({},Pe,k.state):Pe,force:Be,replace:Ae}),le||ae);const g=ae;g.redirectedFrom=le;let b;return!Be&&mE(s,me,ae)&&(b=zr(16,{to:g,from:me}),be(me,me,!0,!1)),(b?Promise.resolve(b):U(g,me)).catch(x=>Gn(x)?Gn(x,2)?x:he(x):ue(x,g,me)).then(x=>{if(x){if(Gn(x,2))return N(nt({replace:Ae},I(x.to),{state:typeof x.to=="object"?nt({},Pe,x.to.state):Pe,force:Be}),le||g)}else x=D(g,me,!0,Ae,Pe);return $(g,me,x),x})}function V(K,le){const ae=C(K,le);return ae?Promise.reject(ae):Promise.resolve()}function U(K,le){let ae;const[me,Pe,Be]=f1(K,le);ae=bl(me.reverse(),"beforeRouteLeave",K,le);for(const k of me)k.leaveGuards.forEach(g=>{ae.push(Es(g,K,le))});const Ae=V.bind(null,K,le);return ae.push(Ae),gr(ae).then(()=>{ae=[];for(const k of i.list())ae.push(Es(k,K,le));return ae.push(Ae),gr(ae)}).then(()=>{ae=bl(Pe,"beforeRouteUpdate",K,le);for(const k of Pe)k.updateGuards.forEach(g=>{ae.push(Es(g,K,le))});return ae.push(Ae),gr(ae)}).then(()=>{ae=[];for(const k of K.matched)if(k.beforeEnter&&!le.matched.includes(k))if(Tn(k.beforeEnter))for(const g of k.beforeEnter)ae.push(Es(g,K,le));else ae.push(Es(k.beforeEnter,K,le));return ae.push(Ae),gr(ae)}).then(()=>(K.matched.forEach(k=>k.enterCallbacks={}),ae=bl(Be,"beforeRouteEnter",K,le),ae.push(Ae),gr(ae))).then(()=>{ae=[];for(const k of o.list())ae.push(Es(k,K,le));return ae.push(Ae),gr(ae)}).catch(k=>Gn(k,8)?k:Promise.reject(k))}function $(K,le,ae){for(const me of a.list())me(K,le,ae)}function D(K,le,ae,me,Pe){const Be=C(K,le);if(Be)return Be;const Ae=le===vs,k=Er?history.state:{};ae&&(me||Ae?r.replace(K.fullPath,nt({scroll:Ae&&k&&k.scroll},Pe)):r.push(K.fullPath,Pe)),l.value=K,be(K,le,ae,Ae),he()}let Y;function q(){Y||(Y=r.listen((K,le,ae)=>{if(!Ct.listening)return;const me=y(K),Pe=A(me);if(Pe){N(nt(Pe,{replace:!0}),me).catch(Oi);return}u=me;const Be=l.value;Er&&SE(Mf(Be.fullPath,ae.delta),Da()),U(me,Be).catch(Ae=>Gn(Ae,12)?Ae:Gn(Ae,2)?(N(Ae.to,me).then(k=>{Gn(k,20)&&!ae.delta&&ae.type===ji.pop&&r.go(-1,!1)}).catch(Oi),Promise.reject()):(ae.delta&&r.go(-ae.delta,!1),ue(Ae,me,Be))).then(Ae=>{Ae=Ae||D(me,Be,!1),Ae&&(ae.delta&&!Gn(Ae,8)?r.go(-ae.delta,!1):ae.type===ji.pop&&Gn(Ae,20)&&r.go(-1,!1)),$(me,Be,Ae)}).catch(Oi)}))}let G=mi(),ee=mi(),se;function ue(K,le,ae){he(K);const me=ee.list();return me.length?me.forEach(Pe=>Pe(K,le,ae)):console.error(K),Promise.reject(K)}function Ee(){return se&&l.value!==vs?Promise.resolve():new Promise((K,le)=>{G.add([K,le])})}function he(K){return se||(se=!K,q(),G.list().forEach(([le,ae])=>K?ae(K):le()),G.reset()),K}function be(K,le,ae,me){const{scrollBehavior:Pe}=e;if(!Er||!Pe)return Promise.resolve();const Be=!ae&&TE(Mf(K.fullPath,0))||(me||!ae)&&history.state&&history.state.scroll||null;return tt().then(()=>Pe(K,le,Be)).then(Ae=>Ae&&EE(Ae)).catch(Ae=>ue(Ae,K,le))}const ve=K=>r.go(K);let xe;const ze=new Set,Ct={currentRoute:l,listening:!0,addRoute:_,removeRoute:h,hasRoute:S,getRoutes:E,resolve:y,options:e,push:T,replace:L,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ee.add,isReady:Ee,install(K){const le=this;K.component("RouterLink",a1),K.component("RouterView",Um),K.config.globalProperties.$router=le,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>p(l)}),Er&&!xe&&l.value===vs&&(xe=!0,T(r.location).catch(Pe=>{}));const ae={};for(const Pe in vs)ae[Pe]=P(()=>l.value[Pe]);K.provide(fc,le),K.provide(Vm,Je(ae)),K.provide(hu,l);const me=K.unmount;ze.add(K),K.unmount=function(){ze.delete(K),ze.size<1&&(u=vs,Y&&Y(),Y=null,l.value=vs,xe=!1,se=!1),me()}}};return Ct}function gr(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function f1(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>Yr(u,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>Yr(u,l))||r.push(l))}return[n,s,r]}function Hm(e,t){return function(){return e.apply(t,arguments)}}const{toString:Wm}=Object.prototype,{getPrototypeOf:pc}=Object,hc=(e=>t=>{const n=Wm.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ds=e=>(e=e.toLowerCase(),t=>hc(t)===e),Ma=e=>t=>typeof t===e,{isArray:ii}=Array,Yi=Ma("undefined");function p1(e){return e!==null&&!Yi(e)&&e.constructor!==null&&!Yi(e.constructor)&&Ds(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const jm=ds("ArrayBuffer");function h1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&jm(e.buffer),t}const m1=Ma("string"),Ds=Ma("function"),Ym=Ma("number"),mc=e=>e!==null&&typeof e=="object",_1=e=>e===!0||e===!1,Uo=e=>{if(hc(e)!=="object")return!1;const t=pc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},g1=ds("Date"),v1=ds("File"),y1=ds("Blob"),b1=ds("FileList"),w1=e=>mc(e)&&Ds(e.pipe),E1=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Wm.call(e)===t||Ds(e.toString)&&e.toString()===t)},S1=ds("URLSearchParams"),T1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function no(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),ii(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(s=0;s<o;s++)a=i[s],t.call(null,e[a],a,e)}}function zm(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Bm=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Gm=e=>!Yi(e)&&e!==Bm;function mu(){const{caseless:e}=Gm(this)&&this||{},t={},n=(s,r)=>{const i=e&&zm(t,r)||r;Uo(t[i])&&Uo(s)?t[i]=mu(t[i],s):Uo(s)?t[i]=mu({},s):ii(s)?t[i]=s.slice():t[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&no(arguments[s],n);return t}const I1=(e,t,n,{allOwnKeys:s}={})=>(no(t,(r,i)=>{n&&Ds(r)?e[i]=Hm(r,n):e[i]=r},{allOwnKeys:s}),e),k1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),O1=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},x1=(e,t,n,s)=>{let r,i,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],(!s||s(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&pc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},A1=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},C1=e=>{if(!e)return null;if(ii(e))return e;let t=e.length;if(!Ym(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},$1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&pc(Uint8Array)),N1=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=s.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},L1=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},P1=ds("HTMLFormElement"),D1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Xf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),M1=ds("RegExp"),Km=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};no(n,(r,i)=>{t(r,i,e)!==!1&&(s[i]=r)}),Object.defineProperties(e,s)},R1=e=>{Km(e,(t,n)=>{if(Ds(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Ds(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},F1=(e,t)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return ii(e)?s(e):s(String(e).split(t)),n},V1=()=>{},U1=(e,t)=>(e=+e,Number.isFinite(e)?e:t),wl="abcdefghijklmnopqrstuvwxyz",Jf="0123456789",qm={DIGIT:Jf,ALPHA:wl,ALPHA_DIGIT:wl+wl.toUpperCase()+Jf},H1=(e=16,t=qm.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function W1(e){return!!(e&&Ds(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const j1=e=>{const t=new Array(10),n=(s,r)=>{if(mc(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const i=ii(s)?[]:{};return no(s,(o,a)=>{const l=n(o,r+1);!Yi(l)&&(i[a]=l)}),t[r]=void 0,i}}return s};return n(e,0)},X={isArray:ii,isArrayBuffer:jm,isBuffer:p1,isFormData:E1,isArrayBufferView:h1,isString:m1,isNumber:Ym,isBoolean:_1,isObject:mc,isPlainObject:Uo,isUndefined:Yi,isDate:g1,isFile:v1,isBlob:y1,isRegExp:M1,isFunction:Ds,isStream:w1,isURLSearchParams:S1,isTypedArray:$1,isFileList:b1,forEach:no,merge:mu,extend:I1,trim:T1,stripBOM:k1,inherits:O1,toFlatObject:x1,kindOf:hc,kindOfTest:ds,endsWith:A1,toArray:C1,forEachEntry:N1,matchAll:L1,isHTMLForm:P1,hasOwnProperty:Xf,hasOwnProp:Xf,reduceDescriptors:Km,freezeMethods:R1,toObjectSet:F1,toCamelCase:D1,noop:V1,toFiniteNumber:U1,findKey:zm,global:Bm,isContextDefined:Gm,ALPHABET:qm,generateString:H1,isSpecCompliantForm:W1,toJSONObject:j1};function Xe(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}X.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Xm=Xe.prototype,Jm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Jm[e]={value:e}});Object.defineProperties(Xe,Jm);Object.defineProperty(Xm,"isAxiosError",{value:!0});Xe.from=(e,t,n,s,r,i)=>{const o=Object.create(Xm);return X.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Xe.call(o,e.message,t,n,s,r),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Y1=null;function _u(e){return X.isPlainObject(e)||X.isArray(e)}function Qm(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function Qf(e,t,n){return e?e.concat(t).map(function(r,i){return r=Qm(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function z1(e){return X.isArray(e)&&!e.some(_u)}const B1=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function Ra(e,t,n){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,S){return!X.isUndefined(S[E])});const s=n.metaTokens,r=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(r))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(X.isDate(h))return h.toISOString();if(!l&&X.isBlob(h))throw new Xe("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(h)||X.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function c(h,E,S){let y=h;if(h&&!S&&typeof h=="object"){if(X.endsWith(E,"{}"))E=s?E:E.slice(0,-2),h=JSON.stringify(h);else if(X.isArray(h)&&z1(h)||(X.isFileList(h)||X.endsWith(E,"[]"))&&(y=X.toArray(h)))return E=Qm(E),y.forEach(function(C,T){!(X.isUndefined(C)||C===null)&&t.append(o===!0?Qf([E],T,i):o===null?E:E+"[]",u(C))}),!1}return _u(h)?!0:(t.append(Qf(S,E,i),u(h)),!1)}const f=[],d=Object.assign(B1,{defaultVisitor:c,convertValue:u,isVisitable:_u});function _(h,E){if(!X.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+E.join("."));f.push(h),X.forEach(h,function(y,I){(!(X.isUndefined(y)||y===null)&&r.call(t,y,X.isString(I)?I.trim():I,E,d))===!0&&_(y,E?E.concat(I):[I])}),f.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return _(e),t}function Zf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function _c(e,t){this._pairs=[],e&&Ra(e,this,t)}const Zm=_c.prototype;Zm.append=function(t,n){this._pairs.push([t,n])};Zm.toString=function(t){const n=t?function(s){return t.call(this,s,Zf)}:Zf;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function G1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function e_(e,t,n){if(!t)return e;const s=n&&n.encode||G1,r=n&&n.serialize;let i;if(r?i=r(t,n):i=X.isURLSearchParams(t)?t.toString():new _c(t,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class K1{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(s){s!==null&&t(s)})}}const ep=K1,t_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},q1=typeof URLSearchParams<"u"?URLSearchParams:_c,X1=typeof FormData<"u"?FormData:null,J1=typeof Blob<"u"?Blob:null,Q1=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Z1=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Rn={isBrowser:!0,classes:{URLSearchParams:q1,FormData:X1,Blob:J1},isStandardBrowserEnv:Q1,isStandardBrowserWebWorkerEnv:Z1,protocols:["http","https","file","blob","url","data"]};function eS(e,t){return Ra(e,new Rn.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return Rn.isNode&&X.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function tS(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nS(e){const t={},n=Object.keys(e);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],t[i]=e[i];return t}function n_(e){function t(n,s,r,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&X.isArray(r)?r.length:o,l?(X.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!X.isObject(r[o]))&&(r[o]=[]),t(n,s,r[o],i)&&X.isArray(r[o])&&(r[o]=nS(r[o])),!a)}if(X.isFormData(e)&&X.isFunction(e.entries)){const n={};return X.forEachEntry(e,(s,r)=>{t(tS(s),r,n,0)}),n}return null}const sS={"Content-Type":void 0};function rS(e,t,n){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Fa={transitional:t_,adapter:["xhr","http"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=X.isObject(t);if(i&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return r&&r?JSON.stringify(n_(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return eS(t,this.formSerializer).toString();if((a=X.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ra(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),rS(t)):t}],transformResponse:[function(t){const n=this.transitional||Fa.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(t&&X.isString(t)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Xe.from(a,Xe.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rn.classes.FormData,Blob:Rn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};X.forEach(["delete","get","head"],function(t){Fa.headers[t]={}});X.forEach(["post","put","patch"],function(t){Fa.headers[t]=X.merge(sS)});const gc=Fa,iS=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oS=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||t[n]&&iS[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},tp=Symbol("internals");function _i(e){return e&&String(e).trim().toLowerCase()}function Ho(e){return e===!1||e==null?e:X.isArray(e)?e.map(Ho):String(e)}function aS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}function lS(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function El(e,t,n,s,r){if(X.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!X.isString(t)){if(X.isString(s))return t.indexOf(s)!==-1;if(X.isRegExp(s))return s.test(t)}}function uS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function cS(e,t){const n=X.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,i,o){return this[s].call(this,t,r,i,o)},configurable:!0})})}class Va{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function i(a,l,u){const c=_i(l);if(!c)throw new Error("header name must be a non-empty string");const f=X.findKey(r,c);(!f||r[f]===void 0||u===!0||u===void 0&&r[f]!==!1)&&(r[f||l]=Ho(a))}const o=(a,l)=>X.forEach(a,(u,c)=>i(u,c,l));return X.isPlainObject(t)||t instanceof this.constructor?o(t,n):X.isString(t)&&(t=t.trim())&&!lS(t)?o(oS(t),n):t!=null&&i(n,t,s),this}get(t,n){if(t=_i(t),t){const s=X.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return aS(r);if(X.isFunction(n))return n.call(this,r,s);if(X.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=_i(t),t){const s=X.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||El(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function i(o){if(o=_i(o),o){const a=X.findKey(s,o);a&&(!n||El(s,s[a],a,n))&&(delete s[a],r=!0)}}return X.isArray(t)?t.forEach(i):i(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!t||El(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const n=this,s={};return X.forEach(this,(r,i)=>{const o=X.findKey(s,i);if(o){n[o]=Ho(r),delete n[i];return}const a=t?uS(i):String(i).trim();a!==i&&delete n[i],n[a]=Ho(r),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return X.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&X.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[tp]=this[tp]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=_i(o);s[a]||(cS(r,o),s[a]=!0)}return X.isArray(t)?t.forEach(i):i(t),this}}Va.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.freezeMethods(Va.prototype);X.freezeMethods(Va);const ns=Va;function Sl(e,t){const n=this||gc,s=t||n,r=ns.from(s.headers);let i=s.data;return X.forEach(e,function(a){i=a.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function s_(e){return!!(e&&e.__CANCEL__)}function so(e,t,n){Xe.call(this,e??"canceled",Xe.ERR_CANCELED,t,n),this.name="CanceledError"}X.inherits(so,Xe,{__CANCEL__:!0});function dS(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new Xe("Request failed with status code "+n.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const fS=Rn.isStandardBrowserEnv?function(){return{write:function(n,s,r,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(s)),X.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),X.isString(i)&&l.push("path="+i),X.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function pS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hS(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function r_(e,t){return e&&!pS(t)?hS(e,t):t}const mS=Rn.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function r(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=r(window.location.href),function(o){const a=X.isString(o)?r(o):o;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function _S(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function gS(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=s[i];o||(o=u),n[r]=l,s[r]=u;let f=i,d=0;for(;f!==r;)d+=n[f++],f=f%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),u-o<t)return;const _=c&&u-c;return _?Math.round(d*1e3/_):void 0}}function np(e,t){let n=0;const s=gS(50,250);return r=>{const i=r.loaded,o=r.lengthComputable?r.total:void 0,a=i-n,l=s(a),u=i<=o;n=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}const vS=typeof XMLHttpRequest<"u",yS=vS&&function(e){return new Promise(function(n,s){let r=e.data;const i=ns.from(e.headers).normalize(),o=e.responseType;let a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}X.isFormData(r)&&(Rn.isStandardBrowserEnv||Rn.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);let u=new XMLHttpRequest;if(e.auth){const _=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(_+":"+h))}const c=r_(e.baseURL,e.url);u.open(e.method.toUpperCase(),e_(c,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function f(){if(!u)return;const _=ns.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:_,config:e,request:u};dS(function(y){n(y),l()},function(y){s(y),l()},E),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(s(new Xe("Request aborted",Xe.ECONNABORTED,e,u)),u=null)},u.onerror=function(){s(new Xe("Network Error",Xe.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let h=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const E=e.transitional||t_;e.timeoutErrorMessage&&(h=e.timeoutErrorMessage),s(new Xe(h,E.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,e,u)),u=null},Rn.isStandardBrowserEnv){const _=(e.withCredentials||mS(c))&&e.xsrfCookieName&&fS.read(e.xsrfCookieName);_&&i.set(e.xsrfHeaderName,_)}r===void 0&&i.setContentType(null),"setRequestHeader"in u&&X.forEach(i.toJSON(),function(h,E){u.setRequestHeader(E,h)}),X.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&o!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",np(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",np(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=_=>{u&&(s(!_||_.type?new so(null,e,u):_),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const d=_S(c);if(d&&Rn.protocols.indexOf(d)===-1){s(new Xe("Unsupported protocol "+d+":",Xe.ERR_BAD_REQUEST,e));return}u.send(r||null)})},Wo={http:Y1,xhr:yS};X.forEach(Wo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bS={getAdapter:e=>{e=X.isArray(e)?e:[e];const{length:t}=e;let n,s;for(let r=0;r<t&&(n=e[r],!(s=X.isString(n)?Wo[n.toLowerCase()]:n));r++);if(!s)throw s===!1?new Xe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(X.hasOwnProp(Wo,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!X.isFunction(s))throw new TypeError("adapter is not a function");return s},adapters:Wo};function Tl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new so(null,e)}function sp(e){return Tl(e),e.headers=ns.from(e.headers),e.data=Sl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bS.getAdapter(e.adapter||gc.adapter)(e).then(function(s){return Tl(e),s.data=Sl.call(e,e.transformResponse,s),s.headers=ns.from(s.headers),s},function(s){return s_(s)||(Tl(e),s&&s.response&&(s.response.data=Sl.call(e,e.transformResponse,s.response),s.response.headers=ns.from(s.response.headers))),Promise.reject(s)})}const rp=e=>e instanceof ns?e.toJSON():e;function Br(e,t){t=t||{};const n={};function s(u,c,f){return X.isPlainObject(u)&&X.isPlainObject(c)?X.merge.call({caseless:f},u,c):X.isPlainObject(c)?X.merge({},c):X.isArray(c)?c.slice():c}function r(u,c,f){if(X.isUndefined(c)){if(!X.isUndefined(u))return s(void 0,u,f)}else return s(u,c,f)}function i(u,c){if(!X.isUndefined(c))return s(void 0,c)}function o(u,c){if(X.isUndefined(c)){if(!X.isUndefined(u))return s(void 0,u)}else return s(void 0,c)}function a(u,c,f){if(f in t)return s(u,c);if(f in e)return s(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>r(rp(u),rp(c),!0)};return X.forEach(Object.keys(e).concat(Object.keys(t)),function(c){const f=l[c]||r,d=f(e[c],t[c],c);X.isUndefined(d)&&f!==a||(n[c]=d)}),n}const i_="1.3.4",vc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{vc[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ip={};vc.transitional=function(t,n,s){function r(i,o){return"[Axios v"+i_+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(t===!1)throw new Xe(r(o," has been removed"+(n?" in "+n:"")),Xe.ERR_DEPRECATED);return n&&!ip[o]&&(ip[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};function wS(e,t,n){if(typeof e!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const i=s[r],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new Xe("option "+i+" must be "+l,Xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Xe("Unknown option "+i,Xe.ERR_BAD_OPTION)}}const gu={assertOptions:wS,validators:vc},ys=gu.validators;class la{constructor(t){this.defaults=t,this.interceptors={request:new ep,response:new ep}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Br(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&gu.assertOptions(s,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean)},!1),r!==void 0&&gu.assertOptions(r,{encode:ys.function,serialize:ys.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&X.merge(i.common,i[n.method]),o&&X.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),n.headers=ns.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(l=l&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});const u=[];this.interceptors.response.forEach(function(E){u.push(E.fulfilled,E.rejected)});let c,f=0,d;if(!l){const h=[sp.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,u),d=h.length,c=Promise.resolve(n);f<d;)c=c.then(h[f++],h[f++]);return c}d=a.length;let _=n;for(f=0;f<d;){const h=a[f++],E=a[f++];try{_=h(_)}catch(S){E.call(this,S);break}}try{c=sp.call(this,_)}catch(h){return Promise.reject(h)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=Br(this.defaults,t);const n=r_(t.baseURL,t.url);return e_(n,t.params,t.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(t){la.prototype[t]=function(n,s){return this.request(Br(s||{},{method:t,url:n,data:(s||{}).data}))}});X.forEach(["post","put","patch"],function(t){function n(s){return function(i,o,a){return this.request(Br(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}la.prototype[t]=n(),la.prototype[t+"Form"]=n(!0)});const jo=la;class yc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,a){s.reason||(s.reason=new so(i,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new yc(function(r){t=r}),cancel:t}}}const ES=yc;function SS(e){return function(n){return e.apply(null,n)}}function TS(e){return X.isObject(e)&&e.isAxiosError===!0}const vu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vu).forEach(([e,t])=>{vu[t]=e});const IS=vu;function o_(e){const t=new jo(e),n=Hm(jo.prototype.request,t);return X.extend(n,jo.prototype,t,{allOwnKeys:!0}),X.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return o_(Br(e,r))},n}const xt=o_(gc);xt.Axios=jo;xt.CanceledError=so;xt.CancelToken=ES;xt.isCancel=s_;xt.VERSION=i_;xt.toFormData=Ra;xt.AxiosError=Xe;xt.Cancel=xt.CanceledError;xt.all=function(t){return Promise.all(t)};xt.spread=SS;xt.isAxiosError=TS;xt.mergeConfig=Br;xt.AxiosHeaders=ns;xt.formToJSON=e=>n_(X.isHTMLForm(e)?new FormData(e):e);xt.HttpStatusCode=IS;xt.default=xt;const ft=xt,kS=async(e,t)=>{const n=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=n,s.setAttribute("download",t),document.body.appendChild(s),s.click()},zi="";ft.defaults.baseURL=zi;const op=async()=>{const e=await ft.get("/images");return Object.fromEntries(Object.entries(e.data).map(([n,s])=>[n,{...s,url:zi+"/small/images/"+s.sha1+".jpeg",fullUrl:zi+s.url}]))},ap=async()=>(await ft.get("/tags")).data,OS=async()=>(await ft.get("/property")).data,xS=async(e,t,n,s)=>(await ft.post("/tags",{propertyId:e,value:t,color:n,parentId:s})).data,AS=async(e,t)=>(await ft.post("tag/parent",{tagId:e,parentId:t})).data,CS=async(e,t,n)=>(await ft.post("/property",{name:e,type:t,mode:n})).data,$S=async(e,t,n,s,r=null)=>(Array.isArray(s)&&(s=s.map(Number)),(await ft.post("/image_property",{imageIds:t,sha1s:n,propertyId:e,value:s,mode:r})).data),NS=async(e,t,n,s)=>(await ft.patch("/tags",{id:e,color:t,parentId:n,value:s})).data,LS=async(e,t)=>(await ft.delete("/tags/parent",{params:{tag_id:e,parent_id:t}})).data,PS=async e=>await ft.post("/folders",{folder:e}),DS=async(e,t)=>await ft.patch("/property",{id:e,name:t}),MS=async e=>(await ft.delete(`/property/${e}`)).data,RS=async()=>(await ft.get("/folders")).data,FS=async()=>(await ft.post("/folders")).data,VS=async()=>(await ft.get("/tabs")).data,US=async e=>(await ft.post("/tab",e)).data,HS=async e=>{const t=Object.assign({},e);return t.data=Object.assign({},e.data),delete t.data.filterManager,(await ft.patch("/tab",e)).data},WS=async e=>(await ft.delete("/tab",{params:{tab_id:e}})).data,jS=async(e=50,t=[])=>(await ft.post("/clusters",{imageList:t,nbGroups:e})).data,lp=async()=>{let e=await ft.get("/import_status");return e.data.new_images=Object.entries(e.data.new_images).map(([t,n])=>({...n,url:zi+"/small/images/"+n.sha1+".jpeg",fullUrl:zi+n.url})),e.data},YS=async e=>(await ft.post("/similar/image",{sha1List:e})).data,zS=async e=>(await ft.post("/similar/text",{inputText:e})).data,BS=async e=>{let t=new FormData;t.append("file",e),ft.post("/property/file",t,{headers:{"Content-Type":"multipart/form-data"}})},GS=async(e,t)=>{let n=await ft.post("/export",{...e&&{images:e},...t&&{properties:t}});kS(n,"panoptic_output.csv")};var z=(e=>(e.multi_tags="multi_tags",e.tag="tag",e.string="string",e.number="number",e.date="date",e.color="color",e.url="url",e.checkbox="checkbox",e.path="path",e.image_link="image_link",e._ahash="average hash",e._sha1="sha1",e._folders="folders",e))(z||{}),dn=(e=>(e.sha1="sha1",e.id="id",e))(dn||{}),Kt=(e=>(e[e.sha1=-1]="sha1",e[e.ahash=-2]="ahash",e[e.folders=-3]="folders",e))(Kt||{}),it=(e=>(e.equal="equal",e.equalNot="equalNot",e.like="like",e.lower="lower",e.leq="leq",e.greater="greater",e.geq="geq",e.isTrue="isTrue",e.isFalse="isFalse",e.contains="contains",e.startsWith="startsWith",e.containsAny="containsAny",e.containsAll="containsAll",e.containsNot="containsNot",e.and="and",e.or="or",e.isSet="isSet",e.notSet="notSet",e))(it||{}),sn=(e=>(e.IMAGE="image",e.PROPERTY="property",e.SHA1PILE="sha1pile",e.FOLDERTOPROP="folder_to_property",e.EXPORT="export",e))(sn||{});function KS(e){switch(e){case"checkbox":return["isTrue","isFalse"];case"color":return["isSet","notSet","equal","equalNot"];case"date":return["isSet","notSet","equal","equalNot","leq","lower","greater","geq"];case"image_link":return["isSet","notSet","equal","equalNot"];case"multi_tags":return["isSet","notSet","containsAll","containsAny","containsNot"];case"number":return["isSet","notSet","equal","equalNot","leq","lower","greater","geq"];case"path":return["isSet","notSet","equal","equalNot","startsWith","like"];case"string":return["isSet","notSet","equal","equalNot","startsWith","like"];case"tag":return["isSet","notSet","containsAny","containsNot"];case"url":return["isSet","notSet","equal","equalNot","like","startsWith"];case"average hash":case"sha1":return["equal","equalNot"];default:return[]}}function bc(e){switch(e){case"checkbox":return!1;case"color":return"#aaaaaa";case"date":return"";case"number":return;case"string":case"image_link":case"path":case"sha1":case"url":case"average hash":return"";case"multi_tags":case"tag":return[];default:return""}}function a_(e){switch(e){case"contains":case"containsAll":case"containsAny":case"containsNot":case"equal":case"equalNot":case"geq":case"greater":case"leq":case"lower":case"like":case"startsWith":return!0;default:return!1}}function qS(){return{size:200}}function XS(){return{name:"Tab",display:"grid",filter:JS(),groups:[],sortList:[],imageSize:100,visibleProperties:{},visibleFolders:{},selectedFolders:{},propertyOptions:{}}}function JS(){return{depth:0,filters:[],groupOperator:"and",isGroup:!0}}function Ua(e){return e=="tag"||e=="multi_tags"}const Hn=[{name:"red",color:"#ff8787"},{name:"pink",color:"#f783ac"},{name:"grape",color:"#da77f2"},{name:"violet",color:"#9775fa"},{name:"indigo",color:"#748ffc"},{name:"blue",color:"#4dabf7"},{name:"cyan",color:"#3bc9db"},{name:"teal",color:"#38d9a9"},{name:"green",color:"#69db7c"},{name:"lime",color:"#a9e34b"},{name:"yellow",color:"#ffd43b"},{name:"orange",color:"#ffa94d"}];class QS{constructor(t){return new Proxy({},{get:(n,s)=>s in n?n[s]:n[s]=typeof t=="function"?new t().valueOf():t})}}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var l_;function pe(){return l_.apply(null,arguments)}function ZS(e){l_=e}function In(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ir(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wc(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ze(e,t))return!1;return!0}function Xt(e){return e===void 0}function ls(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function ro(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function u_(e,t){var n=[],s,r=e.length;for(s=0;s<r;++s)n.push(t(e[s],s));return n}function Ts(e,t){for(var n in t)Ze(t,n)&&(e[n]=t[n]);return Ze(t,"toString")&&(e.toString=t.toString),Ze(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Yn(e,t,n,s){return L_(e,t,n,s,!0).utc()}function eT(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Me(e){return e._pf==null&&(e._pf=eT()),e._pf}var yu;Array.prototype.some?yu=Array.prototype.some:yu=function(e){var t=Object(this),n=t.length>>>0,s;for(s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function Ec(e){if(e._isValid==null){var t=Me(e),n=yu.call(t.parsedDateParts,function(r){return r!=null}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s}return e._isValid}function Ha(e){var t=Yn(NaN);return e!=null?Ts(Me(t),e):Me(t).userInvalidated=!0,t}var up=pe.momentProperties=[],Il=!1;function Sc(e,t){var n,s,r,i=up.length;if(Xt(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Xt(t._i)||(e._i=t._i),Xt(t._f)||(e._f=t._f),Xt(t._l)||(e._l=t._l),Xt(t._strict)||(e._strict=t._strict),Xt(t._tzm)||(e._tzm=t._tzm),Xt(t._isUTC)||(e._isUTC=t._isUTC),Xt(t._offset)||(e._offset=t._offset),Xt(t._pf)||(e._pf=Me(t)),Xt(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)s=up[n],r=t[s],Xt(r)||(e[s]=r);return e}function io(e){Sc(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Il===!1&&(Il=!0,pe.updateOffset(this),Il=!1)}function kn(e){return e instanceof io||e!=null&&e._isAMomentObject!=null}function c_(e){pe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function hn(e,t){var n=!0;return Ts(function(){if(pe.deprecationHandler!=null&&pe.deprecationHandler(null,e),n){var s=[],r,i,o,a=arguments.length;for(i=0;i<a;i++){if(r="",typeof arguments[i]=="object"){r+=`
[`+i+"] ";for(o in arguments[0])Ze(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];s.push(r)}c_(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var cp={};function d_(e,t){pe.deprecationHandler!=null&&pe.deprecationHandler(e,t),cp[e]||(c_(t),cp[e]=!0)}pe.suppressDeprecationWarnings=!1;pe.deprecationHandler=null;function zn(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function tT(e){var t,n;for(n in e)Ze(e,n)&&(t=e[n],zn(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function bu(e,t){var n=Ts({},e),s;for(s in t)Ze(t,s)&&(ir(e[s])&&ir(t[s])?(n[s]={},Ts(n[s],e[s]),Ts(n[s],t[s])):t[s]!=null?n[s]=t[s]:delete n[s]);for(s in e)Ze(e,s)&&!Ze(t,s)&&ir(e[s])&&(n[s]=Ts({},n[s]));return n}function Tc(e){e!=null&&this.set(e)}var wu;Object.keys?wu=Object.keys:wu=function(e){var t,n=[];for(t in e)Ze(e,t)&&n.push(t);return n};var nT={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function sT(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return zn(s)?s.call(t,n):s}function Wn(e,t,n){var s=""+Math.abs(e),r=t-s.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+s}var Ic=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ko=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,kl={},Dr={};function Te(e,t,n,s){var r=s;typeof s=="string"&&(r=function(){return this[s]()}),e&&(Dr[e]=r),t&&(Dr[t[0]]=function(){return Wn(r.apply(this,arguments),t[1],t[2])}),n&&(Dr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function rT(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function iT(e){var t=e.match(Ic),n,s;for(n=0,s=t.length;n<s;n++)Dr[t[n]]?t[n]=Dr[t[n]]:t[n]=rT(t[n]);return function(r){var i="",o;for(o=0;o<s;o++)i+=zn(t[o])?t[o].call(r,e):t[o];return i}}function Yo(e,t){return e.isValid()?(t=f_(t,e.localeData()),kl[t]=kl[t]||iT(t),kl[t](e)):e.localeData().invalidDate()}function f_(e,t){var n=5;function s(r){return t.longDateFormat(r)||r}for(ko.lastIndex=0;n>=0&&ko.test(e);)e=e.replace(ko,s),ko.lastIndex=0,n-=1;return e}var oT={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function aT(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Ic).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var lT="Invalid date";function uT(){return this._invalidDate}var cT="%d",dT=/\d{1,2}/;function fT(e){return this._ordinal.replace("%d",e)}var pT={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function hT(e,t,n,s){var r=this._relativeTime[n];return zn(r)?r(e,t,n,s):r.replace(/%d/i,e)}function mT(e,t){var n=this._relativeTime[e>0?"future":"past"];return zn(n)?n(t):n.replace(/%s/i,t)}var Ai={};function Vt(e,t){var n=e.toLowerCase();Ai[n]=Ai[n+"s"]=Ai[t]=e}function mn(e){return typeof e=="string"?Ai[e]||Ai[e.toLowerCase()]:void 0}function kc(e){var t={},n,s;for(s in e)Ze(e,s)&&(n=mn(s),n&&(t[n]=e[s]));return t}var p_={};function Ut(e,t){p_[e]=t}function _T(e){var t=[],n;for(n in e)Ze(e,n)&&t.push({unit:n,priority:p_[n]});return t.sort(function(s,r){return s.priority-r.priority}),t}function Wa(e){return e%4===0&&e%100!==0||e%400===0}function un(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ue(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=un(t)),n}function oi(e,t){return function(n){return n!=null?(h_(this,e,n),pe.updateOffset(this,t),this):ua(this,e)}}function ua(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function h_(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Wa(e.year())&&e.month()===1&&e.date()===29?(n=Ue(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ka(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function gT(e){return e=mn(e),zn(this[e])?this[e]():this}function vT(e,t){if(typeof e=="object"){e=kc(e);var n=_T(e),s,r=n.length;for(s=0;s<r;s++)this[n[s].unit](e[n[s].unit])}else if(e=mn(e),zn(this[e]))return this[e](t);return this}var m_=/\d/,ln=/\d\d/,__=/\d{3}/,Oc=/\d{4}/,ja=/[+-]?\d{6}/,pt=/\d\d?/,g_=/\d\d\d\d?/,v_=/\d\d\d\d\d\d?/,Ya=/\d{1,3}/,xc=/\d{1,4}/,za=/[+-]?\d{1,6}/,ai=/\d+/,Ba=/[+-]?\d+/,yT=/Z|[+-]\d\d:?\d\d/gi,Ga=/Z|[+-]\d\d(?::?\d\d)?/gi,bT=/[+-]?\d+(\.\d{1,3})?/,oo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ca;ca={};function ge(e,t,n){ca[e]=zn(t)?t:function(s,r){return s&&n?n:t}}function wT(e,t){return Ze(ca,e)?ca[e](t._strict,t._locale):new RegExp(ET(e))}function ET(e){return rn(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,s,r,i){return n||s||r||i}))}function rn(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Eu={};function ot(e,t){var n,s=t,r;for(typeof e=="string"&&(e=[e]),ls(t)&&(s=function(i,o){o[t]=Ue(i)}),r=e.length,n=0;n<r;n++)Eu[e[n]]=s}function ao(e,t){ot(e,function(n,s,r,i){r._w=r._w||{},t(n,r._w,r,i)})}function ST(e,t,n){t!=null&&Ze(Eu,e)&&Eu[e](t,n._a,n,e)}var Rt=0,es=1,Mn=2,kt=3,wn=4,ts=5,er=6,TT=7,IT=8;function kT(e,t){return(e%t+t)%t}var gt;Array.prototype.indexOf?gt=Array.prototype.indexOf:gt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Ka(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=kT(t,12);return e+=(t-n)/12,n===1?Wa(e)?29:28:31-n%7%2}Te("M",["MM",2],"Mo",function(){return this.month()+1});Te("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Te("MMMM",0,0,function(e){return this.localeData().months(this,e)});Vt("month","M");Ut("month",8);ge("M",pt);ge("MM",pt,ln);ge("MMM",function(e,t){return t.monthsShortRegex(e)});ge("MMMM",function(e,t){return t.monthsRegex(e)});ot(["M","MM"],function(e,t){t[es]=Ue(e)-1});ot(["MMM","MMMM"],function(e,t,n,s){var r=n._locale.monthsParse(e,s,n._strict);r!=null?t[es]=r:Me(n).invalidMonth=e});var OT="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),y_="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),b_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xT=oo,AT=oo;function CT(e,t){return e?In(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||b_).test(t)?"format":"standalone"][e.month()]:In(this._months)?this._months:this._months.standalone}function $T(e,t){return e?In(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[b_.test(t)?"format":"standalone"][e.month()]:In(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function NT(e,t,n){var s,r,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)i=Yn([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(r=gt.call(this._shortMonthsParse,o),r!==-1?r:null):(r=gt.call(this._longMonthsParse,o),r!==-1?r:null):t==="MMM"?(r=gt.call(this._shortMonthsParse,o),r!==-1?r:(r=gt.call(this._longMonthsParse,o),r!==-1?r:null)):(r=gt.call(this._longMonthsParse,o),r!==-1?r:(r=gt.call(this._shortMonthsParse,o),r!==-1?r:null))}function LT(e,t,n){var s,r,i;if(this._monthsParseExact)return NT.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(r=Yn([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(n&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function w_(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ue(t);else if(t=e.localeData().monthsParse(t),!ls(t))return e}return n=Math.min(e.date(),Ka(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function E_(e){return e!=null?(w_(this,e),pe.updateOffset(this,!0),this):ua(this,"Month")}function PT(){return Ka(this.year(),this.month())}function DT(e){return this._monthsParseExact?(Ze(this,"_monthsRegex")||S_.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ze(this,"_monthsShortRegex")||(this._monthsShortRegex=xT),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function MT(e){return this._monthsParseExact?(Ze(this,"_monthsRegex")||S_.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ze(this,"_monthsRegex")||(this._monthsRegex=AT),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function S_(){function e(o,a){return a.length-o.length}var t=[],n=[],s=[],r,i;for(r=0;r<12;r++)i=Yn([2e3,r]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),s.sort(e),r=0;r<12;r++)t[r]=rn(t[r]),n[r]=rn(n[r]);for(r=0;r<24;r++)s[r]=rn(s[r]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}Te("Y",0,0,function(){var e=this.year();return e<=9999?Wn(e,4):"+"+e});Te(0,["YY",2],0,function(){return this.year()%100});Te(0,["YYYY",4],0,"year");Te(0,["YYYYY",5],0,"year");Te(0,["YYYYYY",6,!0],0,"year");Vt("year","y");Ut("year",1);ge("Y",Ba);ge("YY",pt,ln);ge("YYYY",xc,Oc);ge("YYYYY",za,ja);ge("YYYYYY",za,ja);ot(["YYYYY","YYYYYY"],Rt);ot("YYYY",function(e,t){t[Rt]=e.length===2?pe.parseTwoDigitYear(e):Ue(e)});ot("YY",function(e,t){t[Rt]=pe.parseTwoDigitYear(e)});ot("Y",function(e,t){t[Rt]=parseInt(e,10)});function Ci(e){return Wa(e)?366:365}pe.parseTwoDigitYear=function(e){return Ue(e)+(Ue(e)>68?1900:2e3)};var T_=oi("FullYear",!0);function RT(){return Wa(this.year())}function FT(e,t,n,s,r,i,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,s,r,i,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,s,r,i,o),a}function Bi(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function da(e,t,n){var s=7+t-n,r=(7+Bi(e,0,s).getUTCDay()-t)%7;return-r+s-1}function I_(e,t,n,s,r){var i=(7+n-s)%7,o=da(e,s,r),a=1+7*(t-1)+i+o,l,u;return a<=0?(l=e-1,u=Ci(l)+a):a>Ci(e)?(l=e+1,u=a-Ci(e)):(l=e,u=a),{year:l,dayOfYear:u}}function Gi(e,t,n){var s=da(e.year(),t,n),r=Math.floor((e.dayOfYear()-s-1)/7)+1,i,o;return r<1?(o=e.year()-1,i=r+ss(o,t,n)):r>ss(e.year(),t,n)?(i=r-ss(e.year(),t,n),o=e.year()+1):(o=e.year(),i=r),{week:i,year:o}}function ss(e,t,n){var s=da(e,t,n),r=da(e+1,t,n);return(Ci(e)-s+r)/7}Te("w",["ww",2],"wo","week");Te("W",["WW",2],"Wo","isoWeek");Vt("week","w");Vt("isoWeek","W");Ut("week",5);Ut("isoWeek",5);ge("w",pt);ge("ww",pt,ln);ge("W",pt);ge("WW",pt,ln);ao(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=Ue(e)});function VT(e){return Gi(e,this._week.dow,this._week.doy).week}var UT={dow:0,doy:6};function HT(){return this._week.dow}function WT(){return this._week.doy}function jT(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function YT(e){var t=Gi(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Te("d",0,"do","day");Te("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Te("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Te("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Te("e",0,0,"weekday");Te("E",0,0,"isoWeekday");Vt("day","d");Vt("weekday","e");Vt("isoWeekday","E");Ut("day",11);Ut("weekday",11);Ut("isoWeekday",11);ge("d",pt);ge("e",pt);ge("E",pt);ge("dd",function(e,t){return t.weekdaysMinRegex(e)});ge("ddd",function(e,t){return t.weekdaysShortRegex(e)});ge("dddd",function(e,t){return t.weekdaysRegex(e)});ao(["dd","ddd","dddd"],function(e,t,n,s){var r=n._locale.weekdaysParse(e,s,n._strict);r!=null?t.d=r:Me(n).invalidWeekday=e});ao(["d","e","E"],function(e,t,n,s){t[s]=Ue(e)});function zT(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function BT(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ac(e,t){return e.slice(t,7).concat(e.slice(0,t))}var GT="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),k_="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),KT="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qT=oo,XT=oo,JT=oo;function QT(e,t){var n=In(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Ac(n,this._week.dow):e?n[e.day()]:n}function ZT(e){return e===!0?Ac(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function eI(e){return e===!0?Ac(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function tI(e,t,n){var s,r,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)i=Yn([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(r=gt.call(this._weekdaysParse,o),r!==-1?r:null):t==="ddd"?(r=gt.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=gt.call(this._minWeekdaysParse,o),r!==-1?r:null):t==="dddd"?(r=gt.call(this._weekdaysParse,o),r!==-1||(r=gt.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=gt.call(this._minWeekdaysParse,o),r!==-1?r:null)):t==="ddd"?(r=gt.call(this._shortWeekdaysParse,o),r!==-1||(r=gt.call(this._weekdaysParse,o),r!==-1)?r:(r=gt.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=gt.call(this._minWeekdaysParse,o),r!==-1||(r=gt.call(this._weekdaysParse,o),r!==-1)?r:(r=gt.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function nI(e,t,n){var s,r,i;if(this._weekdaysParseExact)return tI.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(r=Yn([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[s]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(n&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(n&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function sI(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=zT(e,this.localeData()),this.add(e-t,"d")):t}function rI(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function iI(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=BT(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function oI(e){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Cc.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ze(this,"_weekdaysRegex")||(this._weekdaysRegex=qT),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function aI(e){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Cc.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ze(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=XT),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function lI(e){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Cc.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ze(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=JT),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Cc(){function e(c,f){return f.length-c.length}var t=[],n=[],s=[],r=[],i,o,a,l,u;for(i=0;i<7;i++)o=Yn([2e3,1]).day(i),a=rn(this.weekdaysMin(o,"")),l=rn(this.weekdaysShort(o,"")),u=rn(this.weekdays(o,"")),t.push(a),n.push(l),s.push(u),r.push(a),r.push(l),r.push(u);t.sort(e),n.sort(e),s.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function $c(){return this.hours()%12||12}function uI(){return this.hours()||24}Te("H",["HH",2],0,"hour");Te("h",["hh",2],0,$c);Te("k",["kk",2],0,uI);Te("hmm",0,0,function(){return""+$c.apply(this)+Wn(this.minutes(),2)});Te("hmmss",0,0,function(){return""+$c.apply(this)+Wn(this.minutes(),2)+Wn(this.seconds(),2)});Te("Hmm",0,0,function(){return""+this.hours()+Wn(this.minutes(),2)});Te("Hmmss",0,0,function(){return""+this.hours()+Wn(this.minutes(),2)+Wn(this.seconds(),2)});function O_(e,t){Te(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}O_("a",!0);O_("A",!1);Vt("hour","h");Ut("hour",13);function x_(e,t){return t._meridiemParse}ge("a",x_);ge("A",x_);ge("H",pt);ge("h",pt);ge("k",pt);ge("HH",pt,ln);ge("hh",pt,ln);ge("kk",pt,ln);ge("hmm",g_);ge("hmmss",v_);ge("Hmm",g_);ge("Hmmss",v_);ot(["H","HH"],kt);ot(["k","kk"],function(e,t,n){var s=Ue(e);t[kt]=s===24?0:s});ot(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});ot(["h","hh"],function(e,t,n){t[kt]=Ue(e),Me(n).bigHour=!0});ot("hmm",function(e,t,n){var s=e.length-2;t[kt]=Ue(e.substr(0,s)),t[wn]=Ue(e.substr(s)),Me(n).bigHour=!0});ot("hmmss",function(e,t,n){var s=e.length-4,r=e.length-2;t[kt]=Ue(e.substr(0,s)),t[wn]=Ue(e.substr(s,2)),t[ts]=Ue(e.substr(r)),Me(n).bigHour=!0});ot("Hmm",function(e,t,n){var s=e.length-2;t[kt]=Ue(e.substr(0,s)),t[wn]=Ue(e.substr(s))});ot("Hmmss",function(e,t,n){var s=e.length-4,r=e.length-2;t[kt]=Ue(e.substr(0,s)),t[wn]=Ue(e.substr(s,2)),t[ts]=Ue(e.substr(r))});function cI(e){return(e+"").toLowerCase().charAt(0)==="p"}var dI=/[ap]\.?m?\.?/i,fI=oi("Hours",!0);function pI(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var A_={calendar:nT,longDateFormat:oT,invalidDate:lT,ordinal:cT,dayOfMonthOrdinalParse:dT,relativeTime:pT,months:OT,monthsShort:y_,week:UT,weekdays:GT,weekdaysMin:KT,weekdaysShort:k_,meridiemParse:dI},ht={},gi={},Ki;function hI(e,t){var n,s=Math.min(e.length,t.length);for(n=0;n<s;n+=1)if(e[n]!==t[n])return n;return s}function dp(e){return e&&e.toLowerCase().replace("_","-")}function mI(e){for(var t=0,n,s,r,i;t<e.length;){for(i=dp(e[t]).split("-"),n=i.length,s=dp(e[t+1]),s=s?s.split("-"):null;n>0;){if(r=qa(i.slice(0,n).join("-")),r)return r;if(s&&s.length>=n&&hI(i,s)>=n-1)break;n--}t++}return Ki}function _I(e){return e.match("^[^/\\\\]*$")!=null}function qa(e){var t=null,n;if(ht[e]===void 0&&typeof Zo<"u"&&Zo&&Zo.exports&&_I(e))try{t=Ki._abbr,n=require,n("./locale/"+e),As(t)}catch{ht[e]=null}return ht[e]}function As(e,t){var n;return e&&(Xt(t)?n=fs(e):n=Nc(e,t),n?Ki=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ki._abbr}function Nc(e,t){if(t!==null){var n,s=A_;if(t.abbr=e,ht[e]!=null)d_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=ht[e]._config;else if(t.parentLocale!=null)if(ht[t.parentLocale]!=null)s=ht[t.parentLocale]._config;else if(n=qa(t.parentLocale),n!=null)s=n._config;else return gi[t.parentLocale]||(gi[t.parentLocale]=[]),gi[t.parentLocale].push({name:e,config:t}),null;return ht[e]=new Tc(bu(s,t)),gi[e]&&gi[e].forEach(function(r){Nc(r.name,r.config)}),As(e),ht[e]}else return delete ht[e],null}function gI(e,t){if(t!=null){var n,s,r=A_;ht[e]!=null&&ht[e].parentLocale!=null?ht[e].set(bu(ht[e]._config,t)):(s=qa(e),s!=null&&(r=s._config),t=bu(r,t),s==null&&(t.abbr=e),n=new Tc(t),n.parentLocale=ht[e],ht[e]=n),As(e)}else ht[e]!=null&&(ht[e].parentLocale!=null?(ht[e]=ht[e].parentLocale,e===As()&&As(e)):ht[e]!=null&&delete ht[e]);return ht[e]}function fs(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ki;if(!In(e)){if(t=qa(e),t)return t;e=[e]}return mI(e)}function vI(){return wu(ht)}function Lc(e){var t,n=e._a;return n&&Me(e).overflow===-2&&(t=n[es]<0||n[es]>11?es:n[Mn]<1||n[Mn]>Ka(n[Rt],n[es])?Mn:n[kt]<0||n[kt]>24||n[kt]===24&&(n[wn]!==0||n[ts]!==0||n[er]!==0)?kt:n[wn]<0||n[wn]>59?wn:n[ts]<0||n[ts]>59?ts:n[er]<0||n[er]>999?er:-1,Me(e)._overflowDayOfYear&&(t<Rt||t>Mn)&&(t=Mn),Me(e)._overflowWeeks&&t===-1&&(t=TT),Me(e)._overflowWeekday&&t===-1&&(t=IT),Me(e).overflow=t),e}var yI=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bI=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wI=/Z|[+-]\d\d(?::?\d\d)?/,Oo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ol=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],EI=/^\/?Date\((-?\d+)/i,SI=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,TI={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function C_(e){var t,n,s=e._i,r=yI.exec(s)||bI.exec(s),i,o,a,l,u=Oo.length,c=Ol.length;if(r){for(Me(e).iso=!0,t=0,n=u;t<n;t++)if(Oo[t][1].exec(r[1])){o=Oo[t][0],i=Oo[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(r[3]){for(t=0,n=c;t<n;t++)if(Ol[t][1].exec(r[3])){a=(r[2]||" ")+Ol[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(r[4])if(wI.exec(r[4]))l="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(l||""),Dc(e)}else e._isValid=!1}function II(e,t,n,s,r,i){var o=[kI(e),y_.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(r,10)];return i&&o.push(parseInt(i,10)),o}function kI(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function OI(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xI(e,t,n){if(e){var s=k_.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(s!==r)return Me(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function AI(e,t,n){if(e)return TI[e];if(t)return 0;var s=parseInt(n,10),r=s%100,i=(s-r)/100;return i*60+r}function $_(e){var t=SI.exec(OI(e._i)),n;if(t){if(n=II(t[4],t[3],t[2],t[5],t[6],t[7]),!xI(t[1],n,e))return;e._a=n,e._tzm=AI(t[8],t[9],t[10]),e._d=Bi.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Me(e).rfc2822=!0}else e._isValid=!1}function CI(e){var t=EI.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(C_(e),e._isValid===!1)delete e._isValid;else return;if($_(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:pe.createFromInputFallback(e)}pe.createFromInputFallback=hn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Sr(e,t,n){return e??t??n}function $I(e){var t=new Date(pe.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Pc(e){var t,n,s=[],r,i,o;if(!e._d){for(r=$I(e),e._w&&e._a[Mn]==null&&e._a[es]==null&&NI(e),e._dayOfYear!=null&&(o=Sr(e._a[Rt],r[Rt]),(e._dayOfYear>Ci(o)||e._dayOfYear===0)&&(Me(e)._overflowDayOfYear=!0),n=Bi(o,0,e._dayOfYear),e._a[es]=n.getUTCMonth(),e._a[Mn]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[kt]===24&&e._a[wn]===0&&e._a[ts]===0&&e._a[er]===0&&(e._nextDay=!0,e._a[kt]=0),e._d=(e._useUTC?Bi:FT).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[kt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Me(e).weekdayMismatch=!0)}}function NI(e){var t,n,s,r,i,o,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,n=Sr(t.GG,e._a[Rt],Gi(dt(),1,4).year),s=Sr(t.W,1),r=Sr(t.E,1),(r<1||r>7)&&(l=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,u=Gi(dt(),i,o),n=Sr(t.gg,e._a[Rt],u.year),s=Sr(t.w,u.week),t.d!=null?(r=t.d,(r<0||r>6)&&(l=!0)):t.e!=null?(r=t.e+i,(t.e<0||t.e>6)&&(l=!0)):r=i),s<1||s>ss(n,i,o)?Me(e)._overflowWeeks=!0:l!=null?Me(e)._overflowWeekday=!0:(a=I_(n,s,r,i,o),e._a[Rt]=a.year,e._dayOfYear=a.dayOfYear)}pe.ISO_8601=function(){};pe.RFC_2822=function(){};function Dc(e){if(e._f===pe.ISO_8601){C_(e);return}if(e._f===pe.RFC_2822){$_(e);return}e._a=[],Me(e).empty=!0;var t=""+e._i,n,s,r,i,o,a=t.length,l=0,u,c;for(r=f_(e._f,e._locale).match(Ic)||[],c=r.length,n=0;n<c;n++)i=r[n],s=(t.match(wT(i,e))||[])[0],s&&(o=t.substr(0,t.indexOf(s)),o.length>0&&Me(e).unusedInput.push(o),t=t.slice(t.indexOf(s)+s.length),l+=s.length),Dr[i]?(s?Me(e).empty=!1:Me(e).unusedTokens.push(i),ST(i,s,e)):e._strict&&!s&&Me(e).unusedTokens.push(i);Me(e).charsLeftOver=a-l,t.length>0&&Me(e).unusedInput.push(t),e._a[kt]<=12&&Me(e).bigHour===!0&&e._a[kt]>0&&(Me(e).bigHour=void 0),Me(e).parsedDateParts=e._a.slice(0),Me(e).meridiem=e._meridiem,e._a[kt]=LI(e._locale,e._a[kt],e._meridiem),u=Me(e).era,u!==null&&(e._a[Rt]=e._locale.erasConvertYear(u,e._a[Rt])),Pc(e),Lc(e)}function LI(e,t,n){var s;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(s=e.isPM(n),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function PI(e){var t,n,s,r,i,o,a=!1,l=e._f.length;if(l===0){Me(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<l;r++)i=0,o=!1,t=Sc({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],Dc(t),Ec(t)&&(o=!0),i+=Me(t).charsLeftOver,i+=Me(t).unusedTokens.length*10,Me(t).score=i,a?i<s&&(s=i,n=t):(s==null||i<s||o)&&(s=i,n=t,o&&(a=!0));Ts(e,n||t)}function DI(e){if(!e._d){var t=kc(e._i),n=t.day===void 0?t.date:t.day;e._a=u_([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),Pc(e)}}function MI(e){var t=new io(Lc(N_(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function N_(e){var t=e._i,n=e._f;return e._locale=e._locale||fs(e._l),t===null||n===void 0&&t===""?Ha({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),kn(t)?new io(Lc(t)):(ro(t)?e._d=t:In(n)?PI(e):n?Dc(e):RI(e),Ec(e)||(e._d=null),e))}function RI(e){var t=e._i;Xt(t)?e._d=new Date(pe.now()):ro(t)?e._d=new Date(t.valueOf()):typeof t=="string"?CI(e):In(t)?(e._a=u_(t.slice(0),function(n){return parseInt(n,10)}),Pc(e)):ir(t)?DI(e):ls(t)?e._d=new Date(t):pe.createFromInputFallback(e)}function L_(e,t,n,s,r){var i={};return(t===!0||t===!1)&&(s=t,t=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(ir(e)&&wc(e)||In(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=n,i._i=e,i._f=t,i._strict=s,MI(i)}function dt(e,t,n,s){return L_(e,t,n,s,!1)}var FI=hn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=dt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Ha()}),VI=hn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=dt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Ha()});function P_(e,t){var n,s;if(t.length===1&&In(t[0])&&(t=t[0]),!t.length)return dt();for(n=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](n))&&(n=t[s]);return n}function UI(){var e=[].slice.call(arguments,0);return P_("isBefore",e)}function HI(){var e=[].slice.call(arguments,0);return P_("isAfter",e)}var WI=function(){return Date.now?Date.now():+new Date},vi=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jI(e){var t,n=!1,s,r=vi.length;for(t in e)if(Ze(e,t)&&!(gt.call(vi,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<r;++s)if(e[vi[s]]){if(n)return!1;parseFloat(e[vi[s]])!==Ue(e[vi[s]])&&(n=!0)}return!0}function YI(){return this._isValid}function zI(){return xn(NaN)}function Xa(e){var t=kc(e),n=t.year||0,s=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=jI(t),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+r+s*3+n*12,this._data={},this._locale=fs(),this._bubble()}function zo(e){return e instanceof Xa}function Su(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function BI(e,t,n){var s=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,o;for(o=0;o<s;o++)(n&&e[o]!==t[o]||!n&&Ue(e[o])!==Ue(t[o]))&&i++;return i+r}function D_(e,t){Te(e,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+Wn(~~(n/60),2)+t+Wn(~~n%60,2)})}D_("Z",":");D_("ZZ","");ge("Z",Ga);ge("ZZ",Ga);ot(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Mc(Ga,e)});var GI=/([\+\-]|\d\d)/gi;function Mc(e,t){var n=(t||"").match(e),s,r,i;return n===null?null:(s=n[n.length-1]||[],r=(s+"").match(GI)||["-",0,0],i=+(r[1]*60)+Ue(r[2]),i===0?0:r[0]==="+"?i:-i)}function Rc(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(kn(e)||ro(e)?e.valueOf():dt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),pe.updateOffset(n,!1),n):dt(e).local()}function Tu(e){return-Math.round(e._d.getTimezoneOffset())}pe.updateOffset=function(){};function KI(e,t,n){var s=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Mc(Ga,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(r=Tu(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),s!==e&&(!t||this._changeInProgress?F_(this,xn(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,pe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Tu(this)}function qI(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function XI(e){return this.utcOffset(0,e)}function JI(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Tu(this),"m")),this}function QI(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Mc(yT,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ZI(e){return this.isValid()?(e=e?dt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ek(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function tk(){if(!Xt(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Sc(e,this),e=N_(e),e._a?(t=e._isUTC?Yn(e._a):dt(e._a),this._isDSTShifted=this.isValid()&&BI(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function nk(){return this.isValid()?!this._isUTC:!1}function sk(){return this.isValid()?this._isUTC:!1}function M_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var rk=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ik=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function xn(e,t){var n=e,s=null,r,i,o;return zo(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:ls(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(s=rk.exec(e))?(r=s[1]==="-"?-1:1,n={y:0,d:Ue(s[Mn])*r,h:Ue(s[kt])*r,m:Ue(s[wn])*r,s:Ue(s[ts])*r,ms:Ue(Su(s[er]*1e3))*r}):(s=ik.exec(e))?(r=s[1]==="-"?-1:1,n={y:Ks(s[2],r),M:Ks(s[3],r),w:Ks(s[4],r),d:Ks(s[5],r),h:Ks(s[6],r),m:Ks(s[7],r),s:Ks(s[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=ok(dt(n.from),dt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new Xa(n),zo(e)&&Ze(e,"_locale")&&(i._locale=e._locale),zo(e)&&Ze(e,"_isValid")&&(i._isValid=e._isValid),i}xn.fn=Xa.prototype;xn.invalid=zI;function Ks(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function fp(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ok(e,t){var n;return e.isValid()&&t.isValid()?(t=Rc(t,e),e.isBefore(t)?n=fp(e,t):(n=fp(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function R_(e,t){return function(n,s){var r,i;return s!==null&&!isNaN(+s)&&(d_(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=s,s=i),r=xn(n,s),F_(this,r,e),this}}function F_(e,t,n,s){var r=t._milliseconds,i=Su(t._days),o=Su(t._months);e.isValid()&&(s=s??!0,o&&w_(e,ua(e,"Month")+o*n),i&&h_(e,"Date",ua(e,"Date")+i*n),r&&e._d.setTime(e._d.valueOf()+r*n),s&&pe.updateOffset(e,i||o))}var ak=R_(1,"add"),lk=R_(-1,"subtract");function V_(e){return typeof e=="string"||e instanceof String}function uk(e){return kn(e)||ro(e)||V_(e)||ls(e)||dk(e)||ck(e)||e===null||e===void 0}function ck(e){var t=ir(e)&&!wc(e),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,i,o=s.length;for(r=0;r<o;r+=1)i=s[r],n=n||Ze(e,i);return t&&n}function dk(e){var t=In(e),n=!1;return t&&(n=e.filter(function(s){return!ls(s)&&V_(e)}).length===0),t&&n}function fk(e){var t=ir(e)&&!wc(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,i;for(r=0;r<s.length;r+=1)i=s[r],n=n||Ze(e,i);return t&&n}function pk(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function hk(e,t){arguments.length===1&&(arguments[0]?uk(arguments[0])?(e=arguments[0],t=void 0):fk(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||dt(),s=Rc(n,this).startOf("day"),r=pe.calendarFormat(this,s)||"sameElse",i=t&&(zn(t[r])?t[r].call(this,n):t[r]);return this.format(i||this.localeData().calendar(r,this,dt(n)))}function mk(){return new io(this)}function _k(e,t){var n=kn(e)?e:dt(e);return this.isValid()&&n.isValid()?(t=mn(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function gk(e,t){var n=kn(e)?e:dt(e);return this.isValid()&&n.isValid()?(t=mn(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function vk(e,t,n,s){var r=kn(e)?e:dt(e),i=kn(t)?t:dt(t);return this.isValid()&&r.isValid()&&i.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(s[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function yk(e,t){var n=kn(e)?e:dt(e),s;return this.isValid()&&n.isValid()?(t=mn(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function bk(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function wk(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ek(e,t,n){var s,r,i;if(!this.isValid())return NaN;if(s=Rc(e,this),!s.isValid())return NaN;switch(r=(s.utcOffset()-this.utcOffset())*6e4,t=mn(t),t){case"year":i=Bo(this,s)/12;break;case"month":i=Bo(this,s);break;case"quarter":i=Bo(this,s)/3;break;case"second":i=(this-s)/1e3;break;case"minute":i=(this-s)/6e4;break;case"hour":i=(this-s)/36e5;break;case"day":i=(this-s-r)/864e5;break;case"week":i=(this-s-r)/6048e5;break;default:i=this-s}return n?i:un(i)}function Bo(e,t){if(e.date()<t.date())return-Bo(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(n,"months"),r,i;return t-s<0?(r=e.clone().add(n-1,"months"),i=(t-s)/(s-r)):(r=e.clone().add(n+1,"months"),i=(t-s)/(r-s)),-(n+i)||0}pe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";pe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Sk(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Tk(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Yo(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Yo(n,"Z")):Yo(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ik(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,s,r,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+s+r+i)}function kk(e){e||(e=this.isUtc()?pe.defaultFormatUtc:pe.defaultFormat);var t=Yo(this,e);return this.localeData().postformat(t)}function Ok(e,t){return this.isValid()&&(kn(e)&&e.isValid()||dt(e).isValid())?xn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function xk(e){return this.from(dt(),e)}function Ak(e,t){return this.isValid()&&(kn(e)&&e.isValid()||dt(e).isValid())?xn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ck(e){return this.to(dt(),e)}function U_(e){var t;return e===void 0?this._locale._abbr:(t=fs(e),t!=null&&(this._locale=t),this)}var H_=hn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function W_(){return this._locale}var fa=1e3,Mr=60*fa,pa=60*Mr,j_=(365*400+97)*24*pa;function Rr(e,t){return(e%t+t)%t}function Y_(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-j_:new Date(e,t,n).valueOf()}function z_(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-j_:Date.UTC(e,t,n)}function $k(e){var t,n;if(e=mn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?z_:Y_,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Rr(t+(this._isUTC?0:this.utcOffset()*Mr),pa);break;case"minute":t=this._d.valueOf(),t-=Rr(t,Mr);break;case"second":t=this._d.valueOf(),t-=Rr(t,fa);break}return this._d.setTime(t),pe.updateOffset(this,!0),this}function Nk(e){var t,n;if(e=mn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?z_:Y_,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=pa-Rr(t+(this._isUTC?0:this.utcOffset()*Mr),pa)-1;break;case"minute":t=this._d.valueOf(),t+=Mr-Rr(t,Mr)-1;break;case"second":t=this._d.valueOf(),t+=fa-Rr(t,fa)-1;break}return this._d.setTime(t),pe.updateOffset(this,!0),this}function Lk(){return this._d.valueOf()-(this._offset||0)*6e4}function Pk(){return Math.floor(this.valueOf()/1e3)}function Dk(){return new Date(this.valueOf())}function Mk(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Rk(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Fk(){return this.isValid()?this.toISOString():null}function Vk(){return Ec(this)}function Uk(){return Ts({},Me(this))}function Hk(){return Me(this).overflow}function Wk(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Te("N",0,0,"eraAbbr");Te("NN",0,0,"eraAbbr");Te("NNN",0,0,"eraAbbr");Te("NNNN",0,0,"eraName");Te("NNNNN",0,0,"eraNarrow");Te("y",["y",1],"yo","eraYear");Te("y",["yy",2],0,"eraYear");Te("y",["yyy",3],0,"eraYear");Te("y",["yyyy",4],0,"eraYear");ge("N",Fc);ge("NN",Fc);ge("NNN",Fc);ge("NNNN",Zk);ge("NNNNN",eO);ot(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){var r=n._locale.erasParse(e,s,n._strict);r?Me(n).era=r:Me(n).invalidEra=e});ge("y",ai);ge("yy",ai);ge("yyy",ai);ge("yyyy",ai);ge("yo",tO);ot(["y","yy","yyy","yyyy"],Rt);ot(["yo"],function(e,t,n,s){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Rt]=n._locale.eraYearOrdinalParse(e,r):t[Rt]=parseInt(e,10)});function jk(e,t){var n,s,r,i=this._eras||fs("en")._eras;for(n=0,s=i.length;n<s;++n){switch(typeof i[n].since){case"string":r=pe(i[n].since).startOf("day"),i[n].since=r.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":r=pe(i[n].until).startOf("day").valueOf(),i[n].until=r.valueOf();break}}return i}function Yk(e,t,n){var s,r,i=this.eras(),o,a,l;for(e=e.toUpperCase(),s=0,r=i.length;s<r;++s)if(o=i[s].name.toUpperCase(),a=i[s].abbr.toUpperCase(),l=i[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[s];break;case"NNNN":if(o===e)return i[s];break;case"NNNNN":if(l===e)return i[s];break}else if([o,a,l].indexOf(e)>=0)return i[s]}function zk(e,t){var n=e.since<=e.until?1:-1;return t===void 0?pe(e.since).year():pe(e.since).year()+(t-e.offset)*n}function Bk(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].name;return""}function Gk(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].narrow;return""}function Kk(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].abbr;return""}function qk(){var e,t,n,s,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=r[e].since<=r[e].until?1:-1,s=this.clone().startOf("day").valueOf(),r[e].since<=s&&s<=r[e].until||r[e].until<=s&&s<=r[e].since)return(this.year()-pe(r[e].since).year())*n+r[e].offset;return this.year()}function Xk(e){return Ze(this,"_erasNameRegex")||Vc.call(this),e?this._erasNameRegex:this._erasRegex}function Jk(e){return Ze(this,"_erasAbbrRegex")||Vc.call(this),e?this._erasAbbrRegex:this._erasRegex}function Qk(e){return Ze(this,"_erasNarrowRegex")||Vc.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fc(e,t){return t.erasAbbrRegex(e)}function Zk(e,t){return t.erasNameRegex(e)}function eO(e,t){return t.erasNarrowRegex(e)}function tO(e,t){return t._eraYearOrdinalRegex||ai}function Vc(){var e=[],t=[],n=[],s=[],r,i,o=this.eras();for(r=0,i=o.length;r<i;++r)t.push(rn(o[r].name)),e.push(rn(o[r].abbr)),n.push(rn(o[r].narrow)),s.push(rn(o[r].name)),s.push(rn(o[r].abbr)),s.push(rn(o[r].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Te(0,["gg",2],0,function(){return this.weekYear()%100});Te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ja(e,t){Te(0,[e,e.length],0,t)}Ja("gggg","weekYear");Ja("ggggg","weekYear");Ja("GGGG","isoWeekYear");Ja("GGGGG","isoWeekYear");Vt("weekYear","gg");Vt("isoWeekYear","GG");Ut("weekYear",1);Ut("isoWeekYear",1);ge("G",Ba);ge("g",Ba);ge("GG",pt,ln);ge("gg",pt,ln);ge("GGGG",xc,Oc);ge("gggg",xc,Oc);ge("GGGGG",za,ja);ge("ggggg",za,ja);ao(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=Ue(e)});ao(["gg","GG"],function(e,t,n,s){t[s]=pe.parseTwoDigitYear(e)});function nO(e){return B_.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function sO(e){return B_.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function rO(){return ss(this.year(),1,4)}function iO(){return ss(this.isoWeekYear(),1,4)}function oO(){var e=this.localeData()._week;return ss(this.year(),e.dow,e.doy)}function aO(){var e=this.localeData()._week;return ss(this.weekYear(),e.dow,e.doy)}function B_(e,t,n,s,r){var i;return e==null?Gi(this,s,r).year:(i=ss(e,s,r),t>i&&(t=i),lO.call(this,e,t,n,s,r))}function lO(e,t,n,s,r){var i=I_(e,t,n,s,r),o=Bi(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Te("Q",0,"Qo","quarter");Vt("quarter","Q");Ut("quarter",7);ge("Q",m_);ot("Q",function(e,t){t[es]=(Ue(e)-1)*3});function uO(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Te("D",["DD",2],"Do","date");Vt("date","D");Ut("date",9);ge("D",pt);ge("DD",pt,ln);ge("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ot(["D","DD"],Mn);ot("Do",function(e,t){t[Mn]=Ue(e.match(pt)[0])});var G_=oi("Date",!0);Te("DDD",["DDDD",3],"DDDo","dayOfYear");Vt("dayOfYear","DDD");Ut("dayOfYear",4);ge("DDD",Ya);ge("DDDD",__);ot(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ue(e)});function cO(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Te("m",["mm",2],0,"minute");Vt("minute","m");Ut("minute",14);ge("m",pt);ge("mm",pt,ln);ot(["m","mm"],wn);var dO=oi("Minutes",!1);Te("s",["ss",2],0,"second");Vt("second","s");Ut("second",15);ge("s",pt);ge("ss",pt,ln);ot(["s","ss"],ts);var fO=oi("Seconds",!1);Te("S",0,0,function(){return~~(this.millisecond()/100)});Te(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Te(0,["SSS",3],0,"millisecond");Te(0,["SSSS",4],0,function(){return this.millisecond()*10});Te(0,["SSSSS",5],0,function(){return this.millisecond()*100});Te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Vt("millisecond","ms");Ut("millisecond",16);ge("S",Ya,m_);ge("SS",Ya,ln);ge("SSS",Ya,__);var Is,K_;for(Is="SSSS";Is.length<=9;Is+="S")ge(Is,ai);function pO(e,t){t[er]=Ue(("0."+e)*1e3)}for(Is="S";Is.length<=9;Is+="S")ot(Is,pO);K_=oi("Milliseconds",!1);Te("z",0,0,"zoneAbbr");Te("zz",0,0,"zoneName");function hO(){return this._isUTC?"UTC":""}function mO(){return this._isUTC?"Coordinated Universal Time":""}var oe=io.prototype;oe.add=ak;oe.calendar=hk;oe.clone=mk;oe.diff=Ek;oe.endOf=Nk;oe.format=kk;oe.from=Ok;oe.fromNow=xk;oe.to=Ak;oe.toNow=Ck;oe.get=gT;oe.invalidAt=Hk;oe.isAfter=_k;oe.isBefore=gk;oe.isBetween=vk;oe.isSame=yk;oe.isSameOrAfter=bk;oe.isSameOrBefore=wk;oe.isValid=Vk;oe.lang=H_;oe.locale=U_;oe.localeData=W_;oe.max=VI;oe.min=FI;oe.parsingFlags=Uk;oe.set=vT;oe.startOf=$k;oe.subtract=lk;oe.toArray=Mk;oe.toObject=Rk;oe.toDate=Dk;oe.toISOString=Tk;oe.inspect=Ik;typeof Symbol<"u"&&Symbol.for!=null&&(oe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});oe.toJSON=Fk;oe.toString=Sk;oe.unix=Pk;oe.valueOf=Lk;oe.creationData=Wk;oe.eraName=Bk;oe.eraNarrow=Gk;oe.eraAbbr=Kk;oe.eraYear=qk;oe.year=T_;oe.isLeapYear=RT;oe.weekYear=nO;oe.isoWeekYear=sO;oe.quarter=oe.quarters=uO;oe.month=E_;oe.daysInMonth=PT;oe.week=oe.weeks=jT;oe.isoWeek=oe.isoWeeks=YT;oe.weeksInYear=oO;oe.weeksInWeekYear=aO;oe.isoWeeksInYear=rO;oe.isoWeeksInISOWeekYear=iO;oe.date=G_;oe.day=oe.days=sI;oe.weekday=rI;oe.isoWeekday=iI;oe.dayOfYear=cO;oe.hour=oe.hours=fI;oe.minute=oe.minutes=dO;oe.second=oe.seconds=fO;oe.millisecond=oe.milliseconds=K_;oe.utcOffset=KI;oe.utc=XI;oe.local=JI;oe.parseZone=QI;oe.hasAlignedHourOffset=ZI;oe.isDST=ek;oe.isLocal=nk;oe.isUtcOffset=sk;oe.isUtc=M_;oe.isUTC=M_;oe.zoneAbbr=hO;oe.zoneName=mO;oe.dates=hn("dates accessor is deprecated. Use date instead.",G_);oe.months=hn("months accessor is deprecated. Use month instead",E_);oe.years=hn("years accessor is deprecated. Use year instead",T_);oe.zone=hn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",qI);oe.isDSTShifted=hn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",tk);function _O(e){return dt(e*1e3)}function gO(){return dt.apply(null,arguments).parseZone()}function q_(e){return e}var et=Tc.prototype;et.calendar=sT;et.longDateFormat=aT;et.invalidDate=uT;et.ordinal=fT;et.preparse=q_;et.postformat=q_;et.relativeTime=hT;et.pastFuture=mT;et.set=tT;et.eras=jk;et.erasParse=Yk;et.erasConvertYear=zk;et.erasAbbrRegex=Jk;et.erasNameRegex=Xk;et.erasNarrowRegex=Qk;et.months=CT;et.monthsShort=$T;et.monthsParse=LT;et.monthsRegex=MT;et.monthsShortRegex=DT;et.week=VT;et.firstDayOfYear=WT;et.firstDayOfWeek=HT;et.weekdays=QT;et.weekdaysMin=eI;et.weekdaysShort=ZT;et.weekdaysParse=nI;et.weekdaysRegex=oI;et.weekdaysShortRegex=aI;et.weekdaysMinRegex=lI;et.isPM=cI;et.meridiem=pI;function ha(e,t,n,s){var r=fs(),i=Yn().set(s,t);return r[n](i,e)}function X_(e,t,n){if(ls(e)&&(t=e,e=void 0),e=e||"",t!=null)return ha(e,t,n,"month");var s,r=[];for(s=0;s<12;s++)r[s]=ha(e,s,n,"month");return r}function Uc(e,t,n,s){typeof e=="boolean"?(ls(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,ls(t)&&(n=t,t=void 0),t=t||"");var r=fs(),i=e?r._week.dow:0,o,a=[];if(n!=null)return ha(t,(n+i)%7,s,"day");for(o=0;o<7;o++)a[o]=ha(t,(o+i)%7,s,"day");return a}function vO(e,t){return X_(e,t,"months")}function yO(e,t){return X_(e,t,"monthsShort")}function bO(e,t,n){return Uc(e,t,n,"weekdays")}function wO(e,t,n){return Uc(e,t,n,"weekdaysShort")}function EO(e,t,n){return Uc(e,t,n,"weekdaysMin")}As("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Ue(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});pe.lang=hn("moment.lang is deprecated. Use moment.locale instead.",As);pe.langData=hn("moment.langData is deprecated. Use moment.localeData instead.",fs);var Kn=Math.abs;function SO(){var e=this._data;return this._milliseconds=Kn(this._milliseconds),this._days=Kn(this._days),this._months=Kn(this._months),e.milliseconds=Kn(e.milliseconds),e.seconds=Kn(e.seconds),e.minutes=Kn(e.minutes),e.hours=Kn(e.hours),e.months=Kn(e.months),e.years=Kn(e.years),this}function J_(e,t,n,s){var r=xn(t,n);return e._milliseconds+=s*r._milliseconds,e._days+=s*r._days,e._months+=s*r._months,e._bubble()}function TO(e,t){return J_(this,e,t,1)}function IO(e,t){return J_(this,e,t,-1)}function pp(e){return e<0?Math.floor(e):Math.ceil(e)}function kO(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data,r,i,o,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=pp(Iu(n)+t)*864e5,t=0,n=0),s.milliseconds=e%1e3,r=un(e/1e3),s.seconds=r%60,i=un(r/60),s.minutes=i%60,o=un(i/60),s.hours=o%24,t+=un(o/24),l=un(Q_(t)),n+=l,t-=pp(Iu(l)),a=un(n/12),n%=12,s.days=t,s.months=n,s.years=a,this}function Q_(e){return e*4800/146097}function Iu(e){return e*146097/4800}function OO(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(e=mn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,n=this._months+Q_(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Iu(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function xO(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ue(this._months/12)*31536e6:NaN}function ps(e){return function(){return this.as(e)}}var AO=ps("ms"),CO=ps("s"),$O=ps("m"),NO=ps("h"),LO=ps("d"),PO=ps("w"),DO=ps("M"),MO=ps("Q"),RO=ps("y");function FO(){return xn(this)}function VO(e){return e=mn(e),this.isValid()?this[e+"s"]():NaN}function fr(e){return function(){return this.isValid()?this._data[e]:NaN}}var UO=fr("milliseconds"),HO=fr("seconds"),WO=fr("minutes"),jO=fr("hours"),YO=fr("days"),zO=fr("months"),BO=fr("years");function GO(){return un(this.days()/7)}var Xn=Math.round,xr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function KO(e,t,n,s,r){return r.relativeTime(t||1,!!n,e,s)}function qO(e,t,n,s){var r=xn(e).abs(),i=Xn(r.as("s")),o=Xn(r.as("m")),a=Xn(r.as("h")),l=Xn(r.as("d")),u=Xn(r.as("M")),c=Xn(r.as("w")),f=Xn(r.as("y")),d=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),d=d||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],d[2]=t,d[3]=+e>0,d[4]=s,KO.apply(null,d)}function XO(e){return e===void 0?Xn:typeof e=="function"?(Xn=e,!0):!1}function JO(e,t){return xr[e]===void 0?!1:t===void 0?xr[e]:(xr[e]=t,e==="s"&&(xr.ss=t-1),!0)}function QO(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=xr,r,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(s=Object.assign({},xr,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),r=this.localeData(),i=qO(this,!n,s,r),n&&(i=r.pastFuture(+this,i)),r.postformat(i)}var xl=Math.abs;function vr(e){return(e>0)-(e<0)||+e}function Qa(){if(!this.isValid())return this.localeData().invalidDate();var e=xl(this._milliseconds)/1e3,t=xl(this._days),n=xl(this._months),s,r,i,o,a=this.asSeconds(),l,u,c,f;return a?(s=un(e/60),r=un(s/60),e%=60,s%=60,i=un(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=vr(this._months)!==vr(a)?"-":"",c=vr(this._days)!==vr(a)?"-":"",f=vr(this._milliseconds)!==vr(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?c+t+"D":"")+(r||s||e?"T":"")+(r?f+r+"H":"")+(s?f+s+"M":"")+(e?f+o+"S":"")):"P0D"}var Ge=Xa.prototype;Ge.isValid=YI;Ge.abs=SO;Ge.add=TO;Ge.subtract=IO;Ge.as=OO;Ge.asMilliseconds=AO;Ge.asSeconds=CO;Ge.asMinutes=$O;Ge.asHours=NO;Ge.asDays=LO;Ge.asWeeks=PO;Ge.asMonths=DO;Ge.asQuarters=MO;Ge.asYears=RO;Ge.valueOf=xO;Ge._bubble=kO;Ge.clone=FO;Ge.get=VO;Ge.milliseconds=UO;Ge.seconds=HO;Ge.minutes=WO;Ge.hours=jO;Ge.days=YO;Ge.weeks=GO;Ge.months=zO;Ge.years=BO;Ge.humanize=QO;Ge.toISOString=Qa;Ge.toString=Qa;Ge.toJSON=Qa;Ge.locale=U_;Ge.localeData=W_;Ge.toIsoString=hn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qa);Ge.lang=H_;Te("X",0,0,"unix");Te("x",0,0,"valueOf");ge("x",Ba);ge("X",bT);ot("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});ot("x",function(e,t,n){n._d=new Date(Ue(e))});//! moment.js
pe.version="2.29.4";ZS(dt);pe.fn=oe;pe.min=UI;pe.max=HI;pe.now=WI;pe.utc=Yn;pe.unix=_O;pe.months=vO;pe.isDate=ro;pe.locale=As;pe.invalid=Ha;pe.duration=xn;pe.isMoment=kn;pe.weekdays=bO;pe.parseZone=gO;pe.localeData=fs;pe.isDuration=zo;pe.monthsShort=yO;pe.weekdaysMin=EO;pe.defineLocale=Nc;pe.updateLocale=gI;pe.locales=vI;pe.weekdaysShort=wO;pe.normalizeUnits=mn;pe.relativeTimeRounding=XO;pe.relativeTimeThreshold=JO;pe.calendarFormat=pk;pe.prototype=oe;pe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function ZO(e,t){return e.properties[t]&&e.properties[t].value!==void 0}function lo(e,t){const n=O.images[e],s=O.properties[t];return{propertyId:s.id,type:s.type,value:ZO(n,s.id)?n.properties[s.id].value:void 0,imageId:n.id,mode:s.mode}}function Z_(e){return Array.isArray(e.images)&&e.images.length>0}function Ar(e){return Array.isArray(e.imagePiles)&&e.imagePiles.length>0}function hp(e){return Ua(O.properties[e].type)}function ex(e){const t=O.tagNodes[e.property_id][e.id];let n=new Set;const s=r=>{n.add(r.id),r.children&&(r.children.forEach(i=>n.add(i.id)),r.children.forEach(i=>s(i)))};return s(t),n}function eg(e,t=[]){return t.push(e.id),e.parent!=null&&(t=eg(O.folders[e.parent],t)),t}const Cs="__undefined__",tx=5;function nx(e,t){e[t]===void 0&&(e[t]=[])}function tg(e,t,n=!1){let s=sx(e,t),r=s[0],i=Object.keys(s),o={};for(let l in s)s[l].images.length&&(s[l].images.forEach(u=>{nx(o,u.id),o[u.id].push(l)}),n&&Hc(s[l]));const a={index:s,root:r,order:i,imageToGroups:o};return sg(a),a}function sx(e,t){const n={};let s={name:"All",images:e,groups:void 0,count:e.length,propertyId:void 0,id:"0",depth:0,parentId:void 0,propertyValues:[]};return t.length>0&&(s=ng(s,t,n)),n[s.id]=s,n}function ng(e,t,n){let s=e.images,r=t[0],i=new QS(Array),o=O.properties[r].type;for(let l of s){let u=r in l.properties?l.properties[r].value:Cs;u==null||u===""?u=Cs:o==z.checkbox&&u!=!0&&(u=!1),Array.isArray(u)?u.forEach(c=>i[c].push(l)):o==z.date?i[pe(u).format("YYYY/MM")].push(l):i[u].push(l)}let a=[];for(let l in i){let u={name:l,images:i[l],groups:void 0,count:i[l].length,propertyId:r,id:e.id+"-"+r+"-"+l,depth:e.depth+1,parentId:e.id,propertyValues:[...e.propertyValues,{propertyId:r,value:l==Cs?void 0:l}]};a.push(u)}return t.length>1&&a.map(l=>ng(l,t.slice(1),n)),e.groups=a,e.children=a.map(l=>l.id),e.images=[],a.forEach(l=>n[l.id]=l),e}function sg(e){for(let t=0;t<e.order.length;t++){const n=e.order[t],s=e.index[n];s.order=t}}function rx(e,t){let n=e.id;if(t[n]==null)return e;e.closed=t[n].closed;let s=t[n].children;if(!s||s.length==0)return e;let r=t[n].groups;return Array.isArray(t[n].images)&&t[n].images.length>0&&r&&r.length>0&&(e.children=r.map(i=>i.id),e.groups=r),e}function Hc(e){const t=[],n={};for(let s of e.images)n[s.sha1]===void 0&&(n[s.sha1]=t.length,t.push({sha1:s.sha1,images:[]})),t[n[s.sha1]].images.push(s);e.imagePiles=t}function rg(e,t){const n=[],s=r=>{n.push(r),r.parentId!=null&&s(e[r.parentId])};return s(t),n}class qi{constructor(t,n=0,s=0){Dt(this,"groupIndex");Dt(this,"imageIndex");Dt(this,"data");this.data=t,this.groupIndex=n,this.imageIndex=s}clone(){return new qi(this.data,this.groupIndex,this.imageIndex)}goToImage(t,n){if(this.groupIndex=this.data.order.findIndex(r=>r===t),this.groupIndex<0)return!1;const s=this.data.index[t];if(Ar(s)){const r=O.images[n].sha1;this.imageIndex=s.imagePiles.findIndex(i=>i.sha1==r)}else if(this.imageIndex=s.images.findIndex(r=>r.id==n),this.imageIndex<0)return!1;return!0}getGroup(){return this.data.index[this.data.order[this.groupIndex]]}getImages(){const t=this.getGroup();return Ar(t)?t.imagePiles[this.imageIndex].images:[t.images[this.imageIndex]]}next(){const t=this.getGroup();if(Ar(t)&&t.imagePiles.length>this.imageIndex+1)return this.imageIndex+=1,!0;if(!Ar(t)&&t.images.length>this.imageIndex+1)return this.imageIndex+=1,!0;if(this.data.order.length<=this.groupIndex)return!1;let n=1/0;for(let s=this.groupIndex+1;s<this.data.order.length;s++){const r=this.data.index[this.data.order[s]];if(r.closed&&r.depth<n){n=r.depth;continue}if(!(r.depth>n)&&(n=1/0,r.images.length!=0))return this.groupIndex=s,this.imageIndex=0,!0}return!1}}class Za{constructor(t,n=0){Dt(this,"groupIndex");Dt(this,"data");this.data=t,this.groupIndex=n}clone(){return new Za(this.data,this.groupIndex)}getGroup(){return this.data.index[this.data.order[this.groupIndex]]}next(){for(let t=this.groupIndex+1;t<this.data.order.length;t++)if(this.data.index[this.data.order[t]].images.length!=0)return this.groupIndex=t,!0;return!1}}function ig(e){switch(e){case z.checkbox:return it.isTrue;case z.multi_tags:case z.tag:return it.containsAny;case z.date:return it.greater;default:return it.equal}}function Tt(e){return e===void 0||e===""||ke(e)&&e.length===0||e===null}const og={[it.geq]:(e,t)=>t==null?!0:e==null?!1:e>=t,[it.leq]:(e,t)=>t==null?!0:e==null?!1:e<=t,[it.lower]:(e,t)=>t==null?!0:e==null?!1:e<t,[it.greater]:(e,t)=>t==null?!0:e==null?!1:e>t,[it.and]:(e,t)=>e&&t,[it.or]:(e,t)=>e||t,[it.contains]:(e,t)=>Tt(t)?!0:Tt(e)?!1:e.includes(t),[it.containsAll]:(e,t)=>{if(Tt(t))return!0;if(Tt(e))return!1;for(let n of t)if(!n.some(s=>e.has(s)))return!1;return!0},[it.containsAny]:(e,t)=>{if(Tt(t))return!0;if(Tt(e))return!1;for(let n of t)if(n.some(s=>e.has(s)))return!0;return!1},[it.containsNot]:(e,t)=>Tt(t)||Tt(e)?!0:!e.some(n=>t.includes(n)),[it.equal]:(e,t)=>Tt(t)?!0:Tt(e)?!1:e==t,[it.equalNot]:(e,t)=>Tt(t)||Tt(e)?!0:e!=t,[it.isFalse]:e=>Tt(e)?!0:e==!1,[it.isTrue]:e=>e,[it.isSet]:e=>!Tt(e),[it.notSet]:e=>Tt(e),[it.startsWith]:(e,t)=>Tt(t)?!0:Tt(e)?!1:e.startsWith(t),[it.like]:(e,t)=>Tt(t)?!0:Tt(e)?!1:e.match(t)};function ix(e,t){let n=og[e.operator];return n(t,e.value)}function ag(e,t){if(t.filters.length==0)return!0;let n=t.groupOperator?t.groupOperator:it.and,s=n==it.and,r=og[n];for(let i of t.filters)if(i.isGroup)s=r(ag(e,i),s);else{let o={...i},a=o.propertyId,l=O.properties[a].type,u=e.properties[a],c=u?u.value:void 0;if(Array.isArray(o.value)&&o.value.length>0&&Ua(l)){const _=o.value.map(h=>Array.from(ex(O.tags[a][h])));o.value=_,c!==void 0&&(c=new Set(c))}let f=ix(o,c);s=r(s,f)}return s}class lr{constructor(t=void 0){Dt(this,"filter");Dt(this,"filterIndex");this.filter=t,this.filterIndex={},this.filter==null?(this.filterIndex={},this.addNewFilterGroup()):this.recursiveRegister(this.filter)}addNewFilterGroup(t=void 0){let n=this.createFilterGroup();if(t!=null){let r=this.filterIndex[t];if(r==null)throw"Invalid Parent !";r.filters.push(n);const i=r.filters[r.filters.length-1];return this.registerFilter(i),i}if(this.filter==null)return this.filter=Je(n),this.registerFilter(this.filter),this.filter;this.filter.filters.push(n);const s=this.filter.filters[this.filter.filters.length-1];return this.registerFilter(s),s}addNewFilter(t,n=void 0){let s=this.createFilter(t);if(n!=null){let i=this.filterIndex[n];if(i==null)throw new Error("group is undefined");if(!i.isGroup)throw new TypeError("Parent filter is not a FilterGroup, cannot add filter to it");i.filters.push(s);const o=i.filters[i.filters.length-1];return this.registerFilter(o),o}this.filter.filters.push(s);const r=this.filter.filters[this.filter.filters.length-1];return this.registerFilter(r),r}deleteFilter(t){Object.values(this.filterIndex).forEach(n=>{if(!n.isGroup)return;const s=n;s.filters=s.filters.filter(r=>r.id!=t)}),delete this.filterIndex[t]}registerFilter(t){return t.id>=0&&console.error("registerFilter should not receive a filter with valid id"),t.id=this.nextIndex(),this.filterIndex[t.id]=t,this.filterIndex[t.id]}createFilter(t){let n=O.properties[t];return{propertyId:n.id,operator:ig(n.type),value:bc(n.type),id:-1}}createFilterGroup(){return{filters:[],groupOperator:it.or,depth:0,isGroup:!0,id:-1}}nextIndex(){return this.filter==null||Object.keys(this.filterIndex).length==0?0:Math.max(...Object.keys(this.filterIndex).map(Number))+1}recursiveRegister(t){if(t.id==null||t.id==-1?t=this.registerFilter(t):this.filterIndex[t.id]=t,!t.isGroup)return;t.filters.forEach(s=>this.recursiveRegister(s))}}const O=Je({images:{},sha1Index:{},tags:{},tagNodes:{},properties:{},folders:{},tabs:{},importState:{},settings:{pageSize:200,propertyTypes:Object.values(z),propertySettings:{}},openModal:{id:null,data:null},isLoaded:!1,pressedKeys:{},selectedTab:0,async addTab(e){let t=XS(),n=await US({name:e,data:t});n.data.filterManager=new lr(n.data.filter),this.tabs[n.id]=n,this.selectedTab=n.id},async removeTab(e){await WS(e),delete this.tabs[e],this.verifySelectedTab()},async updateTab(e){await HS(e)},selectTab(e){O.selectedTabName=e,O.updateTab()},getTab(){return O.tabs[O.selectedTab]},async loadTabState(){let e=await VS();e.forEach(t=>{t.data.selectedFolders==null&&(t.data.selectedFolders={}),t.data.visibleFolders==null&&(t.data.visibleFolders={}),t.data.visibleProperties&&Object.keys(t.data.visibleProperties).map(Number).forEach(r=>{O.properties[r]==null&&delete t.data.visibleProperties[r]}),O.tabs[t.id]=t;let n=new lr(t.data.filter);t.data.filterManager=n}),e.length==0&&await this.addTab("Tab1"),this.verifySelectedTab()},verifySelectedTab(){this.tabs[this.selectedTab]==null&&(this.selectedTab=Object.keys(this.tabs)[0])},imageList:P(()=>Object.keys(O.images).map(Number).map(e=>({url:O.images[e].url,imageName:O.images[e].sha1}))),propertyList:P(()=>Object.values(O.properties)),setPropertyVisible(e,t){this.tabs[this.selectedTab].data.visibleProperties[e]=t},getPropertyVisible(e){return this.tabs[this.selectedTab].data.visibleProperties[e]},getSha1Mode(){return O.getTab().data.sha1Mode},getVisibleViewProperties(){return Object.entries(O.tabs[O.selectedTab].data.visibleProperties).filter(([e,t])=>t).map(([e,t])=>Number(e)).map(e=>O.properties[e]).filter(e=>!O.getSha1Mode()||e.mode==dn.sha1)},tagTrees:P(()=>{const e={};return Object.values(O.properties).forEach(t=>{O.tags[t.id]||(O.tags[t.id]={}),e[t.id]=ox(O.tags[t.id],t.id)}),e}),folderTree:P(()=>Object.values(O.folders).filter(e=>e.parent==null)),showModal(e,t){O.openModal.id=e,O.openModal.data=t},hideModal(){O.openModal={id:null,data:null}},getOneImagePerSha1(e){return e.map(t=>O.sha1Index[t][0])},importImage(e){Object.keys(e.properties).forEach(t=>e.properties[t]=Object.assign({propertyId:Number(t)},e.properties[t])),e.properties[Kt.sha1]={propertyId:Kt.sha1,value:e.sha1},e.properties[Kt.ahash]={propertyId:Kt.ahash,value:e.ahash},e.containerRatio=lx(e),Array.isArray(O.sha1Index[e.sha1])||(O.sha1Index[e.sha1]=[]),O.sha1Index[e.sha1].push(e),O.images[e.id]=e,e.properties[Kt.folders]={propertyId:Kt.folders,value:e.folder_id}},async fetchAllData(){let e=await op(),t=await ap(),n=await OS(),s=await RS();n[Kt.sha1]={id:Kt.sha1,name:"sha1",type:z._sha1,mode:"sha1"},n[Kt.ahash]={id:Kt.ahash,name:"average hash",type:z._ahash,mode:"sha1"},n[Kt.folders]={id:Kt.folders,name:"folders",type:z._folders,mode:"sha1"},Object.values(e).forEach(this.importImage),this.tags=t,this.properties=n,this.folders=ax(s),await this.loadTabState(),this.importState=await lp(),setInterval(async()=>{O.applyImportState(await lp())},1e3),this.updatePropertyOptions(),this.isLoaded=!0,this.countTags(),this.countImagePerFolder()},applyImportState(e){e.new_images.forEach(O.importImage),this.importState=e},async importFolders(){await FS(),await this.fetchAllData()},countTags(){Object.values(this.tags).forEach(e=>Object.values(e).forEach(t=>t.count=0));for(let e of Object.values(O.images))for(let t of Object.values(e.properties))if(hp(t.propertyId)&&!(!t.value||!Array.isArray(t.value)))for(let n of t.value)this.tags[t.propertyId][n].count+=1},countImagePerFolder(){const e={};Object.values(this.folders).forEach(s=>{e[s.id]=eg(s),s.count=0}),Object.values(this.images).forEach(s=>e[s.folder_id].forEach(r=>O.folders[r].count+=1))},async addTag(e,t,n,s){s==null&&(s=Math.round(Math.random()*(Hn.length-1)));const r=await xS(e,t,s,n);return r.count=0,this.tags[e][r.id]=r,r},async addTagParent(e,t){const n=await AS(e,t);this.tags[n.property_id][n.id]=n},async deleteTagParent(e,t,n){if(!n&&!confirm("Delete tag: "+e))return;await LS(e,t),this.tags=await ap();let s=await op();Object.values(s).forEach(O.importImage)},async addProperty(e,t,n){const s=await CS(e,t,n);this.properties[s.id]=s,this.updatePropertyOptions()},updatePropertyOptions(){for(let e in this.tabs){const t=this.tabs[e];t.data.propertyOptions==null&&(t.data.propertyOptions={});for(let n in O.properties)t.data.propertyOptions[n]=Object.assign(qS(),t.data.propertyOptions[n])}},async setPropertyValue(e,t,n,s=null){Array.isArray(t)||(t=[t]);let r=this.properties[e],i,o;r.mode==dn.id&&(i=Array.from(new Set(t.map(c=>c.id)))),r.mode==dn.sha1&&(o=Array.from(new Set(t.map(c=>c.sha1))));let a=r.type;(n==bc(a)||Array.isArray(n)&&n.length==0)&&(n=void 0);const l=await $S(e,i,o,n,s),u=l.updated_ids;n=l.value;for(let c of u)if(s==null)this.images[c].properties[e]={propertyId:e,value:n};else{let f=this.images[c].properties[e]??{propertyId:e,value:[]};Array.isArray(f.value)||(f.value=[]),f.value.push(...n),f.value=[...new Set(f.value)],this.images[c].properties[e]=f}hp(e)&&this.countTags()},async updateTag(e,t,n,s,r){const i=await NS(t,n,s,r);this.tags[e][t]=i},async addFolder(e){PS(e).then(()=>O.fetchAllData())},async updateProperty(e,t){await DS(e,t),this.properties[e].name=t,this.updatePropertyOptions()},async deleteProperty(e){await MS(e),delete this.properties[e],Object.values(O.tabs).forEach(t=>{Object.keys(t.data.visibleProperties).map(Number).forEach(n=>{O.properties[n]==null&&delete t.data.visibleProperties[n]})})},async getMLGroups(e=50,t=[]){return await jS(e,t)},async computeMLGroups(e=void 0,t=10){let n;return e?n=await O.getMLGroups(Math.min(t,e.length),e):n=await O.getMLGroups(t),n},async getSimilarImages(e){return e=Array.isArray(e)?e:[e],await YS(e)},async getSimilarImagesFromText(e){return await zS(e)},getFolderChildren(e){let t={};return this.folders[e].children.forEach(s=>{t[s.id]=!0,O.getFolderChildren(s.id).forEach(i=>t[i]=!0)}),Object.keys(t).map(Number)},async uploadPropFile(e){BS(e)},addGrouping(e){const t=O.getTab().data.groups;t.length>=tx&&t.pop();let n=t.indexOf(e);n<0&&(t.push(e),n=t.length-1);const s=O.getTab().data.sortList;if(!s[n]||s[n].property_id!=e||!s[n].isGroup){const r={property_id:e,ascending:!0,isGroup:!0,byGroupSize:!1};O.getTab().data.sortList=[...s.slice(0,n).filter(i=>i.property_id!=e),r,...s.slice(n).filter(i=>i.property_id!=e)]}},delGrouping(e){const t=O.getTab().data.groups,n=t.indexOf(e);n<0||(t.splice(n,1),O.getTab().data.sortList.splice(n,1))}});function ox(e,t){let n={};Object.values(e).forEach(u=>{u.parents.forEach(c=>{n[c]||(n[c]=[]),n[c].push(u.id)})});let s={id:0,localId:"0",value:"root"},r=[s,...Object.values(e)];r=r.map(u=>({...u,children:n[u.id]}));let i={};r.forEach(u=>i[u.id]=u),s=i[0];let o={},a=(u,c)=>(c==null?u.localId=u.id+"":(o[u.id]=u,u.localId=c.localId+"."+u.id,u.localParent=c.id),u.children&&(u.children=u.children.map(f=>{let d={...i[f]};return u.color&&(d.color=u.color),a(d,u)})),u),l=a(s);return O.tagNodes[t]=o,l}function ax(e){let t={};e.forEach(s=>{s.children=[],t[s.id]=s});let n={};return e.forEach(s=>{s.parent&&(n[s.parent]==null&&(n[s.parent]=[]),n[s.parent].push(s))}),Object.keys(n).forEach(s=>{s!=null&&n[s].forEach(r=>{t[s].children.push(r)})}),t}function lx(e){let t=e.width/e.height;return Math.max(Math.min(2,t),1)}class lg{constructor(t,n,s=void 0){Dt(this,"index");Dt(this,"parent");Dt(this,"children");Dt(this,"inputElem");this.index=t,this.parent=n,this.inputElem=s,this.children={}}hasChildren(){return Object.keys(this.children).length>0}hasParent(){return this.parent!=null}hasElem(){return this.inputElem!=null}nextInput(t=0){if(!this.hasParent())return;let n=this.parent.sortedChildren().find(r=>r.index>this.index),s=this.parent;for(;n==null&&t>0&&s!=null;)n=s.nextInput(),t-=1,s=s.parent;return n&&n.hasChildren()&&(n=n.firstInput()),n}prevInput(t=0){if(!this.hasParent())return;let n=this.parent.sortedChildren().findLast(r=>r.index<this.index),s=this.parent;for(;n==null&&t>0&&s!=null;)n=s.prevInput(),t-=1,s=s.parent;return n&&n.hasChildren()&&(n=n.lastInput()),n}sortedChildren(){return Object.values(this.children).sort((t,n)=>t.index-n.index)}firstInput(){let t=this.sortedChildren()[0];if(t==null)throw"cannot call firstInput if Node has no children";if(t.hasChildren())return t.firstInput();if(t.hasElem())return t}lastInput(){let t=this.sortedChildren()[Object.keys(this.children).length-1];if(t==null)throw"cannot call lastInput if Node has no children";if(t.hasChildren())return t.lastInput();if(t.hasElem())return t}}const Wc=new lg(0,void 0);function Zt(e,t){let n=Wc;for(let s of e)n.children[s]||(n.children[s]=new lg(s,n)),n=n.children[s];n.inputElem=t}function ux(){return Wc}function jc(e){let t=Wc;for(let n of e){if(!t.children[n])return;t=t.children[n]}return t}function Gr(e){if(e==null)return;let t=jc(e);if(t==null)throw"This Error should not happen, why is the input no registered ?? Ask devs, unhappy devs";t=t.nextInput(),t&&t.inputElem.click()}function Kr(e){if(e==null)return;let t=jc(e);if(t==null)throw"This Error should not happen, why is the input no registered ?? Ask devs, unhappy devs";t=t.prevInput(),t&&t.inputElem.click()}Zt([0,0],"0.0");Zt([0,1],"0.1");Zt([0,2],"0.2");Zt([0,3],"0.3");Zt([1,0],"1.0");Zt([1,2],"1.2");Zt([1,3],"1.3");const cx=Object.freeze(Object.defineProperty({__proto__:null,getInput:jc,getTree:ux,nextInput:Gr,prevInput:Kr,registerInput:Zt},Symbol.toStringTag,{value:"Module"})),dx={__name:"App",setup(e){return Ve(()=>{O.fetchAllData()}),document.title="Panoptic",document.meta=cx,(t,n)=>(m(),w("body",null,[H(p(Um))]))}},fx=["onClick"],px={class:"text-secondary"},hx=["onClick"],mx=fe({__name:"FolderList",props:{folders:Array,tab:Object,root:{type:Boolean,default:!0}},setup(e){const t=e,n=P(()=>{let u={};return t.folders.map(c=>c.id).forEach(c=>{t.tab.selectedFolders[c]&&(u[c]=!0)}),u}),s=P(()=>{let u={};return t.folders.map(c=>c.id).forEach(c=>{t.tab.visibleFolders[c]&&(u[c]=!0)}),u}),r=P(()=>{let u={};return t.folders.forEach(c=>{let f=[];n.value[c.id]&&f.push("selected"),u[c.id]=f.join(" ")}),u});function i(u){let c=t.tab.visibleFolders;c[u]?delete c[u]:c[u]=!0}function o(u){let c=t.tab.selectedFolders;c[u]?delete c[u]:(a(O.folders[u]),l(O.folders[u]),c[u]=!0)}function a(u){delete t.tab.selectedFolders[u.id],u.parent!=null&&a(O.folders[u.parent])}function l(u){u.children.forEach(c=>{delete t.tab.selectedFolders[c.id],c.children.forEach(l)})}return(u,c)=>{const f=Uh("FolderList",!0);return m(),w("ul",{class:Ie(t.root?"tree":""),style:ye(t.root?"padding-left:0px;":"")},[(m(!0),w(ie,null,Oe(e.folders,d=>(m(),w("li",{style:ye(t.root?"padding-left:0px;":"")},[v("summary",{class:Ie(p(r)[d.id]),onClick:_=>o(d.id)},[Nt(Q(d.name)+" ",1),v("span",px,Q(d.count),1)],10,fx),d.children&&d.children.length>0?(m(),w("i",{key:0,onClick:_=>i(d.id),class:Ie("bi bi-chevron-"+(p(s)[d.id]?"down":"right")+" ms-2 btn-icon"),style:{"font-size":"9px"}},null,10,hx)):F("",!0),d.children&&d.children.length>0&&p(s)[d.id]?(m(),_e(f,{key:1,folders:d.children,root:!1,tab:t.tab},null,8,["folders","tab"])):F("",!0)],4))),256))],6)}}}),$e=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},_x=$e(mx,[["__scopeId","data-v-d36b9445"]]),gx={key:0,class:"bi bi-text-left"},vx={key:1,class:"bi bi-123"},yx={key:2,class:"bi bi-calendar-date"},bx={key:3,class:"bi bi-code-slash"},wx={key:4,class:"bi bi-card-image"},Ex={key:5,class:"bi bi-globe"},Sx={key:6,class:"bi bi-palette"},Tx={key:7,class:"bi bi-check-square"},Ix={key:8,class:"bi bi-tag-fill"},kx={key:9,class:"bi bi-tags-fill"},Ox={key:10,class:"bi bi-folder"},xx={key:11,class:"bi bi-hash"},Pt=fe({__name:"PropertyIcon",props:["type"],setup(e){const t=e;return(n,s)=>(m(),w("span",null,[t.type==p(z).string?(m(),w("i",gx)):t.type==p(z).number?(m(),w("i",vx)):t.type==p(z).date?(m(),w("i",yx)):t.type==p(z).path?(m(),w("i",bx)):t.type==p(z).image_link?(m(),w("i",wx)):t.type==p(z).url?(m(),w("i",Ex)):t.type==p(z).color?(m(),w("i",Sx)):t.type==p(z).checkbox?(m(),w("i",Tx)):e.type==p(z).tag?(m(),w("i",Ix)):e.type==p(z).multi_tags?(m(),w("i",kx)):t.type==p(z)._folders?(m(),w("i",Ox)):t.type==p(z)._ahash||t.type==p(z)._sha1?(m(),w("i",xx)):F("",!0)]))}});var Yt="top",on="bottom",an="right",zt="left",el="auto",li=[Yt,on,an,zt],ur="start",qr="end",ug="clippingParents",Yc="viewport",Tr="popper",cg="reference",ku=li.reduce(function(e,t){return e.concat([t+"-"+ur,t+"-"+qr])},[]),zc=[].concat(li,[el]).reduce(function(e,t){return e.concat([t,t+"-"+ur,t+"-"+qr])},[]),dg="beforeRead",fg="read",pg="afterRead",hg="beforeMain",mg="main",_g="afterMain",gg="beforeWrite",vg="write",yg="afterWrite",bg=[dg,fg,pg,hg,mg,_g,gg,vg,yg];function jn(e){return e?(e.nodeName||"").toLowerCase():null}function _n(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function cr(e){var t=_n(e).Element;return e instanceof t||e instanceof Element}function fn(e){var t=_n(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Bc(e){if(typeof ShadowRoot>"u")return!1;var t=_n(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Ax(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var s=t.styles[n]||{},r=t.attributes[n]||{},i=t.elements[n];!fn(i)||!jn(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(o){var a=r[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function Cx(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(s){var r=t.elements[s],i=t.attributes[s]||{},o=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:n[s]),a=o.reduce(function(l,u){return l[u]="",l},{});!fn(r)||!jn(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(l){r.removeAttribute(l)}))})}}const Gc={name:"applyStyles",enabled:!0,phase:"write",fn:Ax,effect:Cx,requires:["computeStyles"]};function Vn(e){return e.split("-")[0]}var or=Math.max,ma=Math.min,Xr=Math.round;function Ou(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function wg(){return!/^((?!chrome|android).)*safari/i.test(Ou())}function Jr(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var s=e.getBoundingClientRect(),r=1,i=1;t&&fn(e)&&(r=e.offsetWidth>0&&Xr(s.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Xr(s.height)/e.offsetHeight||1);var o=cr(e)?_n(e):window,a=o.visualViewport,l=!wg()&&n,u=(s.left+(l&&a?a.offsetLeft:0))/r,c=(s.top+(l&&a?a.offsetTop:0))/i,f=s.width/r,d=s.height/i;return{width:f,height:d,top:c,right:u+f,bottom:c+d,left:u,x:u,y:c}}function Kc(e){var t=Jr(e),n=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:s}}function Eg(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Bc(n)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function us(e){return _n(e).getComputedStyle(e)}function $x(e){return["table","td","th"].indexOf(jn(e))>=0}function Hs(e){return((cr(e)?e.ownerDocument:e.document)||window.document).documentElement}function tl(e){return jn(e)==="html"?e:e.assignedSlot||e.parentNode||(Bc(e)?e.host:null)||Hs(e)}function mp(e){return!fn(e)||us(e).position==="fixed"?null:e.offsetParent}function Nx(e){var t=/firefox/i.test(Ou()),n=/Trident/i.test(Ou());if(n&&fn(e)){var s=us(e);if(s.position==="fixed")return null}var r=tl(e);for(Bc(r)&&(r=r.host);fn(r)&&["html","body"].indexOf(jn(r))<0;){var i=us(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function uo(e){for(var t=_n(e),n=mp(e);n&&$x(n)&&us(n).position==="static";)n=mp(n);return n&&(jn(n)==="html"||jn(n)==="body"&&us(n).position==="static")?t:n||Nx(e)||t}function qc(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $i(e,t,n){return or(e,ma(t,n))}function Lx(e,t,n){var s=$i(e,t,n);return s>n?n:s}function Sg(){return{top:0,right:0,bottom:0,left:0}}function Tg(e){return Object.assign({},Sg(),e)}function Ig(e,t){return t.reduce(function(n,s){return n[s]=e,n},{})}var Px=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Tg(typeof t!="number"?t:Ig(t,li))};function Dx(e){var t,n=e.state,s=e.name,r=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Vn(n.placement),l=qc(a),u=[zt,an].indexOf(a)>=0,c=u?"height":"width";if(!(!i||!o)){var f=Px(r.padding,n),d=Kc(i),_=l==="y"?Yt:zt,h=l==="y"?on:an,E=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],S=o[l]-n.rects.reference[l],y=uo(i),I=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,C=E/2-S/2,T=f[_],L=I-d[c]-f[h],A=I/2-d[c]/2+C,N=$i(T,A,L),V=l;n.modifiersData[s]=(t={},t[V]=N,t.centerOffset=N-A,t)}}function Mx(e){var t=e.state,n=e.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Eg(t.elements.popper,r)&&(t.elements.arrow=r))}const kg={name:"arrow",enabled:!0,phase:"main",fn:Dx,effect:Mx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qr(e){return e.split("-")[1]}var Rx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fx(e){var t=e.x,n=e.y,s=window,r=s.devicePixelRatio||1;return{x:Xr(t*r)/r||0,y:Xr(n*r)/r||0}}function _p(e){var t,n=e.popper,s=e.popperRect,r=e.placement,i=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=o.x,_=d===void 0?0:d,h=o.y,E=h===void 0?0:h,S=typeof c=="function"?c({x:_,y:E}):{x:_,y:E};_=S.x,E=S.y;var y=o.hasOwnProperty("x"),I=o.hasOwnProperty("y"),C=zt,T=Yt,L=window;if(u){var A=uo(n),N="clientHeight",V="clientWidth";if(A===_n(n)&&(A=Hs(n),us(A).position!=="static"&&a==="absolute"&&(N="scrollHeight",V="scrollWidth")),A=A,r===Yt||(r===zt||r===an)&&i===qr){T=on;var U=f&&A===L&&L.visualViewport?L.visualViewport.height:A[N];E-=U-s.height,E*=l?1:-1}if(r===zt||(r===Yt||r===on)&&i===qr){C=an;var $=f&&A===L&&L.visualViewport?L.visualViewport.width:A[V];_-=$-s.width,_*=l?1:-1}}var D=Object.assign({position:a},u&&Rx),Y=c===!0?Fx({x:_,y:E}):{x:_,y:E};if(_=Y.x,E=Y.y,l){var q;return Object.assign({},D,(q={},q[T]=I?"0":"",q[C]=y?"0":"",q.transform=(L.devicePixelRatio||1)<=1?"translate("+_+"px, "+E+"px)":"translate3d("+_+"px, "+E+"px, 0)",q))}return Object.assign({},D,(t={},t[T]=I?E+"px":"",t[C]=y?_+"px":"",t.transform="",t))}function Vx(e){var t=e.state,n=e.options,s=n.gpuAcceleration,r=s===void 0?!0:s,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Vn(t.placement),variation:Qr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,_p(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,_p(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Xc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Vx,data:{}};var xo={passive:!0};function Ux(e){var t=e.state,n=e.instance,s=e.options,r=s.scroll,i=r===void 0?!0:r,o=s.resize,a=o===void 0?!0:o,l=_n(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,xo)}),a&&l.addEventListener("resize",n.update,xo),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,xo)}),a&&l.removeEventListener("resize",n.update,xo)}}const Jc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ux,data:{}};var Hx={left:"right",right:"left",bottom:"top",top:"bottom"};function Go(e){return e.replace(/left|right|bottom|top/g,function(t){return Hx[t]})}var Wx={start:"end",end:"start"};function gp(e){return e.replace(/start|end/g,function(t){return Wx[t]})}function Qc(e){var t=_n(e),n=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Zc(e){return Jr(Hs(e)).left+Qc(e).scrollLeft}function jx(e,t){var n=_n(e),s=Hs(e),r=n.visualViewport,i=s.clientWidth,o=s.clientHeight,a=0,l=0;if(r){i=r.width,o=r.height;var u=wg();(u||!u&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:i,height:o,x:a+Zc(e),y:l}}function Yx(e){var t,n=Hs(e),s=Qc(e),r=(t=e.ownerDocument)==null?void 0:t.body,i=or(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=or(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+Zc(e),l=-s.scrollTop;return us(r||n).direction==="rtl"&&(a+=or(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function ed(e){var t=us(e),n=t.overflow,s=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function Og(e){return["html","body","#document"].indexOf(jn(e))>=0?e.ownerDocument.body:fn(e)&&ed(e)?e:Og(tl(e))}function Ni(e,t){var n;t===void 0&&(t=[]);var s=Og(e),r=s===((n=e.ownerDocument)==null?void 0:n.body),i=_n(s),o=r?[i].concat(i.visualViewport||[],ed(s)?s:[]):s,a=t.concat(o);return r?a:a.concat(Ni(tl(o)))}function xu(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function zx(e,t){var n=Jr(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function vp(e,t,n){return t===Yc?xu(jx(e,n)):cr(t)?zx(t,n):xu(Yx(Hs(e)))}function Bx(e){var t=Ni(tl(e)),n=["absolute","fixed"].indexOf(us(e).position)>=0,s=n&&fn(e)?uo(e):e;return cr(s)?t.filter(function(r){return cr(r)&&Eg(r,s)&&jn(r)!=="body"}):[]}function Gx(e,t,n,s){var r=t==="clippingParents"?Bx(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(l,u){var c=vp(e,u,s);return l.top=or(c.top,l.top),l.right=ma(c.right,l.right),l.bottom=ma(c.bottom,l.bottom),l.left=or(c.left,l.left),l},vp(e,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function xg(e){var t=e.reference,n=e.element,s=e.placement,r=s?Vn(s):null,i=s?Qr(s):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(r){case Yt:l={x:o,y:t.y-n.height};break;case on:l={x:o,y:t.y+t.height};break;case an:l={x:t.x+t.width,y:a};break;case zt:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=r?qc(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case ur:l[u]=l[u]-(t[c]/2-n[c]/2);break;case qr:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Zr(e,t){t===void 0&&(t={});var n=t,s=n.placement,r=s===void 0?e.placement:s,i=n.strategy,o=i===void 0?e.strategy:i,a=n.boundary,l=a===void 0?ug:a,u=n.rootBoundary,c=u===void 0?Yc:u,f=n.elementContext,d=f===void 0?Tr:f,_=n.altBoundary,h=_===void 0?!1:_,E=n.padding,S=E===void 0?0:E,y=Tg(typeof S!="number"?S:Ig(S,li)),I=d===Tr?cg:Tr,C=e.rects.popper,T=e.elements[h?I:d],L=Gx(cr(T)?T:T.contextElement||Hs(e.elements.popper),l,c,o),A=Jr(e.elements.reference),N=xg({reference:A,element:C,strategy:"absolute",placement:r}),V=xu(Object.assign({},C,N)),U=d===Tr?V:A,$={top:L.top-U.top+y.top,bottom:U.bottom-L.bottom+y.bottom,left:L.left-U.left+y.left,right:U.right-L.right+y.right},D=e.modifiersData.offset;if(d===Tr&&D){var Y=D[r];Object.keys($).forEach(function(q){var G=[an,on].indexOf(q)>=0?1:-1,ee=[Yt,on].indexOf(q)>=0?"y":"x";$[q]+=Y[ee]*G})}return $}function Kx(e,t){t===void 0&&(t={});var n=t,s=n.placement,r=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?zc:l,c=Qr(s),f=c?a?ku:ku.filter(function(h){return Qr(h)===c}):li,d=f.filter(function(h){return u.indexOf(h)>=0});d.length===0&&(d=f);var _=d.reduce(function(h,E){return h[E]=Zr(e,{placement:E,boundary:r,rootBoundary:i,padding:o})[Vn(E)],h},{});return Object.keys(_).sort(function(h,E){return _[h]-_[E]})}function qx(e){if(Vn(e)===el)return[];var t=Go(e);return[gp(e),t,gp(t)]}function Xx(e){var t=e.state,n=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,_=n.flipVariations,h=_===void 0?!0:_,E=n.allowedAutoPlacements,S=t.options.placement,y=Vn(S),I=y===S,C=l||(I||!h?[Go(S)]:qx(S)),T=[S].concat(C).reduce(function(Ct,K){return Ct.concat(Vn(K)===el?Kx(t,{placement:K,boundary:c,rootBoundary:f,padding:u,flipVariations:h,allowedAutoPlacements:E}):K)},[]),L=t.rects.reference,A=t.rects.popper,N=new Map,V=!0,U=T[0],$=0;$<T.length;$++){var D=T[$],Y=Vn(D),q=Qr(D)===ur,G=[Yt,on].indexOf(Y)>=0,ee=G?"width":"height",se=Zr(t,{placement:D,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),ue=G?q?an:zt:q?on:Yt;L[ee]>A[ee]&&(ue=Go(ue));var Ee=Go(ue),he=[];if(i&&he.push(se[Y]<=0),a&&he.push(se[ue]<=0,se[Ee]<=0),he.every(function(Ct){return Ct})){U=D,V=!1;break}N.set(D,he)}if(V)for(var be=h?3:1,ve=function(K){var le=T.find(function(ae){var me=N.get(ae);if(me)return me.slice(0,K).every(function(Pe){return Pe})});if(le)return U=le,"break"},xe=be;xe>0;xe--){var ze=ve(xe);if(ze==="break")break}t.placement!==U&&(t.modifiersData[s]._skip=!0,t.placement=U,t.reset=!0)}}const Ag={name:"flip",enabled:!0,phase:"main",fn:Xx,requiresIfExists:["offset"],data:{_skip:!1}};function yp(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function bp(e){return[Yt,an,on,zt].some(function(t){return e[t]>=0})}function Jx(e){var t=e.state,n=e.name,s=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,o=Zr(t,{elementContext:"reference"}),a=Zr(t,{altBoundary:!0}),l=yp(o,s),u=yp(a,r,i),c=bp(l),f=bp(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const Cg={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jx};function Qx(e,t,n){var s=Vn(e),r=[zt,Yt].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*r,[zt,an].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function Zx(e){var t=e.state,n=e.options,s=e.name,r=n.offset,i=r===void 0?[0,0]:r,o=zc.reduce(function(c,f){return c[f]=Qx(f,t.rects,i),c},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[s]=o}const $g={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Zx};function eA(e){var t=e.state,n=e.name;t.modifiersData[n]=xg({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const td={name:"popperOffsets",enabled:!0,phase:"read",fn:eA,data:{}};function tA(e){return e==="x"?"y":"x"}function nA(e){var t=e.state,n=e.options,s=e.name,r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,_=d===void 0?!0:d,h=n.tetherOffset,E=h===void 0?0:h,S=Zr(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),y=Vn(t.placement),I=Qr(t.placement),C=!I,T=qc(y),L=tA(T),A=t.modifiersData.popperOffsets,N=t.rects.reference,V=t.rects.popper,U=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,$=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Y={x:0,y:0};if(A){if(i){var q,G=T==="y"?Yt:zt,ee=T==="y"?on:an,se=T==="y"?"height":"width",ue=A[T],Ee=ue+S[G],he=ue-S[ee],be=_?-V[se]/2:0,ve=I===ur?N[se]:V[se],xe=I===ur?-V[se]:-N[se],ze=t.elements.arrow,Ct=_&&ze?Kc(ze):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Sg(),le=K[G],ae=K[ee],me=$i(0,N[se],Ct[se]),Pe=C?N[se]/2-be-me-le-$.mainAxis:ve-me-le-$.mainAxis,Be=C?-N[se]/2+be+me+ae+$.mainAxis:xe+me+ae+$.mainAxis,Ae=t.elements.arrow&&uo(t.elements.arrow),k=Ae?T==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,g=(q=D==null?void 0:D[T])!=null?q:0,b=ue+Pe-g-k,x=ue+Be-g,M=$i(_?ma(Ee,b):Ee,ue,_?or(he,x):he);A[T]=M,Y[T]=M-ue}if(a){var B,J=T==="x"?Yt:zt,ne=T==="x"?on:an,re=A[L],Z=L==="y"?"height":"width",ce=re+S[J],R=re-S[ne],j=[Yt,zt].indexOf(y)!==-1,we=(B=D==null?void 0:D[L])!=null?B:0,Se=j?ce:re-N[Z]-V[Z]-we+$.altAxis,Ke=j?re+N[Z]+V[Z]-we-$.altAxis:R,We=_&&j?Lx(Se,re,Ke):$i(_?Se:ce,re,_?Ke:R);A[L]=We,Y[L]=We-re}t.modifiersData[s]=Y}}const Ng={name:"preventOverflow",enabled:!0,phase:"main",fn:nA,requiresIfExists:["offset"]};function sA(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function rA(e){return e===_n(e)||!fn(e)?Qc(e):sA(e)}function iA(e){var t=e.getBoundingClientRect(),n=Xr(t.width)/e.offsetWidth||1,s=Xr(t.height)/e.offsetHeight||1;return n!==1||s!==1}function oA(e,t,n){n===void 0&&(n=!1);var s=fn(t),r=fn(t)&&iA(t),i=Hs(t),o=Jr(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((jn(t)!=="body"||ed(i))&&(a=rA(t)),fn(t)?(l=Jr(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=Zc(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function aA(e){var t=new Map,n=new Set,s=[];e.forEach(function(i){t.set(i.name,i)});function r(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),s.push(i)}return e.forEach(function(i){n.has(i.name)||r(i)}),s}function lA(e){var t=aA(e);return bg.reduce(function(n,s){return n.concat(t.filter(function(r){return r.phase===s}))},[])}function uA(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function cA(e){var t=e.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(t).map(function(n){return t[n]})}var wp={placement:"bottom",modifiers:[],strategy:"absolute"};function Ep(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function nl(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,s=n===void 0?[]:n,r=t.defaultOptions,i=r===void 0?wp:r;return function(a,l,u){u===void 0&&(u=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},wp,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,_={state:c,setOptions:function(y){var I=typeof y=="function"?y(c.options):y;E(),c.options=Object.assign({},i,c.options,I),c.scrollParents={reference:cr(a)?Ni(a):a.contextElement?Ni(a.contextElement):[],popper:Ni(l)};var C=lA(cA([].concat(s,c.options.modifiers)));return c.orderedModifiers=C.filter(function(T){return T.enabled}),h(),_.update()},forceUpdate:function(){if(!d){var y=c.elements,I=y.reference,C=y.popper;if(Ep(I,C)){c.rects={reference:oA(I,uo(C),c.options.strategy==="fixed"),popper:Kc(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function($){return c.modifiersData[$.name]=Object.assign({},$.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var L=c.orderedModifiers[T],A=L.fn,N=L.options,V=N===void 0?{}:N,U=L.name;typeof A=="function"&&(c=A({state:c,options:V,name:U,instance:_})||c)}}}},update:uA(function(){return new Promise(function(S){_.forceUpdate(),S(c)})}),destroy:function(){E(),d=!0}};if(!Ep(a,l))return _;_.setOptions(u).then(function(S){!d&&u.onFirstUpdate&&u.onFirstUpdate(S)});function h(){c.orderedModifiers.forEach(function(S){var y=S.name,I=S.options,C=I===void 0?{}:I,T=S.effect;if(typeof T=="function"){var L=T({state:c,name:y,instance:_,options:C}),A=function(){};f.push(L||A)}})}function E(){f.forEach(function(S){return S()}),f=[]}return _}}var dA=nl(),fA=[Jc,td,Xc,Gc],pA=nl({defaultModifiers:fA}),hA=[Jc,td,Xc,Gc,$g,Ag,Ng,kg,Cg],nd=nl({defaultModifiers:hA});const Lg=Object.freeze(Object.defineProperty({__proto__:null,afterMain:_g,afterRead:pg,afterWrite:yg,applyStyles:Gc,arrow:kg,auto:el,basePlacements:li,beforeMain:hg,beforeRead:dg,beforeWrite:gg,bottom:on,clippingParents:ug,computeStyles:Xc,createPopper:nd,createPopperBase:dA,createPopperLite:pA,detectOverflow:Zr,end:qr,eventListeners:Jc,flip:Ag,hide:Cg,left:zt,main:mg,modifierPhases:bg,offset:$g,placements:zc,popper:Tr,popperGenerator:nl,popperOffsets:td,preventOverflow:Ng,read:fg,reference:cg,right:an,start:ur,top:Yt,variationPlacements:ku,viewport:Yc,write:vg},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const mA=1e6,_A=1e3,Au="transitionend",gA=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),vA=e=>{do e+=Math.floor(Math.random()*mA);while(document.getElementById(e));return e},Pg=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t},Dg=e=>{const t=Pg(e);return t&&document.querySelector(t)?t:null},rs=e=>{const t=Pg(e);return t?document.querySelector(t):null},yA=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const s=Number.parseFloat(t),r=Number.parseFloat(n);return!s&&!r?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*_A)},Mg=e=>{e.dispatchEvent(new Event(Au))},is=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),Ms=e=>is(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(e):null,ui=e=>{if(!is(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const s=e.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return t},Rs=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",Rg=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Rg(e.parentNode):null},_a=()=>{},co=e=>{e.offsetHeight},Fg=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Al=[],bA=e=>{document.readyState==="loading"?(Al.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Al)t()}),Al.push(e)):e()},pn=()=>document.documentElement.dir==="rtl",gn=e=>{bA(()=>{const t=Fg();if(t){const n=e.NAME,s=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=s,e.jQueryInterface)}})},Zn=e=>{typeof e=="function"&&e()},Vg=(e,t,n=!0)=>{if(!n){Zn(e);return}const s=5,r=yA(t)+s;let i=!1;const o=({target:a})=>{a===t&&(i=!0,t.removeEventListener(Au,o),Zn(e))};t.addEventListener(Au,o),setTimeout(()=>{i||Mg(t)},r)},sd=(e,t,n,s)=>{const r=e.length;let i=e.indexOf(t);return i===-1?!n&&s?e[r-1]:e[0]:(i+=n?1:-1,s&&(i=(i+r)%r),e[Math.max(0,Math.min(i,r-1))])},wA=/[^.]*(?=\..*)\.|.*/,EA=/\..*/,SA=/::\d+$/,Cl={};let Sp=1;const Ug={mouseenter:"mouseover",mouseleave:"mouseout"},TA=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Hg(e,t){return t&&`${t}::${Sp++}`||e.uidEvent||Sp++}function Wg(e){const t=Hg(e);return e.uidEvent=t,Cl[t]=Cl[t]||{},Cl[t]}function IA(e,t){return function n(s){return rd(s,{delegateTarget:e}),n.oneOff&&te.off(e,s.type,t),t.apply(e,[s])}}function kA(e,t,n){return function s(r){const i=e.querySelectorAll(t);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of i)if(a===o)return rd(r,{delegateTarget:o}),s.oneOff&&te.off(e,r.type,t,n),n.apply(o,[r])}}function jg(e,t,n=null){return Object.values(e).find(s=>s.callable===t&&s.delegationSelector===n)}function Yg(e,t,n){const s=typeof t=="string",r=s?n:t||n;let i=zg(e);return TA.has(i)||(i=e),[s,r,i]}function Tp(e,t,n,s,r){if(typeof t!="string"||!e)return;let[i,o,a]=Yg(t,n,s);t in Ug&&(o=(h=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return h.call(this,E)})(o));const l=Wg(e),u=l[a]||(l[a]={}),c=jg(u,o,i?n:null);if(c){c.oneOff=c.oneOff&&r;return}const f=Hg(o,t.replace(wA,"")),d=i?kA(e,n,o):IA(e,o);d.delegationSelector=i?n:null,d.callable=o,d.oneOff=r,d.uidEvent=f,u[f]=d,e.addEventListener(a,d,i)}function Cu(e,t,n,s,r){const i=jg(t[n],s,r);i&&(e.removeEventListener(n,i,!!r),delete t[n][i.uidEvent])}function OA(e,t,n,s){const r=t[n]||{};for(const i of Object.keys(r))if(i.includes(s)){const o=r[i];Cu(e,t,n,o.callable,o.delegationSelector)}}function zg(e){return e=e.replace(EA,""),Ug[e]||e}const te={on(e,t,n,s){Tp(e,t,n,s,!1)},one(e,t,n,s){Tp(e,t,n,s,!0)},off(e,t,n,s){if(typeof t!="string"||!e)return;const[r,i,o]=Yg(t,n,s),a=o!==t,l=Wg(e),u=l[o]||{},c=t.startsWith(".");if(typeof i<"u"){if(!Object.keys(u).length)return;Cu(e,l,o,i,r?n:null);return}if(c)for(const f of Object.keys(l))OA(e,l,f,t.slice(1));for(const f of Object.keys(u)){const d=f.replace(SA,"");if(!a||t.includes(d)){const _=u[f];Cu(e,l,o,_.callable,_.delegationSelector)}}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const s=Fg(),r=zg(t),i=t!==r;let o=null,a=!0,l=!0,u=!1;i&&s&&(o=s.Event(t,n),s(e).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),u=o.isDefaultPrevented());let c=new Event(t,{bubbles:a,cancelable:!0});return c=rd(c,n),u&&c.preventDefault(),l&&e.dispatchEvent(c),c.defaultPrevented&&o&&o.preventDefault(),c}};function rd(e,t){for(const[n,s]of Object.entries(t||{}))try{e[n]=s}catch{Object.defineProperty(e,n,{configurable:!0,get(){return s}})}return e}const bs=new Map,$l={set(e,t,n){bs.has(e)||bs.set(e,new Map);const s=bs.get(e);if(!s.has(t)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(t,n)},get(e,t){return bs.has(e)&&bs.get(e).get(t)||null},remove(e,t){if(!bs.has(e))return;const n=bs.get(e);n.delete(t),n.size===0&&bs.delete(e)}};function Ip(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Nl(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const os={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Nl(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Nl(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let r=s.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=Ip(e.dataset[s])}return t},getDataAttribute(e,t){return Ip(e.getAttribute(`data-bs-${Nl(t)}`))}};class fo{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const s=is(n)?os.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...is(n)?os.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const s of Object.keys(n)){const r=n[s],i=t[s],o=is(i)?"element":gA(i);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${r}".`)}}}const xA="5.2.3";class An extends fo{constructor(t,n){super(),t=Ms(t),t&&(this._element=t,this._config=this._getConfig(n),$l.set(this._element,this.constructor.DATA_KEY,this))}dispose(){$l.remove(this._element,this.constructor.DATA_KEY),te.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,s=!0){Vg(t,n,s)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return $l.get(Ms(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return xA}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const sl=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,s=e.NAME;te.on(document,n,`[data-bs-dismiss="${s}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Rs(this))return;const i=rs(this)||this.closest(`.${s}`);e.getOrCreateInstance(i)[t]()})},AA="alert",CA="bs.alert",Bg=`.${CA}`,$A=`close${Bg}`,NA=`closed${Bg}`,LA="fade",PA="show";class rl extends An{static get NAME(){return AA}close(){if(te.trigger(this._element,$A).defaultPrevented)return;this._element.classList.remove(PA);const n=this._element.classList.contains(LA);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),te.trigger(this._element,NA),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=rl.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}sl(rl,"close");gn(rl);const DA="button",MA="bs.button",RA=`.${MA}`,FA=".data-api",VA="active",kp='[data-bs-toggle="button"]',UA=`click${RA}${FA}`;class il extends An{static get NAME(){return DA}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(VA))}static jQueryInterface(t){return this.each(function(){const n=il.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}te.on(document,UA,kp,e=>{e.preventDefault();const t=e.target.closest(kp);il.getOrCreateInstance(t).toggle()});gn(il);const Fe={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let s=e.parentNode.closest(t);for(;s;)n.push(s),s=s.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!Rs(n)&&ui(n))}},HA="swipe",ci=".bs.swipe",WA=`touchstart${ci}`,jA=`touchmove${ci}`,YA=`touchend${ci}`,zA=`pointerdown${ci}`,BA=`pointerup${ci}`,GA="touch",KA="pen",qA="pointer-event",XA=40,JA={endCallback:null,leftCallback:null,rightCallback:null},QA={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ga extends fo{constructor(t,n){super(),this._element=t,!(!t||!ga.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return JA}static get DefaultType(){return QA}static get NAME(){return HA}dispose(){te.off(this._element,ci)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Zn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=XA)return;const n=t/this._deltaX;this._deltaX=0,n&&Zn(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(te.on(this._element,zA,t=>this._start(t)),te.on(this._element,BA,t=>this._end(t)),this._element.classList.add(qA)):(te.on(this._element,WA,t=>this._start(t)),te.on(this._element,jA,t=>this._move(t)),te.on(this._element,YA,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===KA||t.pointerType===GA)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ZA="carousel",eC="bs.carousel",Ws=`.${eC}`,Gg=".data-api",tC="ArrowLeft",nC="ArrowRight",sC=500,yi="next",yr="prev",Ir="left",Ko="right",rC=`slide${Ws}`,Ll=`slid${Ws}`,iC=`keydown${Ws}`,oC=`mouseenter${Ws}`,aC=`mouseleave${Ws}`,lC=`dragstart${Ws}`,uC=`load${Ws}${Gg}`,cC=`click${Ws}${Gg}`,Kg="carousel",Ao="active",dC="slide",fC="carousel-item-end",pC="carousel-item-start",hC="carousel-item-next",mC="carousel-item-prev",qg=".active",Xg=".carousel-item",_C=qg+Xg,gC=".carousel-item img",vC=".carousel-indicators",yC="[data-bs-slide], [data-bs-slide-to]",bC='[data-bs-ride="carousel"]',wC={[tC]:Ko,[nC]:Ir},EC={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},SC={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class po extends An{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Fe.findOne(vC,this._element),this._addEventListeners(),this._config.ride===Kg&&this.cycle()}static get Default(){return EC}static get DefaultType(){return SC}static get NAME(){return ZA}next(){this._slide(yi)}nextWhenVisible(){!document.hidden&&ui(this._element)&&this.next()}prev(){this._slide(yr)}pause(){this._isSliding&&Mg(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){te.one(this._element,Ll,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){te.one(this._element,Ll,()=>this.to(t));return}const s=this._getItemIndex(this._getActive());if(s===t)return;const r=t>s?yi:yr;this._slide(r,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&te.on(this._element,iC,t=>this._keydown(t)),this._config.pause==="hover"&&(te.on(this._element,oC,()=>this.pause()),te.on(this._element,aC,()=>this._maybeEnableCycle())),this._config.touch&&ga.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Fe.find(gC,this._element))te.on(s,lC,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Ir)),rightCallback:()=>this._slide(this._directionToOrder(Ko)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),sC+this._config.interval))}};this._swipeHelper=new ga(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=wC[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=Fe.findOne(qg,this._indicatorsElement);n.classList.remove(Ao),n.removeAttribute("aria-current");const s=Fe.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);s&&(s.classList.add(Ao),s.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const s=this._getActive(),r=t===yi,i=n||sd(this._getItems(),s,r,this._config.wrap);if(i===s)return;const o=this._getItemIndex(i),a=_=>te.trigger(this._element,_,{relatedTarget:i,direction:this._orderToDirection(t),from:this._getItemIndex(s),to:o});if(a(rC).defaultPrevented||!s||!i)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const c=r?pC:fC,f=r?hC:mC;i.classList.add(f),co(i),s.classList.add(c),i.classList.add(c);const d=()=>{i.classList.remove(c,f),i.classList.add(Ao),s.classList.remove(Ao,f,c),this._isSliding=!1,a(Ll)};this._queueCallback(d,s,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(dC)}_getActive(){return Fe.findOne(_C,this._element)}_getItems(){return Fe.find(Xg,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return pn()?t===Ir?yr:yi:t===Ir?yi:yr}_orderToDirection(t){return pn()?t===yr?Ir:Ko:t===yr?Ko:Ir}static jQueryInterface(t){return this.each(function(){const n=po.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}te.on(document,cC,yC,function(e){const t=rs(this);if(!t||!t.classList.contains(Kg))return;e.preventDefault();const n=po.getOrCreateInstance(t),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(os.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});te.on(window,uC,()=>{const e=Fe.find(bC);for(const t of e)po.getOrCreateInstance(t)});gn(po);const TC="collapse",IC="bs.collapse",ho=`.${IC}`,kC=".data-api",OC=`show${ho}`,xC=`shown${ho}`,AC=`hide${ho}`,CC=`hidden${ho}`,$C=`click${ho}${kC}`,Pl="show",Cr="collapse",Co="collapsing",NC="collapsed",LC=`:scope .${Cr} .${Cr}`,PC="collapse-horizontal",DC="width",MC="height",RC=".collapse.show, .collapse.collapsing",$u='[data-bs-toggle="collapse"]',FC={parent:null,toggle:!0},VC={parent:"(null|element)",toggle:"boolean"};class Xi extends An{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const s=Fe.find($u);for(const r of s){const i=Dg(r),o=Fe.find(i).filter(a=>a===this._element);i!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return FC}static get DefaultType(){return VC}static get NAME(){return TC}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(RC).filter(a=>a!==this._element).map(a=>Xi.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||te.trigger(this._element,OC).defaultPrevented)return;for(const a of t)a.hide();const s=this._getDimension();this._element.classList.remove(Cr),this._element.classList.add(Co),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Co),this._element.classList.add(Cr,Pl),this._element.style[s]="",te.trigger(this._element,xC)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||te.trigger(this._element,AC).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,co(this._element),this._element.classList.add(Co),this._element.classList.remove(Cr,Pl);for(const r of this._triggerArray){const i=rs(r);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Co),this._element.classList.add(Cr),te.trigger(this._element,CC)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Pl)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Ms(t.parent),t}_getDimension(){return this._element.classList.contains(PC)?DC:MC}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren($u);for(const n of t){const s=rs(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(t){const n=Fe.find(LC,this._config.parent);return Fe.find(t,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const s of t)s.classList.toggle(NC,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const s=Xi.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}te.on(document,$C,$u,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();const t=Dg(this),n=Fe.find(t);for(const s of n)Xi.getOrCreateInstance(s,{toggle:!1}).toggle()});gn(Xi);const Op="dropdown",UC="bs.dropdown",pr=`.${UC}`,id=".data-api",HC="Escape",xp="Tab",WC="ArrowUp",Ap="ArrowDown",jC=2,YC=`hide${pr}`,zC=`hidden${pr}`,BC=`show${pr}`,GC=`shown${pr}`,Jg=`click${pr}${id}`,Qg=`keydown${pr}${id}`,KC=`keyup${pr}${id}`,kr="show",qC="dropup",XC="dropend",JC="dropstart",QC="dropup-center",ZC="dropdown-center",tr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',e$=`${tr}.${kr}`,qo=".dropdown-menu",t$=".navbar",n$=".navbar-nav",s$=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",r$=pn()?"top-end":"top-start",i$=pn()?"top-start":"top-end",o$=pn()?"bottom-end":"bottom-start",a$=pn()?"bottom-start":"bottom-end",l$=pn()?"left-start":"right-start",u$=pn()?"right-start":"left-start",c$="top",d$="bottom",f$={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},p$={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let Ft=class Xo extends An{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Fe.next(this._element,qo)[0]||Fe.prev(this._element,qo)[0]||Fe.findOne(qo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return f$}static get DefaultType(){return p$}static get NAME(){return Op}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Rs(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!te.trigger(this._element,BC,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(n$))for(const s of[].concat(...document.body.children))te.on(s,"mouseover",_a);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(kr),this._element.classList.add(kr),te.trigger(this._element,GC,t)}}hide(){if(Rs(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!te.trigger(this._element,YC,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))te.off(s,"mouseover",_a);this._popper&&this._popper.destroy(),this._menu.classList.remove(kr),this._element.classList.remove(kr),this._element.setAttribute("aria-expanded","false"),os.removeDataAttribute(this._menu,"popper"),te.trigger(this._element,zC,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!is(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Op.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Lg>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:is(this._config.reference)?t=Ms(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=nd(t,this._menu,n)}_isShown(){return this._menu.classList.contains(kr)}_getPlacement(){const t=this._parent;if(t.classList.contains(XC))return l$;if(t.classList.contains(JC))return u$;if(t.classList.contains(QC))return c$;if(t.classList.contains(ZC))return d$;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(qC)?n?i$:r$:n?a$:o$}_detectNavbar(){return this._element.closest(t$)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(os.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:n}){const s=Fe.find(s$,this._menu).filter(r=>ui(r));s.length&&sd(s,n,t===Ap,!s.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=Xo.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===jC||t.type==="keyup"&&t.key!==xp)return;const n=Fe.find(e$);for(const s of n){const r=Xo.getInstance(s);if(!r||r._config.autoClose===!1)continue;const i=t.composedPath(),o=i.includes(r._menu);if(i.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(t.target)&&(t.type==="keyup"&&t.key===xp||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:r._element};t.type==="click"&&(a.clickEvent=t),r._completeHide(a)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),s=t.key===HC,r=[WC,Ap].includes(t.key);if(!r&&!s||n&&!s)return;t.preventDefault();const i=this.matches(tr)?this:Fe.prev(this,tr)[0]||Fe.next(this,tr)[0]||Fe.findOne(tr,t.delegateTarget.parentNode),o=Xo.getOrCreateInstance(i);if(r){t.stopPropagation(),o.show(),o._selectMenuItem(t);return}o._isShown()&&(t.stopPropagation(),o.hide(),i.focus())}};te.on(document,Qg,tr,Ft.dataApiKeydownHandler);te.on(document,Qg,qo,Ft.dataApiKeydownHandler);te.on(document,Jg,Ft.clearMenus);te.on(document,KC,Ft.clearMenus);te.on(document,Jg,tr,function(e){e.preventDefault(),Ft.getOrCreateInstance(this).toggle()});gn(Ft);const Cp=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$p=".sticky-top",$o="padding-right",Np="margin-right";class Nu{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,$o,n=>n+t),this._setElementAttributes(Cp,$o,n=>n+t),this._setElementAttributes($p,Np,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,$o),this._resetElementAttributes(Cp,$o),this._resetElementAttributes($p,Np)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,s){const r=this.getWidth(),i=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,i)}_saveInitialAttribute(t,n){const s=t.style.getPropertyValue(n);s&&os.setDataAttribute(t,n,s)}_resetElementAttributes(t,n){const s=r=>{const i=os.getDataAttribute(r,n);if(i===null){r.style.removeProperty(n);return}os.removeDataAttribute(r,n),r.style.setProperty(n,i)};this._applyManipulationCallback(t,s)}_applyManipulationCallback(t,n){if(is(t)){n(t);return}for(const s of Fe.find(t,this._element))n(s)}}const Zg="backdrop",h$="fade",Lp="show",Pp=`mousedown.bs.${Zg}`,m$={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},_$={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ev extends fo{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return m$}static get DefaultType(){return _$}static get NAME(){return Zg}show(t){if(!this._config.isVisible){Zn(t);return}this._append();const n=this._getElement();this._config.isAnimated&&co(n),n.classList.add(Lp),this._emulateAnimation(()=>{Zn(t)})}hide(t){if(!this._config.isVisible){Zn(t);return}this._getElement().classList.remove(Lp),this._emulateAnimation(()=>{this.dispose(),Zn(t)})}dispose(){this._isAppended&&(te.off(this._element,Pp),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(h$),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Ms(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),te.on(t,Pp,()=>{Zn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Vg(t,this._getElement(),this._config.isAnimated)}}const g$="focustrap",v$="bs.focustrap",va=`.${v$}`,y$=`focusin${va}`,b$=`keydown.tab${va}`,w$="Tab",E$="forward",Dp="backward",S$={autofocus:!0,trapElement:null},T$={autofocus:"boolean",trapElement:"element"};class tv extends fo{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return S$}static get DefaultType(){return T$}static get NAME(){return g$}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),te.off(document,va),te.on(document,y$,t=>this._handleFocusin(t)),te.on(document,b$,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,te.off(document,va))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const s=Fe.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===Dp?s[s.length-1].focus():s[0].focus()}_handleKeydown(t){t.key===w$&&(this._lastTabNavDirection=t.shiftKey?Dp:E$)}}const I$="modal",k$="bs.modal",Cn=`.${k$}`,O$=".data-api",x$="Escape",A$=`hide${Cn}`,C$=`hidePrevented${Cn}`,nv=`hidden${Cn}`,sv=`show${Cn}`,$$=`shown${Cn}`,N$=`resize${Cn}`,L$=`click.dismiss${Cn}`,P$=`mousedown.dismiss${Cn}`,D$=`keydown.dismiss${Cn}`,M$=`click${Cn}${O$}`,Mp="modal-open",R$="fade",Rp="show",Dl="modal-static",F$=".modal.show",V$=".modal-dialog",U$=".modal-body",H$='[data-bs-toggle="modal"]',W$={backdrop:!0,focus:!0,keyboard:!0},j$={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class On extends An{constructor(t,n){super(t,n),this._dialog=Fe.findOne(V$,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Nu,this._addEventListeners()}static get Default(){return W$}static get DefaultType(){return j$}static get NAME(){return I$}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||te.trigger(this._element,sv,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Mp),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||te.trigger(this._element,A$).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Rp),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])te.off(t,Cn);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ev({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new tv({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Fe.findOne(U$,this._dialog);n&&(n.scrollTop=0),co(this._element),this._element.classList.add(Rp);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,te.trigger(this._element,$$,{relatedTarget:t})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){te.on(this._element,D$,t=>{if(t.key===x$){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),te.on(window,N$,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),te.on(this._element,P$,t=>{te.one(this._element,L$,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Mp),this._resetAdjustments(),this._scrollBar.reset(),te.trigger(this._element,nv)})}_isAnimated(){return this._element.classList.contains(R$)}_triggerBackdropTransition(){if(te.trigger(this._element,C$).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Dl)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Dl),this._queueCallback(()=>{this._element.classList.remove(Dl),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!t){const r=pn()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!s&&t){const r=pn()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const s=On.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t](n)}})}}te.on(document,M$,H$,function(e){const t=rs(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),te.one(t,sv,r=>{r.defaultPrevented||te.one(t,nv,()=>{ui(this)&&this.focus()})});const n=Fe.findOne(F$);n&&On.getInstance(n).hide(),On.getOrCreateInstance(t).toggle(this)});sl(On);gn(On);const Y$="offcanvas",z$="bs.offcanvas",hs=`.${z$}`,rv=".data-api",B$=`load${hs}${rv}`,G$="Escape",Fp="show",Vp="showing",Up="hiding",K$="offcanvas-backdrop",iv=".offcanvas.show",q$=`show${hs}`,X$=`shown${hs}`,J$=`hide${hs}`,Hp=`hidePrevented${hs}`,ov=`hidden${hs}`,Q$=`resize${hs}`,Z$=`click${hs}${rv}`,eN=`keydown.dismiss${hs}`,tN='[data-bs-toggle="offcanvas"]',nN={backdrop:!0,keyboard:!0,scroll:!1},sN={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Fs extends An{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nN}static get DefaultType(){return sN}static get NAME(){return Y$}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||te.trigger(this._element,q$,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Nu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Vp);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Fp),this._element.classList.remove(Vp),te.trigger(this._element,X$,{relatedTarget:t})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||te.trigger(this._element,J$).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Up),this._backdrop.hide();const n=()=>{this._element.classList.remove(Fp,Up),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Nu().reset(),te.trigger(this._element,ov)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){te.trigger(this._element,Hp);return}this.hide()},n=!!this._config.backdrop;return new ev({className:K$,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new tv({trapElement:this._element})}_addEventListeners(){te.on(this._element,eN,t=>{if(t.key===G$){if(!this._config.keyboard){te.trigger(this._element,Hp);return}this.hide()}})}static jQueryInterface(t){return this.each(function(){const n=Fs.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}te.on(document,Z$,tN,function(e){const t=rs(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Rs(this))return;te.one(t,ov,()=>{ui(this)&&this.focus()});const n=Fe.findOne(iv);n&&n!==t&&Fs.getInstance(n).hide(),Fs.getOrCreateInstance(t).toggle(this)});te.on(window,B$,()=>{for(const e of Fe.find(iv))Fs.getOrCreateInstance(e).show()});te.on(window,Q$,()=>{for(const e of Fe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Fs.getOrCreateInstance(e).hide()});sl(Fs);gn(Fs);const rN=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),iN=/^aria-[\w-]*$/i,oN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,aN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,lN=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?rN.has(n)?!!(oN.test(e.nodeValue)||aN.test(e.nodeValue)):!0:t.filter(s=>s instanceof RegExp).some(s=>s.test(n))},av={"*":["class","dir","id","lang","role",iN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function uN(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const r=new window.DOMParser().parseFromString(e,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const o of i){const a=o.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),u=[].concat(t["*"]||[],t[a]||[]);for(const c of l)lN(c,u)||o.removeAttribute(c.nodeName)}return r.body.innerHTML}const cN="TemplateFactory",dN={allowList:av,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},fN={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},pN={entry:"(string|element|function|null)",selector:"(string|element)"};class hN extends fo{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return dN}static get DefaultType(){return fN}static get NAME(){return cN}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(t,i,r);const n=t.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,s]of Object.entries(t))super._typeCheckConfig({selector:n,entry:s},pN)}_setContent(t,n,s){const r=Fe.findOne(s,t);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(is(n)){this._putElementInTemplate(Ms(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(t){return this._config.sanitize?uN(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return typeof t=="function"?t(this):t}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const mN="tooltip",_N=new Set(["sanitize","allowList","sanitizeFn"]),Ml="fade",gN="modal",No="show",vN=".tooltip-inner",Wp=`.${gN}`,jp="hide.bs.modal",bi="hover",Rl="focus",yN="click",bN="manual",wN="hide",EN="hidden",SN="show",TN="shown",IN="inserted",kN="click",ON="focusin",xN="focusout",AN="mouseenter",CN="mouseleave",$N={AUTO:"auto",TOP:"top",RIGHT:pn()?"left":"right",BOTTOM:"bottom",LEFT:pn()?"right":"left"},NN={allowList:av,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},LN={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class hr extends An{constructor(t,n){if(typeof Lg>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return NN}static get DefaultType(){return LN}static get NAME(){return mN}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),te.off(this._element.closest(Wp),jp,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=te.trigger(this._element,this.constructor.eventName(SN)),s=(Rg(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!s)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),te.trigger(this._element,this.constructor.eventName(IN))),this._popper=this._createPopper(r),r.classList.add(No),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))te.on(a,"mouseover",_a);const o=()=>{te.trigger(this._element,this.constructor.eventName(TN)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||te.trigger(this._element,this.constructor.eventName(wN)).defaultPrevented)return;if(this._getTipElement().classList.remove(No),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))te.off(r,"mouseover",_a);this._activeTrigger[yN]=!1,this._activeTrigger[Rl]=!1,this._activeTrigger[bi]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),te.trigger(this._element,this.constructor.eventName(EN)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(Ml,No),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=vA(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Ml),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new hN({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[vN]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ml)}_isShown(){return this.tip&&this.tip.classList.contains(No)}_createPopper(t){const n=typeof this._config.placement=="function"?this._config.placement.call(this,t,this._element):this._config.placement,s=$N[n.toUpperCase()];return nd(this._element,t,this._getPopperConfig(s))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return typeof t=="function"?t.call(this._element):t}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...typeof this._config.popperConfig=="function"?this._config.popperConfig(n):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")te.on(this._element,this.constructor.eventName(kN),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==bN){const s=n===bi?this.constructor.eventName(AN):this.constructor.eventName(ON),r=n===bi?this.constructor.eventName(CN):this.constructor.eventName(xN);te.on(this._element,s,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusin"?Rl:bi]=!0,o._enter()}),te.on(this._element,r,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusout"?Rl:bi]=o._element.contains(i.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},te.on(this._element.closest(Wp),jp,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=os.getDataAttributes(this._element);for(const s of Object.keys(n))_N.has(s)&&delete n[s];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Ms(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const n in this._config)this.constructor.Default[n]!==this._config[n]&&(t[n]=this._config[n]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=hr.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}gn(hr);const PN="popover",DN=".popover-header",MN=".popover-body",RN={...hr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},FN={...hr.DefaultType,content:"(null|string|element|function)"};class od extends hr{static get Default(){return RN}static get DefaultType(){return FN}static get NAME(){return PN}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[DN]:this._getTitle(),[MN]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=od.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}gn(od);const VN="scrollspy",UN="bs.scrollspy",ad=`.${UN}`,HN=".data-api",WN=`activate${ad}`,Yp=`click${ad}`,jN=`load${ad}${HN}`,YN="dropdown-item",br="active",zN='[data-bs-spy="scroll"]',Fl="[href]",BN=".nav, .list-group",zp=".nav-link",GN=".nav-item",KN=".list-group-item",qN=`${zp}, ${GN} > ${zp}, ${KN}`,XN=".dropdown",JN=".dropdown-toggle",QN={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ZN={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ol extends An{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return QN}static get DefaultType(){return ZN}static get NAME(){return VN}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Ms(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(te.off(this._config.target,Yp),te.on(this._config.target,Yp,Fl,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const s=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:r,behavior:"smooth"});return}s.scrollTop=r}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&a){if(s(o),!r)return;continue}!i&&!a&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Fe.find(Fl,this._config.target);for(const n of t){if(!n.hash||Rs(n))continue;const s=Fe.findOne(n.hash,this._element);ui(s)&&(this._targetLinks.set(n.hash,n),this._observableSections.set(n.hash,s))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(br),this._activateParents(t),te.trigger(this._element,WN,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(YN)){Fe.findOne(JN,t.closest(XN)).classList.add(br);return}for(const n of Fe.parents(t,BN))for(const s of Fe.prev(n,qN))s.classList.add(br)}_clearActiveClass(t){t.classList.remove(br);const n=Fe.find(`${Fl}.${br}`,t);for(const s of n)s.classList.remove(br)}static jQueryInterface(t){return this.each(function(){const n=ol.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}te.on(window,jN,()=>{for(const e of Fe.find(zN))ol.getOrCreateInstance(e)});gn(ol);const eL="tab",tL="bs.tab",mr=`.${tL}`,nL=`hide${mr}`,sL=`hidden${mr}`,rL=`show${mr}`,iL=`shown${mr}`,oL=`click${mr}`,aL=`keydown${mr}`,lL=`load${mr}`,uL="ArrowLeft",Bp="ArrowRight",cL="ArrowUp",Gp="ArrowDown",nr="active",Kp="fade",Vl="show",dL="dropdown",fL=".dropdown-toggle",pL=".dropdown-menu",Ul=":not(.dropdown-toggle)",hL='.list-group, .nav, [role="tablist"]',mL=".nav-item, .list-group-item",_L=`.nav-link${Ul}, .list-group-item${Ul}, [role="tab"]${Ul}`,lv='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Hl=`${_L}, ${lv}`,gL=`.${nr}[data-bs-toggle="tab"], .${nr}[data-bs-toggle="pill"], .${nr}[data-bs-toggle="list"]`;class ei extends An{constructor(t){super(t),this._parent=this._element.closest(hL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),te.on(this._element,aL,n=>this._keydown(n)))}static get NAME(){return eL}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),s=n?te.trigger(n,nL,{relatedTarget:t}):null;te.trigger(t,rL,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(nr),this._activate(rs(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Vl);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),te.trigger(t,iL,{relatedTarget:n})};this._queueCallback(s,t,t.classList.contains(Kp))}_deactivate(t,n){if(!t)return;t.classList.remove(nr),t.blur(),this._deactivate(rs(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Vl);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),te.trigger(t,sL,{relatedTarget:n})};this._queueCallback(s,t,t.classList.contains(Kp))}_keydown(t){if(![uL,Bp,cL,Gp].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=[Bp,Gp].includes(t.key),s=sd(this._getChildren().filter(r=>!Rs(r)),t.target,n,!0);s&&(s.focus({preventScroll:!0}),ei.getOrCreateInstance(s).show())}_getChildren(){return Fe.find(Hl,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),s=this._getOuterElement(t);t.setAttribute("aria-selected",n),s!==t&&this._setAttributeIfNotExists(s,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=rs(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,n){const s=this._getOuterElement(t);if(!s.classList.contains(dL))return;const r=(i,o)=>{const a=Fe.findOne(i,s);a&&a.classList.toggle(o,n)};r(fL,nr),r(pL,Vl),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,s){t.hasAttribute(n)||t.setAttribute(n,s)}_elemIsActive(t){return t.classList.contains(nr)}_getInnerElement(t){return t.matches(Hl)?t:Fe.findOne(Hl,t)}_getOuterElement(t){return t.closest(mL)||t}static jQueryInterface(t){return this.each(function(){const n=ei.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}te.on(document,oL,lv,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Rs(this)&&ei.getOrCreateInstance(this).show()});te.on(window,lL,()=>{for(const e of Fe.find(gL))ei.getOrCreateInstance(e)});gn(ei);const vL="toast",yL="bs.toast",js=`.${yL}`,bL=`mouseover${js}`,wL=`mouseout${js}`,EL=`focusin${js}`,SL=`focusout${js}`,TL=`hide${js}`,IL=`hidden${js}`,kL=`show${js}`,OL=`shown${js}`,xL="fade",qp="hide",Lo="show",Po="showing",AL={animation:"boolean",autohide:"boolean",delay:"number"},CL={animation:!0,autohide:!0,delay:5e3};class al extends An{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return CL}static get DefaultType(){return AL}static get NAME(){return vL}show(){if(te.trigger(this._element,kL).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(xL);const n=()=>{this._element.classList.remove(Po),te.trigger(this._element,OL),this._maybeScheduleHide()};this._element.classList.remove(qp),co(this._element),this._element.classList.add(Lo,Po),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||te.trigger(this._element,TL).defaultPrevented)return;const n=()=>{this._element.classList.add(qp),this._element.classList.remove(Po,Lo),te.trigger(this._element,IL)};this._element.classList.add(Po),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Lo),super.dispose()}isShown(){return this._element.classList.contains(Lo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=t.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){te.on(this._element,bL,t=>this._onInteraction(t,!0)),te.on(this._element,wL,t=>this._onInteraction(t,!1)),te.on(this._element,EL,t=>this._onInteraction(t,!0)),te.on(this._element,SL,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=al.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}sl(al);gn(al);const $L=e=>(mt("data-v-35068306"),e=e(),_t(),e),NL=["data-bs-placement","title"],LL=$L(()=>v("i",{class:"bi bi-question-circle small-icon"},null,-1)),PL=[LL],DL=["data-bs-placement","title"],ML=fe({__name:"withToolTip",props:{pos:{type:String,default:"top"},message:String,icon:{type:Boolean,default:!1},iconPos:{type:String,default:"right"},click:{type:Boolean,default:!0}},setup(e){const t=e,{t:n}=Pa({useScope:"global"}),s=W();let r=null;const i=t.click?"cursor wtt":"wtt",o=P(()=>["main","modals"].indexOf(t.message.split(".")[0])>-1?n(t.message):t.message);Ve(async()=>{r=new hr(s.value,{trigger:"hover"})});function a(){r.hide()}return(l,u)=>t.icon?(m(),w(ie,{key:0},[t.iconPos==="right"?cn(l.$slots,"default",{key:0},void 0,!0):F("",!0),v("span",{class:Ie(p(i)),"data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":t.pos,title:p(o),ref_key:"tooltipRef",ref:s,onClick:u[0]||(u[0]=c=>a())},PL,10,NL),t.iconPos==="left"?cn(l.$slots,"default",{key:1},void 0,!0):F("",!0)],64)):(m(),w("span",{key:1,class:Ie(p(i)),"data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":t.pos,title:p(o),ref_key:"tooltipRef",ref:s,onClick:u[1]||(u[1]=c=>a())},[cn(l.$slots,"default",{},void 0,!0)],10,DL))}}),Ye=$e(ML,[["__scopeId","data-v-35068306"]]),RL={class:"mb-1 ps-2 pe-2"},FL=["onClick"],ld=fe({__name:"PropertySelection",props:{ignoreIds:Array},emits:["select"],setup(e,{emit:t}){const n=e,s=W(null),r=W(""),i=P(()=>{let o=O.propertyList;return n.ignoreIds&&(o=o.filter(a=>!n.ignoreIds.includes(a.id))),o.filter(a=>a.name.includes(r.value))});return Ve(()=>s.value.focus()),(o,a)=>(m(),w("div",null,[v("div",RL,[yt(v("input",{class:"w-100 bg-light",type:"text",ref_key:"searchElem",ref:s,"onUpdate:modelValue":a[0]||(a[0]=l=>r.value=l)},null,512),[[Qt,r.value]])]),(m(!0),w(ie,null,Oe(p(i),l=>(m(),w("li",{class:"dropdown-item",style:{cursor:"pointer"},onClick:u=>t("select",l.id)},[H(Pt,{type:l.type,class:"me-2"},null,8,["type"]),v("a",null,Q(l.name),1)],8,FL))),256))]))}}),VL={class:"m-0 p-0"},UL=["disabled"],HL={class:"dropdown-menu m-0 p-1"},WL=["onClick"],jL=fe({__name:"OperatorDropdown",props:{propertyId:{type:Number,required:!0},modelValue:String,disabled:Boolean},setup(e){const t=e,n=W(null),s=P(()=>O.properties[t.propertyId]),r=P(()=>KS(s.value.type));return(i,o)=>(m(),w("div",VL,[v("div",{class:Ie(["text-nowrap",t.disabled?"":"dropdown-toggle hover-light button-like"]),"data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false",ref_key:"buttonElem",ref:n,disabled:t.disabled},[v("span",null,Q(i.$t("modals.filters.operators."+t.modelValue)),1)],10,UL),v("ul",HL,[(m(!0),w(ie,null,Oe(p(r),a=>(m(),w("li",{class:"hover-light p-1 rounded",style:{cursor:"pointer"},onClick:l=>i.$emit("update:modelValue",a)},[v("a",null,Q(i.$t("modals.filters.operators."+a)),1)],8,WL))),256))])]))}}),YL=$e(jL,[["__scopeId","data-v-94bad662"]]),zL=["type","value"],BL=fe({__name:"PropertyInput2",props:{type:String,modelValue:String,focus:Boolean},setup(e){const t=e,n=W(null);function s(r){switch(r){case z.number:return"number";case z.date:return"date";case z.color:return"color";case z.checkbox:return"checkbox";default:return"text"}}return(r,i)=>(m(),w("input",{type:s(t.type),ref_key:"inputElem",ref:n,class:"m-0 p-0 ps-1 bg-light no-border",style:{width:"100%"},onInput:i[0]||(i[0]=o=>r.$emit("update:modelValue",o.target.value)),value:t.modelValue,placeholder:"None.."},null,40,zL))}}),GL={class:"m-0 p-0"},KL=fe({__name:"TagBadge",props:{tag:String,showDelete:{type:Boolean,default:!1},color:Number},setup(e){const t=e,n=P(()=>t.color!=null&&t.color>=0&&t.color<12?Hn[t.color].color:"gray");return(s,r)=>(m(),w("div",{class:"badge tag-badge",style:ye("background: "+p(n))},[v("span",GL,[Nt(Q(e.tag)+" ",1),e.showDelete?(m(),w("span",{key:0,onClick:r[0]||(r[0]=je(i=>s.$emit("delete"),["prevent","stop"])),class:"bi bi-x ms-1 tag-x"})):F("",!0)])],4))}}),wt=$e(KL,[["__scopeId","data-v-af1abede"]]),qL={key:0,class:"m-0 p-0"},XL={class:"text-wrap word-break mb-1"},JL={class:"w-100 mb-1"},QL={class:"list"},ZL=["onClick"],eP=["checked"],tP=fe({__name:"TagInputNoDropdown",props:{propertyId:{type:Number,required:!0},modelValue:Array,excluded:Set},emits:["update:modelValue","select","unselect"],setup(e,{expose:t,emit:n}){const s=e;t({focus:f});const r=W(null),i=W(""),o=P(()=>O.properties[s.propertyId]),a=P(()=>O.tags[o.value.id]),l=P(()=>{let d=Object.values(a.value).filter(_=>_.value.toLowerCase().includes(i.value.toLowerCase()));return s.excluded&&(d=d.filter(_=>!s.excluded.has(_.id))),d});function u(d){if(s.modelValue.includes(d)){c(d);return}n("update:modelValue",[...s.modelValue,d]),n("select",d)}function c(d){n("update:modelValue",s.modelValue.filter(_=>_!=d)),n("unselect",d)}function f(){tt(()=>{r.value&&r.value.focus()})}return Ve(()=>{if(o.value.type!=z.multi_tags&&o.value.type!=z.tag)throw`TagDropdown got propertyId that does not correspond to a tag | multi_tags type..
Given type: `+o.value.type;s.modelValue||n("update:modelValue",[])}),Le(()=>s.modelValue,()=>{s.modelValue&&f()}),(d,_)=>s.modelValue?(m(),w("ul",qL,[v("div",XL,[(m(!0),w(ie,null,Oe(s.modelValue,h=>(m(),w("span",null,[H(wt,{class:"me-1",tag:p(a)[h].value,color:p(a)[h].color,"show-delete":!0,onDelete:E=>c(h)},null,8,["tag","color","onDelete"])]))),256))]),v("div",JL,[yt(v("input",{type:"text",class:"w-100","onUpdate:modelValue":_[0]||(_[0]=h=>i.value=h),ref_key:"searchElem",ref:r,style:{"font-size":"13px"}},null,512),[[Qt,i.value]])]),v("div",QL,[(m(!0),w(ie,null,Oe(p(l),h=>(m(),w("li",{class:"dropdown-item ms-0 ps-1",style:{cursor:"pointer"},onClick:E=>u(h.id)},[v("input",{type:"checkbox",class:"me-2",checked:s.modelValue.includes(h.id)},null,8,eP),H(wt,{tag:h.value,color:h.color},null,8,["tag","color"])],8,ZL))),256))])])):F("",!0)}}),uv=$e(tP,[["__scopeId","data-v-bb4d5ac6"]]),cv=e=>(mt("data-v-524e9f76"),e=e(),_t(),e),nP={key:1,class:"separator"},sP={class:"bg-white"},rP=["onClick"],iP={class:"color-name"},oP={key:0,class:"hr m-1"},aP=cv(()=>v("div",{style:{backgroundColor:"#ffffff"},class:"color"},null,-1)),lP=cv(()=>v("div",{class:"color-name"}," None ",-1)),uP=[aP,lP],cP=fe({__name:"ColorPropInputNoDropdown",props:{modelValue:Number,width:Number,minHeight:{type:Number,default:30},rounded:Boolean,hidePreview:Boolean,hideWhite:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=P(()=>{if(n.modelValue==null)return"white";let i=Number(n.modelValue);return isNaN(i)||i>12?"gray":Hn[i].color});function r(i){t("update:modelValue",i)}return(i,o)=>(m(),w("div",{style:ye({minHeight:n.minHeight+"px"}),class:"container bg-white"},[v("div",{class:Ie(n.rounded?"rounded":""),style:ye({width:n.width+"px",height:"calc(100% - 3px)"})},[n.hidePreview?F("",!0):(m(),w("div",{key:0,style:ye({backgroundColor:p(s),height:"30px",width:"100%"})},null,4)),n.hidePreview?F("",!0):(m(),w("div",nP)),v("div",sP,[v("div",null,[(m(!0),w(ie,null,Oe(p(Hn),(a,l)=>(m(),w("div",{class:"d-flex flex-row color-option",onClick:u=>r(l)},[v("div",{style:ye({backgroundColor:a.color}),class:"color"},null,4),v("div",iP,Q(a.name),1)],8,rP))),256)),n.hideWhite?F("",!0):(m(),w("div",oP)),n.hideWhite?F("",!0):(m(),w("div",{key:1,class:"d-flex flex-row color-option",onClick:o[0]||(o[0]=a=>r(void 0))},uP))])])],6)],4))}}),dv=$e(cP,[["__scopeId","data-v-524e9f76"]]),dP=fe({__name:"ContentEditable",props:{tag:String,contenteditable:{type:[Boolean,String],default:!0},modelValue:String,noHtml:{type:Boolean,default:!0},noNl:{type:Boolean,default:!1},onlyNumber:Boolean},emits:{returned:void 0,"update:modelValue":Object,blur:void 0,focus:void 0},setup(e,{expose:t,emit:n}){const s=e;function r(h,E,S){return h.split(E).join(S)}function i(){o(a.value)}function o(h){var E,S;document.createRange&&(E=document.createRange(),E.selectNodeContents(h),E.collapse(!1),S=window.getSelection(),S.removeAllRanges(),S.addRange(E))}t({focus:i});const a=W();function l(){return a.value?(s.noHtml?a.value.innerText:a.value.innerHTML)??"":""}function u(h){if(!a.value)return"";s.onlyNumber&&(h=h.replace(/\D/g,"")),s.noHtml?a.value.innerText=h:a.value.innerHTML=h}function c(h){a.value&&n("update:modelValue",l())}function f(h){n("blur"),c()}function d(h){h.preventDefault();let E=(h.originalEvent||h).clipboardData.getData("text/plain");s.noNl&&(E=r(E,`\r
`," "),E=r(E,`
`," "),E=r(E,"\r"," ")),s.onlyNumber&&(E=E.replace(/\D/g,"")),window.document.execCommand("insertText",!1,E)}function _(h){h.key=="Enter"&&s.noNl&&(h.preventDefault(),n("returned",l())),s.onlyNumber&&h.key.replace(/\D/g,"")==""&&(h.preventDefault(),n("returned",l()))}return Ve(()=>{u(s.modelValue??"")}),Le(()=>s.modelValue,(h,E)=>{h!=l()&&u(h??"")}),Le(()=>s.noHtml,(h,E)=>{u(s.modelValue??"")}),Le(()=>s.tag,(h,E)=>{u(s.modelValue??"")},{flush:"post"}),(h,E)=>(m(),_e(Gl(e.tag),{contenteditable:e.contenteditable,onInput:c,onBlur:f,onPaste:d,onKeypress:_,onClick:E[0]||(E[0]=je(()=>{},["stop"])),ref_key:"element",ref:a,onFocus:E[1]||(E[1]=S=>n("focus"))},null,40,["contenteditable"]))}}),jt=Je({ctrl:!1,alt:!1,shift:!1}),fP=fe({__name:"TextInput",props:{tag:String,contenteditable:{type:[Boolean,String],default:!0},modelValue:void 0,noHtml:{type:Boolean,default:!0},noNl:{type:Boolean,default:!1},width:Number,minHeight:{type:Number,default:30},urlMode:Boolean,onlyNumber:Boolean},emits:{"update:modelValue":Object,"update:height":String,blur:void 0,focus:void 0},setup(e,{expose:t,emit:n}){const s=e,r=W(null),i=W(!1),o=W(!1),a=P(()=>s.minHeight-6+"px"),l=P(()=>s.urlMode&&jt.alt&&o.value);function u(){r.value.focus(),n("focus")}t({focus:u,isFocus:i});let c=0;function f(h){s.onlyNumber&&h!=""&&h!=null?n("update:modelValue",Number(h)):n("update:modelValue",h),d()}function d(){tt(()=>{if(!r.value)return;let h=r.value.$refs.element.clientHeight;c!=h&&n("update:height",h+6),c=h})}function _(){s.urlMode&&jt.alt&&s.modelValue&&window.open(s.modelValue,"_blank").focus()}return Ve(()=>{d()}),Le(()=>s.width,()=>{d()}),Le(()=>s.modelValue,()=>{f(s.modelValue)}),(h,E)=>(m(),w("div",{style:ye({width:s.width>0?s.width+"px":"100%",minHeight:p(a),cursor:p(l)?"pointer":"inherit",color:p(l)?"blue":""}),class:Ie(["container m-0 p-0",i.value?"focus":"container"]),onMouseenter:E[3]||(E[3]=S=>o.value=!0),onMouseleave:E[4]||(E[4]=S=>o.value=!1),onClick:u},[H(dP,{ref_key:"elem",ref:r,tag:s.tag,"onUpdate:modelValue":f,"model-value":String(s.modelValue),"only-number":s.onlyNumber,"no-html":s.noHtml,"no-nl":s.noNl,contenteditable:s.contenteditable&&!p(l),style:ye({width:s.width-5+"px"}),class:"contenteditable",onKeydown:E[0]||(E[0]=st(S=>S.target.blur(),["escape"])),onFocus:E[1]||(E[1]=S=>{i.value=!0,n("focus")}),onBlur:E[2]||(E[2]=S=>{i.value=!1,n("blur")}),onClick:_},null,8,["tag","model-value","only-number","no-html","no-nl","contenteditable","style"])],38))}}),ud=$e(fP,[["__scopeId","data-v-dbdb117e"]]),pP=e=>(mt("data-v-ebc34bb3"),e=e(),_t(),e),hP={class:"p-0 m-0",style:{position:"static"}},mP={class:"dropdown-menu container-size bg-white","aria-labelledby":"dropdownMenuOffset"},_P={key:1},gP={class:"d-flex mode-header"},vP={class:"me-3"},yP=pP(()=>v("div",{class:"flex-fill"},null,-1)),bP={key:0,class:"me-2",style:{width:"100%"}},wP=fe({__name:"FilterDropdown",props:{manager:lr,mode:{type:Number,default:1},propertyId:Number,parentId:Number,filterId:Number},setup(e){const t=e,n=W(null),s=W(null),r=W(0),i=W(-1),o=P(()=>t.filterId!=null?t.filterId:i.value),a=P(()=>{if(!(o.value==null||o.value==-1))return t.manager.filterIndex[o.value]}),l=P(()=>a.value==null?void 0:O.properties[a.value.propertyId]);function u(){r.value=t.mode,t.mode==2&&t.filterId==null&&f(t.propertyId)}function c(){r.value=0}function f(h){let E=t.manager.addNewFilter(h,t.parentId);i.value=E.id,r.value=2}function d(){_(),t.manager.deleteFilter(o.value)}function _(){Ft.getOrCreateInstance(n.value).hide()}return Ve(()=>{n.value.addEventListener("show.bs.dropdown",u),n.value.addEventListener("hide.bs.dropdown",c)}),Le(()=>{var h;return(h=a.value)==null?void 0:h.operator},()=>{s.value&&s.value.focus()}),(h,E)=>(m(),w("div",hP,[v("div",{class:"m-0 p-0","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside",ref_key:"buttonElem",ref:n},[cn(h.$slots,"default",{},void 0,!0)],512),v("div",mP,[r.value!=0?(m(),w(ie,{key:0},[r.value==1?(m(),_e(ld,{key:0,onSelect:f,"ignore-ids":[p(Kt).folders]},null,8,["ignore-ids"])):F("",!0),r.value==2?(m(),w("div",_P,[v("div",gP,[v("div",vP,Q(p(l).name),1),H(YL,{"property-id":p(a).propertyId,modelValue:t.manager.filterIndex[p(o)].operator,"onUpdate:modelValue":E[0]||(E[0]=S=>t.manager.filterIndex[p(o)].operator=S)},null,8,["property-id","modelValue"]),yP,v("div",null,[v("i",{class:"bi bi-trash-fill",onClick:d})])]),p(a_)(p(a).operator)?(m(),w("div",bP,[p(l).type==p(z).multi_tags||p(l).type==p(z).tag?(m(),_e(uv,{key:0,modelValue:p(a).value,"onUpdate:modelValue":E[1]||(E[1]=S=>p(a).value=S),"property-id":p(a).propertyId,ref_key:"inputElem",ref:s},null,8,["modelValue","property-id"])):p(l).type==p(z).color?(m(),_e(dv,{key:1,property:p(l),modelValue:p(a).value,"onUpdate:modelValue":[E[2]||(E[2]=S=>p(a).value=S),_]},null,8,["property","modelValue"])):[p(z).string,p(z).number].some(S=>S==p(l).type)?(m(),_e(ud,{key:2,contenteditable:!0,tag:"div","no-html":!0,modelValue:p(a).value,"onUpdate:modelValue":E[3]||(E[3]=S=>p(a).value=S),width:-1,"min-height":20,"no-nl":p(l).type==p(z).number,"url-mode":p(l).type==p(z).url,"only-number":p(l).type==p(z).number,class:"border rounded"},null,8,["modelValue","no-nl","url-mode","only-number"])):(m(),_e(BL,{key:3,type:p(l).type,modelValue:p(a).value,"onUpdate:modelValue":E[4]||(E[4]=S=>p(a).value=S)},null,8,["type","modelValue"]))])):F("",!0)])):F("",!0)],64)):F("",!0)])]))}}),ya=$e(wP,[["__scopeId","data-v-ebc34bb3"]]),EP={class:"dropdown p-0 m-0",style:{position:"static"}},SP={class:"dropdown-menu bg-white m-0 p-0"},TP=fe({__name:"Dropdown",emits:["show","hide"],setup(e,{expose:t,emit:n}){t({hide:o,show:a});const s=W(null);let r;const i=W(!1);function o(){r.hide()}function a(){r.show()}function l(){i.value=!0,n("show")}function u(){i.value=!1,n("hide")}return Ve(()=>{s.value.addEventListener("show.bs.dropdown",()=>l()),s.value.addEventListener("hide.bs.dropdown",()=>u()),r=Ft.getOrCreateInstance(s.value)}),(c,f)=>(m(),w("div",EP,[v("div",{class:"m-0 p-0","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside",ref_key:"buttonElem",ref:s},[cn(c.$slots,"button",{},void 0,!0)],512),v("div",SP,[i.value?cn(c.$slots,"popup",{key:0},void 0,!0):F("",!0)])]))}}),fv=$e(TP,[["__scopeId","data-v-f90f17c6"]]),cd=e=>(mt("data-v-3f1c9996"),e=e(),_t(),e),IP=cd(()=>v("span",{class:"pe-1"},[v("i",{class:"bi bi-three-dots sm-btn",style:{position:"relative",top:"1.5px"}})],-1)),kP={class:"main-box pt-1"},OP={class:"ps-1 pe-1"},xP=cd(()=>v("i",{class:"bi bi-trash"},null,-1)),AP=cd(()=>v("div",{class:"hr w-100"},null,-1)),CP={class:"mt-1",style:{height:"317px"}},$P=fe({__name:"TagOptionsDropdown",props:{propertyId:Number,tagId:Number},setup(e){const t=e,n=W(null),s=W(""),r=W(null),i=W(null),o=P(()=>O.tags[t.propertyId][t.tagId]);function a(){s.value=o.value.value,r.value=o.value.color,i.value&&i.value.focus()}function l(f){O.updateTag(t.propertyId,t.tagId,Number(f),o.value.parents,o.value.value),n.value.hide()}function u(f){f!=o.value.value&&(console.log("set"),O.updateTag(t.propertyId,t.tagId,Number(o.value.color),o.value.parents,f))}function c(){O.deleteTagParent(t.tagId,0),n.value.hide()}return Ve(a),(f,d)=>(m(),_e(fv,{ref_key:"dropdown",ref:n,onHide:d[2]||(d[2]=_=>u(s.value))},{button:Ce(()=>[IP]),popup:Ce(()=>[v("div",kP,[v("div",OP,[yt(v("input",{"onUpdate:modelValue":d[0]||(d[0]=_=>s.value=_),ref_key:"nameInput",ref:i,class:"w-100 mb-2",onChange:d[1]||(d[1]=_=>u(s.value))},null,544),[[Qt,s.value]]),v("div",{class:"mb-1 base-btn",onClick:c},[xP,Nt(" Delete Tag")])]),AP,v("div",CP,[H(dv,{"hide-preview":!0,"hide-white":!0,"model-value":r.value,"onUpdate:modelValue":l},null,8,["model-value"])])])]),_:1},512))}}),NP=$e($P,[["__scopeId","data-v-3f1c9996"]]),LP=e=>(mt("data-v-e62dba4f"),e=e(),_t(),e),PP={class:"text-nowrap sm-btn"},DP=LP(()=>v("i",{class:"bi bi-node-plus me-1",style:{position:"relative",top:"1.5px"}},null,-1)),MP={style:{"font-size":"10px"}},RP={class:"p-1 main-box"},FP=fe({__name:"TagChildSelectDropdown",props:{propertyId:Number,tagId:Number},setup(e){const t=e,n=W([]),s=P(()=>O.tagNodes[t.propertyId][t.tagId]),r=P(()=>{var l;return((l=s.value)==null?void 0:l.children)??[]}),i=P(()=>{const l=new Set,u=c=>{c!=null&&(l.add(c.id),c.parents.forEach(f=>u(O.tags[t.propertyId][f])))};return u(s.value),l});function o(l){const u=O.tags[t.propertyId][l];O.addTagParent(u.id,t.tagId)}function a(l){const u=O.tags[t.propertyId][l];O.deleteTagParent(u.id,t.tagId,!0)}return Ve(()=>n.value.push(...r.value.map(l=>l.id))),(l,u)=>(m(),_e(fv,null,{button:Ce(()=>[v("span",PP,[DP,v("span",MP,Q(p(r).length),1)])]),popup:Ce(()=>[v("div",RP,[H(uv,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=c=>n.value=c),"property-id":t.propertyId,excluded:p(i),onSelect:o,onUnselect:a},null,8,["modelValue","property-id","excluded"])])]),_:1}))}}),VP=$e(FP,[["__scopeId","data-v-e62dba4f"]]),UP=e=>(mt("data-v-91cb5689"),e=e(),_t(),e),HP={class:"m-0 p-0"},WP={class:"w-100 mb-1"},jP=["onKeydown"],YP={class:"list-unstyled pb-0"},zP=["onMouseover","onMouseleave"],BP={class:"ms-2 d-flex",href:"#"},GP={class:"flex-grow-1",style:{overflow:"hidden"}},KP={class:"text-secondary",style:{"font-size":"10px","line-height":"20px","padding-right":"2px"}},qP=["onClick"],XP=UP(()=>v("span",{class:"text-muted ms-1"},"Create ",-1)),JP=fe({__name:"TagMenu",props:{property:Object},emits:[""],setup(e,{expose:t,emit:n}){const s=e;t({focus:f});const r=W(null),i=W("");W(null);const o=W(void 0),a=P(()=>i.value.length>0&&!c.value.some(S=>S.value==i.value)),l=P(()=>o.value==c.value.length&&a.value),u=P(()=>O.tags[s.property.id]),c=P(()=>Object.values(u.value).filter(y=>y.value.toLowerCase().includes(i.value.toLowerCase())));function f(){tt(()=>{r.value&&r.value.focus()})}Ve(()=>{if(s.property.type!=z.multi_tags&&s.property.type!=z.tag)throw`TagDropdown got propertyId that does not correspond to a tag | multi_tags type..
Given type: `+s.property.type});const d=S=>o.value==S?"bg-selected":"bg-white";function _(S){if(o.value==null){o.value=0;return}let y=a.value?0:-1;S>0&&o.value<c.value.length+y?o.value+=1:S<0&&o.value>0&&(o.value-=1)}const h=async function(){o.value!=null&&(l.value?(await O.addTag(s.property.id,i.value)).id:o.value<c.value.length&&c.value[o.value],i.value="",f())};function E(S){o.value==S&&(o.value=void 0)}return Le(c,()=>{c.value.length==0&&a.value&&(o.value=0)}),(S,y)=>(m(),w("ul",HP,[v("div",WP,[yt(v("input",{type:"text",class:"w-100","onUpdate:modelValue":y[0]||(y[0]=I=>i.value=I),ref_key:"searchElem",ref:r,style:{"font-size":"13px"},onKeydown:[y[1]||(y[1]=st(I=>_(1),["down"])),y[2]||(y[2]=st(I=>_(-1),["up"])),st(h,["enter"])]},null,40,jP),[[Qt,i.value]])]),v("ul",YP,[(m(!0),w(ie,null,Oe(p(c),(I,C)=>(m(),w("li",{onMouseover:T=>o.value=C,class:Ie(d(C)),onMouseleave:T=>E(C),style:{cursor:"pointer"}},[v("div",BP,[v("div",GP,[H(wt,{tag:I.value,color:I.color},null,8,["tag","color"])]),v("div",{style:ye({color:o.value==C?"var(--text-color)":"white"})},[H(VP,{"property-id":I.property_id,"tag-id":I.id},null,8,["property-id","tag-id"])],4),v("div",{style:ye({color:o.value==C?"var(--text-color)":"white"})},[H(NP,{"property-id":e.property.id,"tag-id":I.id},null,8,["property-id","tag-id"])],4),v("div",KP,Q(I.count),1)])],42,zP))),256)),p(a)?(m(),w("li",{key:0,onMouseover:y[3]||(y[3]=I=>o.value=p(c).length),onClick:je(h,["prevent","stop"]),class:Ie(d(p(c).length)),style:{cursor:"pointer"}},[XP,H(wt,{tag:i.value,color:-1},null,8,["tag"])],42,qP)):F("",!0)])]))}}),QP=$e(JP,[["__scopeId","data-v-91cb5689"]]),_r=e=>(mt("data-v-20c69c50"),e=e(),_t(),e),ZP={class:"d-flex flex-row"},eD={style:{width:"20px","margin-top":"2px"},class:"text-center"},tD=_r(()=>v("i",{class:"bi bi-link-45deg"},null,-1)),nD={class:"text-center",style:{width:"20px","margin-top":"2px"}},sD=_r(()=>v("i",{class:"bi bi-chevron-down"},null,-1)),rD=_r(()=>v("i",{class:"bi bi-chevron-right"},null,-1)),iD={key:0,class:"ms-3 pt-1"},oD=_r(()=>v("i",{class:"bi bi-funnel-fill me-2"},null,-1)),aD=_r(()=>v("i",{class:"bi bi-filter me-2"},null,-1)),lD=_r(()=>v("i",{class:"bi bi-collection me-2"},null,-1)),uD=_r(()=>v("i",{class:"bi bi-trash me-2"},null,-1)),cD={key:1},dD=fe({__name:"PropertyOptions",props:{property:Object},setup(e){const t=e,n=W(!1),s=W(!1),r=W(""),i=W(!1),o=P(()=>O.tabs[O.selectedTab]),a=P(()=>o.value.data.visibleProperties[t.property.id]==!0),l=P(()=>o.value.data.filter.filters.some(L=>!L.isGroup&&L.propertyId==t.property.id)),u=P(()=>o.value.data.groups.includes(t.property.id)),c=P(()=>o.value.data.sortList.some(L=>L.property_id==t.property.id)),f=P(()=>{if(l.value)return o.value.data.filter.filters.find(L=>!L.isGroup&&L.propertyId==t.property.id).id}),d=()=>o.value.data.filterManager,_=P(()=>O.getTab().data.sha1Mode);function h(){a.value?delete o.value.data.visibleProperties[t.property.id]:o.value.data.visibleProperties[t.property.id]=!0}function E(){n.value?n.value=!1:(n.value=!0,r.value=t.property.name),s.value=!1}function S(){t.property.type!=z.tag&&t.property.type!=z.multi_tags||(s.value?s.value=!1:s.value=!0,n.value=!1)}function y(){const L=O.getTab().data.sortList,A=L.findIndex(N=>N.property_id==t.property.id);A>=0?L.splice(A,1):L.push({property_id:t.property.id,ascending:!0})}function I(){const L=O.getTab().data.groups,A=L.indexOf(t.property.id);A>=0?L.splice(A,1):O.addGrouping(t.property.id)}function C(){confirm("Supprimer la propriété: "+t.property.name+" ?")&&O.deleteProperty(t.property.id)}function T(){r.value!=""&&O.updateProperty(t.property.id,r.value)}return(L,A)=>(m(),w("div",{class:Ie(i.value?"hover-light":"")},[v("div",ZP,[n.value?F("",!0):(m(),w("div",{key:0,class:"option-holder hover-light btn-icon",style:{width:"150px"},onClick:E},[H(Pt,{type:t.property.type,class:"me-2 btn-icon",onMouseenter:A[0]||(A[0]=N=>i.value=!0),onMouseleave:A[1]||(A[1]=N=>i.value=!1)},null,8,["type"]),v("span",null,Q(t.property.name),1)])),n.value?(m(),w(ie,{key:1},[H(Pt,{type:t.property.type,class:"btn-icon me-1",style:{padding:"2px"},onClick:E,onMouseenter:A[2]||(A[2]=N=>i.value=!0),onMouseleave:A[3]||(A[3]=N=>i.value=!1)},null,8,["type"]),yt(v("input",{style:{position:"relative",top:"1px"},type:"text",class:"text-input","onUpdate:modelValue":A[4]||(A[4]=N=>r.value=N),onChange:T},null,544),[[Qt,r.value]])],64)):F("",!0),v("div",eD,[t.property.mode==p(dn).id?(m(),_e(Ye,{key:0,click:!1,message:"main.nav.properties.linked_property_tooltip"},{default:Ce(()=>[tD]),_:1})):F("",!0)]),v("div",{style:{width:"20px","margin-top":"2px"},onClick:h,class:"btn-icon text-center"},[p(_)&&t.property.mode==p(dn).id?(m(),_e(Ye,{key:0,message:"main.nav.properties.hidden_property_tooltip"},{default:Ce(()=>[v("span",{class:"bi bi-eye-slash",onClick:A[5]||(A[5]=je(()=>{},["stop"]))})]),_:1})):(m(),_e(Ye,{key:1,pos:"right",message:"main.nav.properties.hide_property_tooltip"},{default:Ce(()=>[v("span",{class:Ie("bi bi-eye text-"+(p(a)?"primary":"secondary"))},null,2)]),_:1}))]),v("div",nD,[t.property.type==p(z).tag||t.property.type==p(z).multi_tags?(m(),w("div",{key:0,onClick:S,style:{cursor:"pointer"}},[s.value?(m(),_e(Ye,{key:0,message:"main.nav.properties.collapse_property_tooltip"},{default:Ce(()=>[sD]),_:1})):(m(),_e(Ye,{key:1,message:"main.nav.properties.expand_property_tooltip"},{default:Ce(()=>[rD]),_:1}))])):F("",!0)])]),v("div",null,[n.value?(m(),w("div",iD,[v("div",{class:Ie(["options hover-light",p(l)?" text-primary":""])},[H(ya,{manager:d(),"filter-id":p(f),mode:2,"property-id":e.property.id},{default:Ce(()=>[oD,Nt(Q(L.$t("main.menu.filters")),1)]),_:1},8,["manager","filter-id","property-id"])],2),v("div",{class:Ie(["options hover-light",p(c)?" text-primary":""]),onClick:y},[aD,Nt(Q(L.$t("main.menu.sort")),1)],2),v("div",{class:Ie(["options hover-light",p(u)?" text-primary":""]),onClick:I},[lD,Nt(Q(L.$t("main.menu.groupby")),1)],2),t.property.id>=0?(m(),w("div",{key:0,class:"options hover-light",onClick:C},[uD,Nt(Q(L.$t("main.nav.properties.delete_property")),1)])):F("",!0)])):s.value?(m(),w("div",cD,[H(QP,{property:t.property},null,8,["property"])])):F("",!0)])],2))}}),Xp=$e(dD,[["__scopeId","data-v-20c69c50"]]),fD={class:"menu overflow-scroll"},pD={class:""},hD={class:"ps-2 pe-2",style:{"padding-bottom":"9.5px","padding-top":"5px"}},mD={class:"d-flex"},_D=v("i",{class:"bi bi-three-dots"},null,-1),gD=[_D],vD={key:0,class:"p-2"},yD={class:"w-100 text-center",style:{"font-size":"10px"}},bD={key:0,class:"progress",role:"progressbar","aria-label":"Example 1px high","aria-valuemin":"0","aria-valuemax":"100",style:{height:"1px"}},wD={key:1,class:"p-2"},ED={class:"w-100 text-center",style:{"font-size":"10px"}},SD={key:0,class:"progress",role:"progressbar","aria-label":"Example 1px high","aria-valuemin":"0","aria-valuemax":"100",style:{height:"1px"}},TD=v("div",{class:"custom-hr"},null,-1),ID={class:"p-2 mt-0"},kD={class:"float-end me-3"},OD={class:"float-end me-3"},xD={key:0,class:"mt-2"},AD={key:0,class:"property-item"},CD=v("div",{class:"property-item m-0 p-0"},null,-1),$D=v("i",{class:"bi bi-plus btn-icon float-start",style:{"font-size":"25px"}},null,-1),ND=v("div",{class:"custom-hr"},null,-1),LD={class:"p-2 mt-0"},PD={key:0,class:"mt-2"},DD={key:0,class:"property-item"},MD=fe({__name:"Menu",emits:["export"],setup(e,{emit:t}){const n=W(null),s=r=>{const i=r.target.files[0];O.uploadPropFile(i)};return(r,i)=>(m(),w("div",fD,[v("div",pD,[v("div",null,[v("div",hD,[v("div",mD,[v("div",null,[v("b",null,Q(r.$t("main.nav.folders.title")),1)]),v("div",{class:"ms-auto",onClick:i[0]||(i[0]=o=>p(O).showModal(p(sn).FOLDERTOPROP))},gD)]),p(O).tabs[p(O).selectedTab]?(m(),_e(_x,{key:0,folders:p(O).folderTree,tab:p(O).tabs[p(O).selectedTab].data},null,8,["folders","tab"])):F("",!0)]),p(O).importState.to_import!=null&&p(O).importState.to_import>0?(m(),w("div",vD,[v("div",yD,Q(p(O).importState.imported)+" / "+Q(p(O).importState.to_import)+" importées ",1),p(O).importState.to_import>0?(m(),w("div",bD,[v("div",{class:"progress-bar",style:ye(`width: ${p(O).importState.imported/p(O).importState.to_import*100}%`)},null,4)])):F("",!0)])):F("",!0),p(O).importState.to_import!=null&&p(O).importState.to_import>0?(m(),w("div",wD,[v("div",ED,Q(p(O).importState.computed)+" / "+Q(p(O).importState.to_import)+" computed ",1),p(O).importState.to_import>0?(m(),w("div",SD,[v("div",{class:"progress-bar",style:ye(`width: ${p(O).importState.computed/p(O).importState.to_import*100}%`)},null,4)])):F("",!0)])):F("",!0),TD,v("div",ID,[H(Ye,{message:"main.nav.properties.properties_tooltip",pos:"top",icon:!0},{default:Ce(()=>[v("b",null,Q(r.$t("main.nav.properties.title")),1)]),_:1}),v("span",kD,[v("input",{type:"file",ref_key:"inputFile",ref:n,accept:"text/csv",onChange:s,hidden:""},null,544),H(Ye,{pos:"right",message:"main.nav.properties.import_properties_tooltip"},{default:Ce(()=>[v("i",{class:"bi bi-file-earmark-arrow-up btn-icon text-secondary",onClick:i[1]||(i[1]=o=>n.value.click())})]),_:1})]),v("span",OD,[H(Ye,{pos:"right",message:"main.nav.properties.export_properties_tooltip"},{default:Ce(()=>[v("i",{class:"bi bi-box-arrow-down btn-icon text-secondary",onClick:i[2]||(i[2]=o=>t("export"))})]),_:1})]),p(O).isLoaded?(m(),w("div",xD,[(m(!0),w(ie,null,Oe(p(O).properties,o=>(m(),w(ie,null,[o.id>=0?(m(),w("div",AD,[H(Xp,{property:o},null,8,["property"])])):F("",!0)],64))),256)),CD,v("div",{onClick:i[3]||(i[3]=o=>p(O).showModal(p(sn).PROPERTY)),class:"btn-icon base-hover mt-1",style:{"line-height":"25px"}},[$D,v("span",null,Q(r.$t("main.nav.properties.add_property")),1)])])):F("",!0)]),ND,v("div",LD,[H(Ye,{message:"main.nav.computed.computed_tooltip",icon:!0},{default:Ce(()=>[v("b",null,Q(r.$t("main.nav.computed.title")),1)]),_:1}),p(O).isLoaded?(m(),w("div",PD,[(m(!0),w(ie,null,Oe(p(O).properties,o=>(m(),w(ie,null,[o.id<0?(m(),w("div",DD,[H(Ye,{pos:"bottom",message:"main.nav.computed."+Math.abs(o.id).toString()+"_tooltip"},{default:Ce(()=>[H(Xp,{property:o},null,8,["property"])]),_:2},1032,["message"])])):F("",!0)],64))),256))])):F("",!0)])])])]))}}),RD={class:"me-1 text-nowrap text-truncate"},FD={class:"me-1"},VD={key:1},UD=["href"],HD={key:0,class:"text-secondary"},WD={key:1},jD={key:2},YD={key:0,class:"w-100"},zD=["type"],BD={key:1},Ji=fe({__name:"PropertyInput",props:{property:Object,maxSize:String,inputId:Array},setup(e){const t=e,n=W(!1),s=W(null),r=W(null),i=P(()=>t.property.value||t.property.value==0),o=P(()=>t.property.type);function a(f){if(t.property.propertyId<0){n.value=!1;return}if(f)n.value=!0,tt(()=>{document.addEventListener("click",l,!0),s.value&&s.value.focus()});else{document.removeEventListener("click",l),console.log("start here");const d=O.images[t.property.imageId];O.setPropertyValue(t.property.propertyId,d,t.property.value),n.value=!1,t.property.value==""&&(t.property.value=void 0)}}const l=f=>{n.value&&s.value&&!s.value.contains(f.target)&&(a(!1),u(f.target,10)||f.stopPropagation())};function u(f,d=0){return f.getAttribute("is-input")?!0:d>0&&f.parentElement?u(f.parentElement,d-1):!1}function c(f){switch(f){case z.number:return"number";case z.date:return"date";case z.color:return"color";case z.checkbox:return null;case z.url:return"url";case z._folders:return null;default:return"text"}}return Ve(()=>{t.inputId!=null&&Zt(t.inputId,r.value)}),(f,d)=>(m(),w("form",{onSubmit:d[9]||(d[9]=je(_=>a(!1),["prevent"])),"is-input":"true",class:"pt-1 pb-1 pe-1 overflow-hidden"},[v("div",{class:"d-flex flex-row",onClick:d[8]||(d[8]=_=>a(!0)),ref_key:"clickableElem",ref:r},[v("div",RD,[v("span",FD,[p(o)==p(z).checkbox?yt((m(),w("input",{key:0,class:"small-input",type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=_=>t.property.value=_),onChange:d[1]||(d[1]=_=>a(!1)),ref_key:"inputElem",ref:s,onKeydownCapture:d[2]||(d[2]=st(je(_=>Kr(t.inputId),["shift","stop","prevent"]),["tab"])),onKeydown:d[3]||(d[3]=st(je(_=>Gr(t.inputId),["prevent"]),["tab"]))},null,544)),[[Ui,t.property.value]]):(m(),w("span",VD,[p(o)==p(z).url?(m(),w("a",{key:0,href:t.property.value,target:"_blank"},[H(Pt,{type:e.property.type},null,8,["type"])],8,UD)):(m(),_e(Pt,{key:1,type:e.property.type},null,8,["type"]))]))]),!n.value&&p(o)!=p(z).checkbox?(m(),w("span",{key:0,onClick:d[4]||(d[4]=_=>a(!0))},[p(i)?p(o)==p(z)._folders?(m(),w("span",WD,[H(wt,{tag:p(O).folders[t.property.value].name,color:-1},null,8,["tag"])])):p(o)!=p(z).color?(m(),w("span",jD,Q(t.property.value),1)):F("",!0):(m(),w("span",HD,"None"))])):F("",!0)]),n.value&&c(p(o))?(m(),w("div",YD,[yt(v("input",{type:c(p(o)),class:"small-input",ref_key:"inputElem",ref:s,"onUpdate:modelValue":d[5]||(d[5]=_=>t.property.value=_),onKeydownCapture:d[6]||(d[6]=st(je(_=>Kr(t.inputId),["shift","stop","prevent"]),["tab"])),onKeydown:d[7]||(d[7]=st(je(_=>Gr(t.inputId),["prevent"]),["tab"]))},null,40,zD),[[sm,t.property.value]])])):F("",!0),p(o)==p(z).checkbox?(m(),w("div",BD,Q(p(O).properties[t.property.propertyId].name),1)):F("",!0)],512)],32))}}),GD={class:"custom-slider"},KD=["value","min","max","step"],qD={__name:"RangeInput",props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},modelValue:{type:Number,default:50}},emits:["update:modelValue"],setup(e,{emit:t}){const{min:n,max:s,step:r,modelValue:i}=e,o=W(i),a=W(null),l=(d,_,h)=>(d-_)/(h-_)*100,u=d=>{a.value.style.setProperty("--ProgressPercent",`${d}%`)};Yy(()=>{if(a.value){const d=l(o.value,a.value.min,a.value.max);u(d+0)}});function c(){t("update:modelValue",o.value)}let f=!1;return navigator.userAgent.indexOf("AppleWebKit")!=-1&&(f=!0),(d,_)=>(m(),w("div",GD,[v("input",{ref_key:"slider",ref:a,value:o.value,onInput:_[0]||(_[0]=({target:h})=>o.value=parseFloat(h.value)),type:"range",min:e.min,max:e.max,step:e.step,class:"slider",style:ye(p(f)?"top:-5px":""),onChange:c},null,44,KD)]))}},pv=$e(qD,[["__scopeId","data-v-9b896fd0"]]);function XD(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):-1}let Jo;function Lu(){Lu.init||(Lu.init=!0,Jo=XD()!==-1)}var ll={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){Lu(),tt(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Jo&&this.$el.appendChild(e),e.data="about:blank",Jo||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Jo&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const JD=Ry();mt("data-v-b329ee4c");const QD={class:"resize-observer",tabindex:"-1"};_t();const ZD=JD((e,t,n,s,r,i)=>(m(),_e("div",QD)));ll.render=ZD;ll.__scopeId="data-v-b329ee4c";ll.__file="src/components/ResizeObserver.vue";function Qo(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qo=function(t){return typeof t}:Qo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function eM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jp(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function tM(e,t,n){return t&&Jp(e.prototype,t),n&&Jp(e,n),e}function Qp(e){return nM(e)||sM(e)||rM(e)||iM()}function nM(e){if(Array.isArray(e))return Pu(e)}function sM(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rM(e,t){if(e){if(typeof e=="string")return Pu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pu(e,t)}}function Pu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function iM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oM(e){var t;return typeof e=="function"?t={callback:e}:t=e,t}function aM(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,r,i,o=function(l){for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];if(i=c,!(s&&l===r)){var d=n.leading;typeof d=="function"&&(d=d(l,r)),(!s||l!==r)&&d&&e.apply(void 0,[l].concat(Qp(i))),r=l,clearTimeout(s),s=setTimeout(function(){e.apply(void 0,[l].concat(Qp(i))),s=0},t)}};return o._clear=function(){clearTimeout(s),s=null},o}function hv(e,t){if(e===t)return!0;if(Qo(e)==="object"){for(var n in e)if(!hv(e[n],t[n]))return!1;return!0}return!1}var lM=function(){function e(t,n,s){eM(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(n,s)}return tM(e,[{key:"createObserver",value:function(n,s){var r=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=oM(n),this.callback=function(a,l){r.options.callback(a,l),a&&r.options.once&&(r.frozen=!0,r.destroyObserver())},this.callback&&this.options.throttle){var i=this.options.throttleOptions||{},o=i.leading;this.callback=aM(this.callback,this.options.throttle,{leading:function(l){return o==="both"||o==="visible"&&l||o==="hidden"&&!l}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(a){var l=a[0];if(a.length>1){var u=a.find(function(f){return f.isIntersecting});u&&(l=u)}if(r.callback){var c=l.isIntersecting&&l.intersectionRatio>=r.threshold;if(c===r.oldResult)return;r.oldResult=c,r.callback(c,l)}},this.options.intersection),tt(function(){r.observer&&r.observer.observe(r.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e}();function mv(e,t,n){var s=t.value;if(s)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var r=new lM(e,s,n);e._vue_visibilityState=r}}function uM(e,t,n){var s=t.value,r=t.oldValue;if(!hv(s,r)){var i=e._vue_visibilityState;if(!s){_v(e);return}i?i.createObserver(s,n):mv(e,{value:s},n)}}function _v(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var cM={beforeMount:mv,updated:uM,unmounted:_v};const dM=/(auto|scroll)/;function gv(e,t){return e.parentNode===null?t:gv(e.parentNode,t.concat([e]))}const Wl=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},fM=function(e){return Wl(e,"overflow")+Wl(e,"overflow-y")+Wl(e,"overflow-x")},pM=function(e){return dM.test(fM(e))};function Zp(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return;const t=gv(e.parentNode,[]);for(let n=0;n<t.length;n+=1)if(pM(t[n]))return t[n];return document.scrollingElement||document.documentElement}const hM={itemsLimit:1e3},mM={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function _M(){return this.items.length&&typeof this.items[0]!="object"}let Du=!1;if(typeof window<"u"){Du=!1;try{const e=Object.defineProperty({},"passive",{get(){Du=!0}});window.addEventListener("test",null,e)}catch{}}let gM=0;const vM={name:"RecycleScroller",components:{ResizeObserver:ll},directives:{ObserveVisibility:cM},props:{...mM,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const e={"-1":{accumulator:0}},t=this.items,n=this.sizeField,s=this.minItemSize;let r=1e4,i=0,o;for(let a=0,l=t.length;a<l;a++)o=t[a][n]??s,o<r&&(r=o),i+=o,e[a]={accumulator:i,size:o};return this.$_computedMinItemSize=r,e}return[]},simpleArray:_M,itemIndexByKey(){const{keyField:e,items:t}=this,n={};for(let s=0,r=t.length;s<r;s++)n[t[s][e]]=s;return n}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;typeof e=="number"&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,n,s,r){const i=Ku({id:gM++,index:t,used:!0,key:s,type:r}),o=Eh({item:n,position:0,nr:i});return e.push(o),o},unuseView(e,t=!1){const n=this.$_unusedViews,s=e.nr.type;let r=n.get(s);r||(r=[],n.set(s,r)),r.push(e),t||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const t=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:n}=this.updateVisibleItems(!1,!0);n||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});t(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&t()},this.updateInterval))}},handleVisibilityChange(e,t){this.ready&&(e||t.boundingClientRect.width!==0||t.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const n=this.itemSize,s=this.gridItems||1,r=this.itemSecondarySize||n,i=this.$_computedMinItemSize,o=this.typeField,a=this.simpleArray?null:this.keyField,l=this.items,u=l.length,c=this.sizes,f=this.$_views,d=this.$_unusedViews,_=this.pool,h=this.itemIndexByKey;let E,S,y,I,C;if(!u)E=S=I=C=y=0;else if(this.$_prerender)E=I=0,S=C=Math.min(this.prerender,l.length),y=null;else{const $=this.getScroll();if(t){let q=$.start-this.$_lastUpdateScrollPosition;if(q<0&&(q=-q),n===null&&q<i||q<n)return{continuous:!0}}this.$_lastUpdateScrollPosition=$.start;const D=this.buffer;$.start-=D,$.end+=D;let Y=0;if(this.$refs.before&&(Y=this.$refs.before.scrollHeight,$.start-=Y),this.$refs.after){const q=this.$refs.after.scrollHeight;$.end+=q}if(n===null){let q,G=0,ee=u-1,se=~~(u/2),ue;do ue=se,q=c[se].accumulator,q<$.start?G=se:se<u-1&&c[se+1].accumulator>$.start&&(ee=se),se=~~((G+ee)/2);while(se!==ue);for(se<0&&(se=0),E=se,y=c[u-1].accumulator,S=se;S<u&&c[S].accumulator<$.end;S++);for(S===-1?S=l.length-1:(S++,S>u&&(S=u)),I=E;I<u&&Y+c[I].accumulator<$.start;I++);for(C=I;C<u&&Y+c[C].accumulator<$.end;C++);}else{E=~~($.start/n*s);const q=E%s;E-=q,S=Math.ceil($.end/n*s),I=Math.max(0,Math.floor(($.start-Y)/n*s)),C=Math.floor(($.end-Y)/n*s),E<0&&(E=0),S>u&&(S=u),I<0&&(I=0),C>u&&(C=u),y=Math.ceil(u/s)*n}}S-E>hM.itemsLimit&&this.itemsLimitError(),this.totalSize=y;let T;const L=E<=this.$_endIndex&&S>=this.$_startIndex;if(L)for(let $=0,D=_.length;$<D;$++)T=_[$],T.nr.used&&(e&&(T.nr.index=h[T.item[a]]),(T.nr.index==null||T.nr.index<E||T.nr.index>=S)&&this.unuseView(T));const A=L?null:new Map;let N,V,U;for(let $=E;$<S;$++){N=l[$];const D=a?N[a]:N;if(D==null)throw new Error(`Key is ${D} on item (keyField is '${a}')`);if(T=f.get(D),!n&&!c[$].size){T&&this.unuseView(T);continue}V=N[o];let Y=d.get(V),q=!1;if(!T)L?Y&&Y.length?T=Y.pop():T=this.addView(_,$,N,D,V):(U=A.get(V)||0,(!Y||U>=Y.length)&&(T=this.addView(_,$,N,D,V),this.unuseView(T,!0),Y=d.get(V)),T=Y[U],A.set(V,U+1)),f.delete(T.nr.key),T.nr.used=!0,T.nr.index=$,T.nr.key=D,T.nr.type=V,f.set(D,T),q=!0;else if(!T.nr.used&&(T.nr.used=!0,q=!0,Y)){const G=Y.indexOf(T);G!==-1&&Y.splice(G,1)}T.item=N,q&&($===l.length-1&&this.$emit("scroll-end"),$===0&&this.$emit("scroll-start")),n===null?(T.position=c[$-1].accumulator,T.offset=0):(T.position=Math.floor($/s)*n,T.offset=$%s*r)}return this.$_startIndex=E,this.$_endIndex=S,this.emitUpdate&&this.$emit("update",E,S,I,C),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:L}},getListenerTarget(){let e=Zp(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){const{$el:e,direction:t}=this,n=t==="vertical";let s;if(this.pageMode){const r=e.getBoundingClientRect(),i=n?r.height:r.width;let o=-(n?r.top:r.left),a=n?window.innerHeight:window.innerWidth;o<0&&(a+=o,o=0),o+a>i&&(a=i-o),s={start:o,end:o+a}}else n?s={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:s={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return s},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,Du?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;const n=this.gridItems||1;this.itemSize===null?t=e>0?this.sizes[e-1].accumulator:0:t=Math.floor(e/n)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){const t=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let n,s,r;if(this.pageMode){const i=Zp(this.$el),o=i.tagName==="HTML"?0:i[t.scroll],a=i.getBoundingClientRect(),u=this.$el.getBoundingClientRect()[t.start]-a[t.start];n=i,s=t.scroll,r=e+o+u}else n=this.$el,s=t.scroll,r=e;n[s]=r},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,t)=>e.nr.index-t.nr.index)}}},yM={key:0,ref:"before",class:"vue-recycle-scroller__slot"},bM={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function wM(e,t,n,s,r,i){const o=sb("observe-visibility");return yt((m(),w("div",{class:Ie(["vue-recycle-scroller",{ready:r.ready,"page-mode":n.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:t[0]||(t[0]=(...a)=>i.handleScroll&&i.handleScroll(...a))},[e.$slots.before?(m(),w("div",yM,[cn(e.$slots,"before")],512)):F("",!0),(m(),_e(Gl(n.listTag),{ref:"wrapper",style:ye({[e.direction==="vertical"?"minHeight":"minWidth"]:r.totalSize+"px"}),class:Ie(["vue-recycle-scroller__item-wrapper",n.listClass])},{default:Ce(()=>[(m(!0),w(ie,null,Oe(r.pool,a=>(m(),_e(Gl(n.itemTag),rc({key:a.nr.id,style:r.ready?{[e.direction==="vertical"?"top":"left"]:`${a.position}px`,willChange:"unset"}:null,class:["vue-recycle-scroller__item-view",[n.itemClass,{hover:!n.skipHover&&r.hoverKey===a.nr.key}]]},rb(n.skipHover?{}:{mouseenter:()=>{r.hoverKey=a.nr.key},mouseleave:()=>{r.hoverKey=null}})),{default:Ce(()=>[cn(e.$slots,"default",{item:a.item,index:a.nr.index,active:a.nr.used})]),_:2},1040,["style","class"]))),128)),cn(e.$slots,"empty")]),_:3},8,["style","class"])),e.$slots.after?(m(),w("div",bM,[cn(e.$slots,"after")],512)):F("",!0)],34)),[[o,i.handleVisibilityChange]])}const vv=$e(vM,[["render",wM]]);function EM(e){return dh()?(Jv(e),!0):!1}function SM(e){return typeof e=="function"?e():p(e)}const TM=typeof window<"u";function eh(e){var t;const n=SM(e);return(t=n==null?void 0:n.$el)!=null?t:n}const IM=TM?window:void 0;function kM(){const e=W(!1);return Ur()&&Ve(()=>{e.value=!0}),e}function OM(e){const t=kM();return P(()=>(t.value,!!e()))}var th=Object.getOwnPropertySymbols,xM=Object.prototype.hasOwnProperty,AM=Object.prototype.propertyIsEnumerable,CM=(e,t)=>{var n={};for(var s in e)xM.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&th)for(var s of th(e))t.indexOf(s)<0&&AM.call(e,s)&&(n[s]=e[s]);return n};function $M(e,t,n={}){const s=n,{window:r=IM}=s,i=CM(s,["window"]);let o;const a=OM(()=>r&&"ResizeObserver"in r),l=()=>{o&&(o.disconnect(),o=void 0)},u=P(()=>Array.isArray(e)?e.map(d=>eh(d)):[eh(e)]),c=Le(u,d=>{if(l(),a.value&&r){o=new ResizeObserver(t);for(const _ of d)_&&o.observe(_,i)}},{immediate:!0,flush:"post",deep:!0}),f=()=>{l(),c()};return EM(f),{isSupported:a,stop:f}}const NM=fe({__name:"Resizable",props:{disabled:Boolean,startWidth:Number},emits:{resize:Number},setup(e,{emit:t}){const n=e,s=W(null),r=W(""),i=W(!1),o=P(()=>{const a=["common"];return a.push("horizontal"),a});return Ve(()=>{s.value.style.width=n.startWidth+"px",$M(s.value,a=>{const l=a[0],{width:u,height:c}=l.contentRect;r.value=`width: ${u}, height: ${c}`,t("resize",s.value.clientWidth+1)})}),Le(()=>n.startWidth,()=>s.value.style.width=n.startWidth+"px"),(a,l)=>(m(),w("div",{class:Ie(p(o)),ref_key:"elem",ref:s,onMouseenter:l[0]||(l[0]=u=>i.value=!0),onMouseout:l[1]||(l[1]=u=>i.value=!1)},[cn(a.$slots,"default",{},void 0,!0)],34))}}),LM=$e(NM,[["__scopeId","data-v-6370033b"]]),PM={class:"d-flex",style:{"line-height":"25px"}},DM={class:"me-1"},MM={key:1},RM={key:0},FM={key:1,class:"text-secondary"},VM={key:2},UM=fe({__name:"PropertyValue",props:{value:Object},setup(e){const t=e,n=P(()=>O.properties[t.value.propertyId]),s=P(()=>n.value.type),r=P(()=>s.value==z.tag||s.value==z.multi_tags),i=P(()=>{if(t.value.value==null)return"white";let a=Number(t.value.value);return isNaN(a)||a>12?"gray":Hn[a].color});function o(a){return a==null?[{value:"_indéfini",color:-1}]:[O.tags[t.value.propertyId][a]]}return(a,l)=>(m(),w("div",PM,[v("div",DM,Q(p(n).name)+": ",1),p(n).type==p(z).color?(m(),w("div",{key:0,style:ye({backgroundColor:p(i)}),class:"color-holder"},null,4)):p(r)?(m(),w("span",VM,[(m(!0),w(ie,null,Oe(o(t.value.value),u=>(m(),w("span",null,[H(wt,{tag:u.value,color:u.color},null,8,["tag","color"])]))),256))])):(m(),w("span",MM,[t.value.value!=p(Cs)?(m(),w("span",RM,Q(t.value.value),1)):(m(),w("span",FM,"indéfini"))]))]))}}),ul=$e(UM,[["__scopeId","data-v-d54fe3b5"]]),cl=e=>(mt("data-v-2d8f448a"),e=e(),_t(),e),HM={class:"m-0 p-0"},WM={class:"header-row d-flex flex-row ps-1"},jM={key:0,class:"me-1"},YM={key:1},zM=cl(()=>v("div",{class:"ms-3 me-1"},null,-1)),BM={key:0,class:"separator"},GM=cl(()=>v("div",{class:"empty"},null,-1)),KM={style:{height:"30px"}},qM=cl(()=>v("div",{class:"left-border"},null,-1)),XM=cl(()=>v("i",{class:"bi bi-image ms-1 me-1"},null,-1)),JM=[XM],QM=fe({__name:"TableHeader",props:{properties:Array,showImage:Boolean,data:Object,currentGroup:Object},setup(e){const t=e;W(30);const n=P(()=>O.getTab());Je({});function s(r,i){n.value.data.propertyOptions[r].size=i}return(r,i)=>(m(),w("div",HM,[v("div",WM,[t.data.root?(m(),w("span",jM,"Images: "+Q(t.data.root.count),1)):F("",!0),t.currentGroup?(m(),w("span",YM," ("+Q(t.currentGroup.count)+")",1)):F("",!0),zM,t.currentGroup.id?(m(!0),w(ie,{key:2},Oe(e.currentGroup.propertyValues,(o,a)=>(m(),w(ie,null,[H(ul,{class:"",value:o},null,8,["value"]),a<e.currentGroup.propertyValues.length-1?(m(),w("div",BM,"&")):F("",!0)],64))),256)):F("",!0)]),GM,v("div",KM,[qM,e.showImage?(m(),w("div",{key:0,class:"header-cell",style:ye({width:p(n).data.imageSize+"px"})},JM,4)):F("",!0),(m(!0),w(ie,null,Oe(t.properties,o=>(m(),_e(LM,{"start-width":p(n).data.propertyOptions[o.id].size,class:"header-cell",onResize:a=>s(o.id,a)},{default:Ce(()=>[H(Pt,{type:o.type,class:"ms-1"},null,8,["type"]),Nt(" "+Q(o.name),1)]),_:2},1032,["start-width","onResize"]))),256))])]))}}),ZM=$e(QM,[["__scopeId","data-v-2d8f448a"]]),eR=["onClick"],tR=["onClick"],nR=fe({__name:"SelectCircle",props:{modelValue:Boolean,lightMode:Boolean,small:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=W(!1),r=P(()=>{let o=n.small?"small-offset":"offset";return n.modelValue?[o,"text-primary"]:s.value&&n.lightMode?[o,"light-hover"]:s.value?[o,"text-secondary"]:[o,"icon-idle"]});function i(){n.modelValue?t("update:modelValue",!1):t("update:modelValue",!0)}return(o,a)=>(m(),w("div",{class:Ie(["btn-icon",p(r)]),onMouseenter:a[0]||(a[0]=l=>s.value=!0),onMouseleave:a[1]||(a[1]=l=>s.value=!1)},[n.modelValue?(m(),w("i",{key:1,class:"bi bi-check-circle-fill",onClick:je(i,["stop"])},null,8,tR)):(m(),w("i",{key:0,class:"bi bi-check-circle-fill",onClick:je(i,["stop"])},null,8,eR))],34))}}),dl=$e(nR,[["__scopeId","data-v-7dfb4975"]]),sR={key:0,class:"bi bi-caret-right-fill",style:{"margin-left":"1px"}},rR={key:1,class:"bi bi-caret-down-fill",style:{"margin-left":"1px"}},iR={class:"me-2"},oR={key:0,class:"separator"},aR=fe({__name:"GroupLine",props:{item:Object,propValues:Array,width:Number,data:Object},emits:["close:group","open:group","toggle:group"],setup(e,{emit:t}){const n=e,s=P(()=>rg(n.data.index,n.item.data).some(i=>i.closed));function r(){s.value?t("open:group",n.item.data.id):t("close:group",n.item.data.id)}return(i,o)=>(m(),w("div",{class:"d-flex flex-row group-row m-0",style:ye({width:n.width-0+"px",height:n.item.size+"px"})},[v("div",{onClick:r,class:"align-self-center me-2",style:{cursor:"pointer"}},[p(s)?(m(),w("i",sR)):(m(),w("i",rR))]),v("div",iR,[H(dl,{"model-value":n.item.data.allImageSelected,"onUpdate:modelValue":o[0]||(o[0]=a=>t("toggle:group"))},null,8,["model-value"])]),(m(!0),w(ie,null,Oe(n.propValues,(a,l)=>(m(),w(ie,null,[H(ul,{class:"",value:a},null,8,["value"]),l<n.propValues.length-1?(m(),w("div",oR,"&")):F("",!0)],64))),256))],4))}}),lR=$e(aR,[["__scopeId","data-v-f057d212"]]),uR=["src"],cR=["src"],dR=fe({__name:"CenteredImage",props:{image:Object,width:Number,height:Number,noClick:Boolean,shadow:Boolean},setup(e){const t=e,n=P(()=>{let i=t.image.width/t.image.height;return t.width/t.height>i?{w:t.height*i,h:t.height}:{w:t.width,h:t.width/i}}),s=P(()=>{let i=t.image,o=150**2;return t.width*t.height>o?i.fullUrl:i.url});function r(){t.noClick||O.showModal(sn.IMAGE,t.image)}return(i,o)=>(m(),w("div",{class:"image-container",style:ye({width:t.width+"px",height:t.height+"px",cursor:t.noClick?"inherit":"pointer"}),onClick:r},[t.shadow?(m(),w("div",{key:0,class:"box-shadow",style:ye({width:t.width+"px",height:"3px"})},[v("img",{src:p(s),style:ye({width:p(n).w+"px",height:p(n).h+"px"})},null,12,uR)],4)):(m(),w("img",{key:1,src:p(s),style:ye({width:p(n).w+"px",height:p(n).h+"px"})},null,12,cR))],4))}}),fR=$e(dR,[["__scopeId","data-v-a1eedd61"]]),pR=["onClick"],hR=fe({__name:"CheckboxPropInput",props:{property:Object,image:Object,width:Number,minHeight:{type:Number,default:30}},emits:{"update:height":Number},setup(e,{expose:t,emit:n}){const s=e,r=W(null),i=P(()=>lo(s.image.id,s.property.id));function o(){r.value.focus()}function a(){O.setPropertyValue(s.property.id,s.image,!i.value.value)}return t({focus:o}),(l,u)=>(m(),w("div",{class:"container d-flex flex-row",style:ye({height:s.minHeight+"px"})},[yt(v("input",{type:"checkbox","onUpdate:modelValue":u[0]||(u[0]=c=>p(i).value=c),onClick:je(a,["stop","prevent"])},null,8,pR),[[Ui,p(i).value]])],4))}}),yv=$e(hR,[["__scopeId","data-v-81b01181"]]),dd=e=>(mt("data-v-cf5ffb4c"),e=e(),_t(),e),mR={class:"dropdown-menu"},_R=["onClick"],gR={class:"color-name"},vR=dd(()=>v("div",{class:"hr m-1"},null,-1)),yR=dd(()=>v("div",{style:{backgroundColor:"#ffffff"},class:"color"},null,-1)),bR=dd(()=>v("div",{class:"color-name"}," None ",-1)),wR=[yR,bR],ER=fe({__name:"ColorPropInput",props:{property:Object,image:Object,width:Number,minHeight:{type:Number,default:30},rounded:Boolean},emits:{"update:height":Number},setup(e,{expose:t,emit:n}){const s=e;navigator.userAgent.indexOf("Firefox")!=-1;const r=W(null);W(null);const i=W(null),o=P(()=>lo(s.image.id,s.property.id)),a=P(()=>{if(o.value.value==null)return"white";let h=Number(o.value.value);return isNaN(h)||h>12?"gray":Hn[h].color}),l=W(!1);function u(){l.value||(l.value=!0,i.value.show())}function c(){l.value=!1,i.value.hide()}function f(){r.value=o.value.value}function d(h){O.setPropertyValue(s.property.id,s.image,h)}function _(h){h&&(h.addEventListener("show.bs.dropdown",()=>l.value=!0),h.addEventListener("hide.bs.dropdown",()=>l.value=!1))}return Ve(f),t({focus:u}),(h,E)=>(m(),w("div",{style:ye({height:s.minHeight+"px"}),class:"container"},[v("div",{ref:S=>_(S),class:Ie(s.rounded?"rounded":""),style:ye({width:s.width+"px",backgroundColor:p(a),height:"calc(100% - 3px)"}),"data-bs-toggle":"dropdown","aria-expanded":"false"},[v("div",mR,[l.value?(m(),w("div",{key:0,onFocusout:c},[(m(!0),w(ie,null,Oe(p(Hn),(S,y)=>(m(),w("div",{class:"d-flex flex-row color-option",onClick:I=>d(y)},[v("div",{style:ye({backgroundColor:S.color}),class:"color"},null,4),v("div",gR,Q(S.name),1)],8,_R))),256)),vR,v("div",{class:"d-flex flex-row color-option",onClick:E[0]||(E[0]=S=>d(void 0))},wR)],32)):F("",!0)])],6)],4))}}),fd=$e(ER,[["__scopeId","data-v-cf5ffb4c"]]),SR=fe({__name:"DatePropInput",props:{property:Object,image:Object,width:Number,minHeight:{type:Number,default:30}},emits:{"update:height":Number},setup(e,{expose:t,emit:n}){const s=e,r=navigator.userAgent.indexOf("Firefox")!=-1,i=W(null),o=W(null),a=P(()=>lo(s.image.id,s.property.id));function l(){o.value.focus()}function u(){i.value=a.value.value}function c(){O.setPropertyValue(s.property.id,s.image,i.value)}return Ve(u),t({focus:l}),(f,d)=>(m(),w("div",{style:ye({height:s.minHeight+"px",width:s.width+"px",overflow:"hidden"}),class:"container"},[yt(v("input",{type:"date","onUpdate:modelValue":d[0]||(d[0]=_=>i.value=_),style:ye({width:(r?120:95)+"px",paddingTop:(r?4:3)+"px",fontSize:"15px",color:i.value!=null?"black":"grey"}),ref_key:"elem",ref:o,onBlur:c},null,36),[[Qt,i.value]])],4))}}),bv=$e(SR,[["__scopeId","data-v-37b9b781"]]),wv=e=>(mt("data-v-1e31f83e"),e=e(),_t(),e),TR={class:"input-container","is-input":"true"},IR={key:0},kR=["onKeydown"],OR={key:0,class:"list-unstyled mb-0"},xR={key:0,class:"bg-light m-0 p-0 pb-1 pt-1 ps-1 rounded-top text-wrap",style:{width:"300px"}},AR=wv(()=>v("p",{class:"m-0 ms-2 me-2 text-muted text-nowrap",style:{"font-size":"14px"}},"Select a tag or create one ",-1)),CR=["onMouseover","onClick"],$R={class:"ms-2",href:"#"},NR=["onClick"],LR=wv(()=>v("span",{class:"text-muted ms-1"},"Create ",-1)),PR=fe({__name:"TagPropInput",props:{property:{type:Object,required:!0},image:{type:Object,required:!0},maxSize:Number,inputId:Array,minHeight:Number},emits:{"update:height":Number},setup(e,{emit:t}){const n=e,s=W(!1),r=Je([]),i=W(""),o=W(!1),a=W(null),l=W(null),u=W(0),c=W(null),f=W(null),d=W(null),_=W(null),h=P(()=>lo(n.image.id,n.property.id)),E=P(()=>O.tags[h.value.propertyId]),S=P(()=>(h.value.value||(h.value.value=[]),Object.values(E.value).filter(ee=>!r.includes(ee.id)&&ee.value.toLowerCase().includes(i.value.toLowerCase())))),y=P(()=>i.value.length>0&&!S.value.some(G=>G.value==i.value)),I=P(()=>u.value==S.value.length&&y.value),C=P(()=>r.map(G=>E.value[G])),T=G=>{s.value&&!(l.value&&l.value.contains(G.target))&&!a.value.contains(G.target)&&!c.value.contains(G.target)&&(V(!1),U(G.target,10)||G.stopPropagation())},L=async function(){let G;if(I.value)G=(await O.addTag(h.value.propertyId,i.value)).id;else if(u.value<S.value.length){let ee=S.value[u.value];C.value.indexOf(ee)===-1&&(G=ee.id)}G&&(i.value="",n.property.type==z.tag&&(r.length=0),r.push(G),c.value.focus(),n.property.type==z.tag&&V(!1))},A=G=>{let ee=u.value==G?"bg-selected":"bg-white",se=G==S.value.length-1&&!y.value?" rounded-bottom":"";return ee+se};function N(){let G=h.value.value;if(G.length!=r.length)return!0;let ee=new Set(r);for(let se of G)if(!ee.has(se))return!0;return!1}function V(G){if(G!=s.value)if(G)s.value=!0,document.addEventListener("click",T,!0),tt(()=>{if(!c.value)return;c.value.focus(),Ft.getOrCreateInstance(f.value).show()});else{document.removeEventListener("click",T);let ee=O.images[h.value.imageId];N()&&O.setPropertyValue(h.value.propertyId,ee,r),s.value=!1,o.value=!1,h.value.value==""&&(h.value.value=void 0),Ft.getOrCreateInstance(f.value).hide(),q()}}function U(G,ee=0){return G.getAttribute("is-input")?!0:ee>0&&G.parentElement?U(G.parentElement,ee-1):!1}const $=async G=>{let ee=r.indexOf(G.id);ee>=0&&r.splice(ee,1),c.value&&c.value.focus()};function D(G){let ee=y.value?0:-1;G>0&&u.value<S.value.length+ee?u.value+=1:G<0&&u.value>0&&(u.value-=1)}function Y(){r.length=0,Array.isArray(h.value.value)&&r.push(...h.value.value)}function q(){tt(()=>{if(!_.value)return;const G=_.value.clientHeight;t("update:height",G)})}return Ve(()=>{Y(),n.inputId&&Zt(n.inputId,d.value),q()}),Zi(()=>{document.removeEventListener("click",T,!0)}),Le(()=>n.maxSize,q),Le(h,Y),Le(()=>n.inputId,()=>Zt(n.inputId,d.value),{deep:!0,immediate:!0}),(G,ee)=>(m(),w("div",TR,[v("div",{class:"dropdown m-0",onClick:ee[7]||(ee[7]=je(se=>V(!0),["prevent","stop"])),ref_key:"clickableElem",ref:d},[v("div",{class:"no-border p-0 text-secondary",type:"button",ref_key:"dropdownElem",ref:f,"data-ds-toggle":"dropdown"},[s.value?(m(),w("div",{key:1,style:ye({width:n.maxSize-2+"px",marginTop:"1px"})},[yt(v("input",{class:"m-0 me-1 ps-1 no-border bg-light small-input",ref_key:"inputElem",ref:c,"onUpdate:modelValue":ee[0]||(ee[0]=se=>i.value=se),onKeydown:[ee[1]||(ee[1]=st(je(se=>D(1),["prevent"]),["down"])),ee[2]||(ee[2]=st(je(se=>D(-1),["prevent"]),["up"])),st(L,["enter"]),ee[3]||(ee[3]=st(je(se=>V(!1),["prevent","stop"]),["escape"])),ee[5]||(ee[5]=st(je(se=>Gr(n.inputId),["prevent"]),["tab"]))],onKeydownCapture:ee[4]||(ee[4]=st(je(se=>Kr(n.inputId),["shift","stop","prevent"]),["tab"]))},null,40,kR),[[Qt,i.value]])],4)):(m(),w("div",{key:0,class:"overflow-hidden text-wrap",style:ye({width:n.maxSize+"px",minHeight:n.minHeight+"px"})},[s.value?F("",!0):(m(),w("div",{key:0,ref_key:"sizeElem",ref:_},[(m(!0),w(ie,null,Oe(p(C),se=>(m(),w("span",null,[H(wt,{tag:se.value,color:se.color,class:"me-1"},null,8,["tag","color"])]))),256)),p(C).length==0?(m(),w("span",IR,"None")):F("",!0)],512))],4))],512),v("div",{class:"dropdown-menu m-0 p-0",ref_key:"tagInputContainer",ref:a,"data-bs-display":"static"},[s.value?(m(),w("ul",OR,[p(C)?(m(),w("li",xR,[(m(!0),w(ie,null,Oe(p(C),se=>(m(),_e(wt,{onDelete:ue=>$(se),"show-delete":!0,tag:se.value,color:se.color,class:"me-1"},null,8,["onDelete","tag","color"]))),256))])):F("",!0),AR,(m(!0),w(ie,null,Oe(p(S),(se,ue)=>(m(),w("li",{onMouseover:Ee=>u.value=ue,onClick:je(L,["prevent","stop"]),class:Ie(A(ue)),style:{cursor:"pointer"}},[v("a",$R,[H(wt,{tag:se.value,color:se.color},null,8,["tag","color"])])],42,CR))),256)),p(y)?(m(),w("li",{key:1,onMouseover:ee[6]||(ee[6]=se=>u.value=p(S).length),onClick:je(L,["prevent","stop"]),class:Ie(A(p(S).length)+" rounded-bottom"),style:{cursor:"pointer"}},[LR,H(wt,{tag:i.value,color:-1},null,8,["tag"])],42,NR)):F("",!0)])):F("",!0)],512)],512)]))}}),Ev=$e(PR,[["__scopeId","data-v-1e31f83e"]]),DR=fe({__name:"TextPropInput",props:{property:Object,image:Object,noNl:{type:Boolean,default:!1},width:Number,minHeight:{type:Number,default:30},urlMode:Boolean},emits:{"update:height":Number},setup(e,{expose:t,emit:n}){const s=e,r=W(""),i=W(null),o=P(()=>lo(s.image.id,s.property.id));P(()=>{var c;return(c=i.value)==null?void 0:c.isFocus});function a(){i.value.focus()}function l(){r.value=o.value.value??""}function u(){!o.value.value&&r.value==""||o.value.value!=r.value&&O.setPropertyValue(s.property.id,s.image,r.value)}return Ve(l),t({localValue:r,focus:a}),(c,f)=>(m(),w("div",{class:"container",style:ye({minHeight:s.minHeight-4+"px"})},[H(ud,{class:"container",contenteditable:!0,tag:"div","no-html":!0,modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=d=>r.value=d),width:s.width,"onUpdate:height":f[1]||(f[1]=d=>n("update:height",d)),ref_key:"elem",ref:i,"min-height":s.minHeight,"no-nl":s.noNl,"url-mode":s.urlMode,onBlur:u,"only-number":e.property.type==p(z).number},null,8,["modelValue","width","min-height","no-nl","url-mode","only-number"])],4))}}),ks=$e(DR,[["__scopeId","data-v-9fa6ab57"]]),MR={key:2,class:"image-count"},RR={key:0},FR=fe({__name:"RowLine",props:{item:Object,properties:Array,showImage:Boolean,selected:Boolean},emits:{resizeHeight:Number,"toggle:image":Object},setup(e,{emit:t}){const n=e;Je([]);const s=W(!1),r=P(()=>O.getTab()),i=P(()=>n.item.type=="pile"?n.item.data.images[0]:n.item.data),o=P(()=>{if(n.item.type=="pile")return n.item.data}),a=P(()=>{let h=0;for(let E in u)u[E]>h&&(h=u[E]);return n.showImage?Math.max(h,r.value.data.imageSize)+4:h+4}),l=P(()=>{const h={};for(let E of n.properties){let S=0;for(let y in u)u[y]>S&&Number(E.id)!=Number(y)&&(S=u[y]);n.showImage?S=Math.max(S,r.value.data.imageSize):S=Math.max(S,30),h[E.id]=S}return h}),u=Je({});P(()=>{const h={};return n.properties.forEach(E=>h[E.id]==r.value.data.propertyOptions[E.id].size),h});const c=P(()=>{const h=["header-cell"];return n.item.index==0&&h.push("top-border"),h});let f=!1;function d(){f||(f=!0,tt(()=>{t("resizeHeight",a.value),f=!1}))}function _(){O.showModal(sn.IMAGE,i.value)}return Ve(d),Le(n,d),Le(a,d),(h,E)=>{var S;return m(),w("div",{class:"container",style:ye({height:n.item.size+"px"})},[v("div",{class:"left-border",style:ye({height:n.item.size+"px"})},null,4),e.showImage?(m(),w("div",{key:0,class:Ie([p(c),"p-0 m-0"]),style:ye({width:p(r).data.imageSize+"px",height:n.item.size+"px",position:"relative"}),onMouseenter:E[1]||(E[1]=y=>s.value=!0),onMouseleave:E[2]||(E[2]=y=>s.value=!1),onClick:_},[H(fR,{image:p(i),width:p(r).data.imageSize-1,height:p(r).data.imageSize-2,shadow:n.item.index==0&&n.item.groupId!="0"},null,8,["image","width","height","shadow"]),s.value||n.selected?(m(),w("div",{key:0,class:"h-100 box-shadow",style:ye([{width:p(r).data.imageSize+"px"},{position:"absolute",top:"0",left:"0",right:"0",bottom:"0px"}])},null,4)):F("",!0),s.value||n.selected?(m(),_e(dl,{key:1,"model-value":n.selected,"onUpdate:modelValue":E[0]||(E[0]=y=>t("toggle:image",{groupId:e.item.groupId,imageIndex:e.item.index})),class:"select","light-mode":!0},null,8,["model-value"])):F("",!0),((S=p(o))==null?void 0:S.images.length)>1?(m(),w("div",MR,Q(p(o).images.length),1)):F("",!0)],38)):F("",!0),(m(!0),w(ie,null,Oe(n.properties,(y,I)=>{var C,T,L,A;return m(),w("div",{class:Ie(p(c)),style:ye({width:p(r).data.propertyOptions[y.id].size+"px"})},[y.type==p(z).string?(m(),_e(ks,{key:0,"min-height":n.item.size,ref_for:!0,ref:"inputElems","onUpdate:height":N=>u[y.id]=N,image:p(i),property:y,width:p(r).data.propertyOptions[y.id].size-7-(n.properties.length-1==I?13:0)},null,8,["min-height","onUpdate:height","image","property","width"])):F("",!0),y.type==p(z).url?(m(),_e(ks,{key:1,"min-height":n.item.size,"no-nl":!0,ref_for:!0,ref:"inputElems","onUpdate:height":N=>u[y.id]=N,image:p(i),property:y,"url-mode":!0,width:p(r).data.propertyOptions[y.id].size-7-(n.properties.length-1==I?13:0)},null,8,["min-height","onUpdate:height","image","property","width"])):F("",!0),y.type==p(z).path?(m(),_e(ks,{key:2,"min-height":n.item.size,"no-nl":!0,ref_for:!0,ref:"inputElems","onUpdate:height":N=>u[y.id]=N,image:p(i),property:y,"url-mode":!1,width:p(r).data.propertyOptions[y.id].size-7-(n.properties.length-1==I?13:0)},null,8,["min-height","onUpdate:height","image","property","width"])):F("",!0),p(Ua)(y.type)?(m(),_e(Ev,{key:3,property:y,image:p(i),ref_for:!0,ref:"inputElems","min-height":p(l)[y.id],"input-id":[0,I],"onUpdate:height":N=>u[y.id]=N,"max-size":p(r).data.propertyOptions[y.id].size-5-(n.properties.length-1==I?13:0)},null,8,["property","image","min-height","input-id","onUpdate:height","max-size"])):F("",!0),y.type==p(z).checkbox?(m(),_e(yv,{key:4,"min-height":p(l)[y.id],ref_for:!0,ref:"inputElems","onUpdate:height":N=>u[y.id]=N,image:p(i),property:y,width:p(r).data.propertyOptions[y.id].size-7-(n.properties.length-1==I?13:0)},null,8,["min-height","onUpdate:height","image","property","width"])):F("",!0),y.type==p(z).color?(m(),_e(fd,{key:5,"min-height":p(l)[y.id],ref_for:!0,ref:"inputElems","onUpdate:height":N=>u[y.id]=N,image:p(i),property:y,width:p(r).data.propertyOptions[y.id].size-7-(n.properties.length-1==I?13:0)},null,8,["min-height","onUpdate:height","image","property","width"])):F("",!0),y.type==p(z).number?(m(),_e(ks,{key:6,"min-height":n.item.size,ref_for:!0,ref:"inputElems","onUpdate:height":N=>u[y.id]=N,image:p(i),property:y,width:p(r).data.propertyOptions[y.id].size-7-(n.properties.length-1==I?13:0)},null,8,["min-height","onUpdate:height","image","property","width"])):F("",!0),y.type==p(z).date?(m(),_e(bv,{key:7,"min-height":p(l)[y.id],ref_for:!0,ref:"inputElems","onUpdate:height":N=>u[y.id]=N,image:p(i),property:y,width:p(r).data.propertyOptions[y.id].size-7-(n.properties.length-1==I?13:0)},null,8,["min-height","onUpdate:height","image","property","width"])):F("",!0),y.type==p(z)._ahash?(m(),w("div",{key:8,style:ye({height:p(l)[y.id]+"px"}),class:"ps-1 overflow-hidden"},Q((C=p(i).properties[y.id])==null?void 0:C.value),5)):F("",!0),y.type==p(z)._folders?(m(),w("div",{key:9,style:ye({height:p(l)[y.id]+"px"}),class:"ps-1 overflow-hidden"},[((T=p(i).properties[y.id])==null?void 0:T.value)!=null?(m(),w("span",RR,[H(wt,{tag:p(O).folders[(L=p(i).properties[y.id])==null?void 0:L.value].name,color:-1},null,8,["tag"])])):F("",!0)],4)):F("",!0),y.type==p(z)._sha1?(m(),w("div",{key:10,style:ye({height:p(l)[y.id]+"px"}),class:"ps-1 overflow-hidden"},Q((A=p(i).properties[y.id])==null?void 0:A.value),5)):F("",!0)],6)}),256))],4)}}}),nh=$e(FR,[["__scopeId","data-v-7307d983"]]),VR={key:0},UR={key:1},HR={key:2},WR=fe({__name:"GridScrollerLine",props:{item:Object,width:Number,properties:Array,showImages:Boolean,selectedImages:Set,data:Object},emits:{resizeHeight:Number,"close:group":String,"open:group":String,"toggle:image":Object,"toggle:group":Object},setup(e,{emit:t}){const n=e,s=W(!0);function r(){s.value=!1,tt(()=>tt(()=>s.value=!0))}return Le(()=>n.item.id,r),(i,o)=>s.value?(m(),w(ie,{key:0},[e.item.type=="group"?(m(),w("div",VR,[H(lR,{"prop-values":e.item.data.propertyValues,item:e.item,width:n.width,data:n.data,"onClose:group":o[0]||(o[0]=a=>t("close:group",a)),"onOpen:group":o[1]||(o[1]=a=>t("open:group",a)),"onToggle:group":o[2]||(o[2]=a=>t("toggle:group",new p(Za)(n.data,e.item.data.order)))},null,8,["prop-values","item","width","data"])])):F("",!0),e.item.type=="image"?(m(),w("div",UR,[H(nh,{item:e.item,properties:n.properties,"show-image":n.showImages,onResizeHeight:o[3]||(o[3]=a=>t("resizeHeight",a)),selected:n.selectedImages.has(e.item.data.id),"onToggle:image":o[4]||(o[4]=a=>t("toggle:image",new p(qi)(n.data,n.data.index[a.groupId].order,a.imageIndex)))},null,8,["item","properties","show-image","selected"])])):F("",!0),e.item.type=="pile"?(m(),w("div",HR,[H(nh,{item:e.item,properties:n.properties,"show-image":n.showImages,onResizeHeight:o[5]||(o[5]=a=>t("resizeHeight",a)),selected:n.selectedImages.has(e.item.data.images[0].id),"onToggle:image":o[6]||(o[6]=a=>t("toggle:image",new p(qi)(n.data,n.data.index[a.groupId].order,a.imageIndex)))},null,8,["item","properties","show-image","selected"])])):F("",!0)],64)):F("",!0)}}),jR=$e(WR,[["__scopeId","data-v-2f9bbf37"]]);class mo{constructor(t,n){Dt(this,"data");Dt(this,"selectedImages");Dt(this,"lastSelectedImage");Dt(this,"lastSelectedGroup");this.data=t,this.selectedImages=n}clear(){this.unselectGroup(this.data.root),this.selectedImages.clear(),this.clearLastSelected()}selectImageIterator(t,n=!1){n&&this._shiftSelect(t),this.selectImages(t.getImages().map(s=>s.id)),this.clearLastSelected(),this.lastSelectedImage=t.clone()}unselectImageIterator(t){this.unselectImages(t.getImages().map(n=>n.id)),this.clearLastSelected()}toggleImageIterator(t,n=!1){t.getImages().every(r=>this.selectedImages.has(r.id))?this.unselectImageIterator(t):this.selectImageIterator(t,n)}_shiftSelect(t){if(this.lastSelectedImage==null)return!1;const n=this.lastSelectedImage.groupIndex,s=t.groupIndex,r=this.lastSelectedImage.imageIndex,i=t.imageIndex;let o=n<s||n==s&&r<i?this.lastSelectedImage:t,a=o==this.lastSelectedImage?t:this.lastSelectedImage,l=[],u=o.clone();for(;u.next()&&!(u.groupIndex>=a.groupIndex&&u.imageIndex>a.imageIndex);)l.push(...u.getImages().map(c=>c.id));return l.length?(this.selectImages(l),!0):!1}_shiftGroup(t){if(this.lastSelectedGroup==null)return!1;let n=this.lastSelectedGroup.groupIndex<t.groupIndex?this.lastSelectedGroup:t,s=n==t?this.lastSelectedGroup:t,r=[],i=n.clone();for(;i.next()&&!(i.groupIndex>=s.groupIndex);){const o=i.getGroup();o.images.length&&r.push(...o.images.map(a=>a.id))}return r.length?(this.selectImages(r),!0):!1}clearLastSelected(){this.lastSelectedImage=void 0,this.lastSelectedGroup=void 0}unselectImage(t){this.unselectImages([t])}selectImage(t){this.selectImages([t])}selectImages(t){t.forEach(s=>this.selectedImages.add(s));let n=new Set;t.forEach(s=>this.data.imageToGroups[s].forEach(r=>n.add(r))),n.forEach(s=>this.propagateSelect(this.data.index[s]))}unselectImages(t){t.forEach(s=>this.selectedImages.delete(s));let n=new Set;t.forEach(s=>this.data.imageToGroups[s].forEach(r=>n.add(r))),n.forEach(s=>this.propagateUnselect(this.data.index[s]))}propagateUnselect(t){t.allImageSelected=!1,t.parentId!==void 0&&this.propagateUnselect(this.data.index[t.parentId])}propagateSelect(t){t.images.length?t.allImageSelected=t.images.every(n=>this.selectedImages.has(n.id)):t.allImageSelected=t.groups.every(n=>n.allImageSelected),t.parentId!==void 0&&this.propagateSelect(this.data.index[t.parentId])}selectGroup(t){if(t.images.length>0){this.selectImages(t.images.map(n=>n.id));return}t.groups.forEach(n=>this.selectGroup(n))}unselectGroup(t){if(t.images.length>0){this.unselectImages(t.images.map(n=>n.id));return}t.groups&&t.groups.forEach(n=>this.unselectGroup(n))}selectGroupIterator(t,n=!1){n&&this._shiftGroup(t),this.selectGroup(t.getGroup()),this.clearLastSelected(),this.lastSelectedGroup=t.clone()}unselectGroupIterator(t){this.unselectGroup(t.getGroup()),this.clearLastSelected()}toggleGroupIterator(t,n=!1){t.getGroup().allImageSelected?this.unselectGroupIterator(t):this.selectGroupIterator(t,n)}}const YR=v("div",{class:"mt-1"},null,-1),pd=fe({__name:"GridScroller",props:{data:Object,height:Number,width:Number,selectedProperties:Array,showImages:Boolean,selector:mo},setup(e,{expose:t}){const n=e;t({computeLines:f});const s=W(60),r=Je([]),i={},o=W(null),a=Je({}),l=P(()=>{const N=O.getTab().data.propertyOptions;let V=n.selectedProperties.map(U=>N[U.id].size).reduce((U,$)=>U+$,0);return n.showImages&&(V+=O.getTab().data.imageSize),V+1}),u=P(()=>n.height-s.value),c=P(()=>({height:u.value+"px",width:l.value+"px"}));function f(){r.length=0;let N=-1;for(let V of n.data.order){const U=n.data.index[V];if(N!=-1&&N>=U.depth&&(N=-1),U.closed&&(console.log(U.depth),N=U.depth),!U.groups){if(Ar(U)){if(U.propertyValues.length>0&&r.push(d(U)),U.closed||N<U.depth&&N>-1)continue;const $=U.imagePiles.map((D,Y)=>h(D,U.id,Y));r.push(...$)}else if(Z_(U)){if(U.propertyValues.length>0&&r.push(d(U)),U.closed||N<U.depth&&N>-1)continue;const $=U.images.map((D,Y)=>_(D,U.id,Y));r.push(...$)}}}o.value.updateVisibleItems(!0)}function d(N){return{id:N.id,data:N,type:"group",size:35,nbClusters:10,groupId:N.id}}function _(N,V,U){return{id:V+"-img:"+String(N.id),data:N,type:"image",size:i[N.id]??O.getTab().data.imageSize+4,index:U,groupId:V}}function h(N,V,U){return{id:V+"-sha1:"+String(N.sha1),data:N,type:"pile",size:i[N.images[0].id]??O.getTab().data.imageSize+4,index:U,groupId:V}}function E(N,V){N.size!=V&&(N.size=V,N.type=="image"&&(i[N.data.id]=N.size))}let S=0,y=0;function I(){let N=o.value.getScroll().start,V=o.value.sizes,U=r.length,$=U-1;y>$&&(S=0,y=0);let D=0;if(N>S)for(let q=y;q<U&&(D=q,!(V[q].accumulator>N));q++);else for(let q=y;q>=0&&(D=q,!(V[q].accumulator-V[q].size<N));q--);S=N,y=D;let Y=r[D].groupId;a.id!=Y&&Object.assign(a,n.data.index[Y])}function C(N){const V=n.data.index[N];V.closed=!1,rg(n.data.index,V).forEach($=>$.close=!1),f()}function T(N){n.data.index[N].closed=!0,f()}function L(N){n.selector.toggleImageIterator(N,jt.shift)}function A(N){console.log(N),n.selector.toggleGroupIterator(N,jt.shift)}return Ve(f),Le(()=>n.data,f),(N,V)=>(m(),w("div",{class:"grid-container overflow-hidden",style:ye({width:p(c).width})},[YR,H(ZM,{properties:n.selectedProperties,"show-image":n.showImages,"current-group":a,data:n.data,class:"p-0 m-0"},null,8,["properties","show-image","current-group","data"]),H(vv,{items:r,"key-field":"id",ref_key:"scroller",ref:o,style:ye(p(c)),buffer:400,emitUpdate:!1,"page-mode":!1,prerender:0,class:"p-0 m-0",onScroll:I,onScrollStart:I},{default:Ce(({item:U,index:$,active:D})=>[D?(m(),_e(jR,{key:0,item:U,properties:n.selectedProperties,width:p(l),onResizeHeight:Y=>E(U,Y),"show-images":n.showImages,"selected-images":n.selector.selectedImages,data:n.data,"onOpen:group":C,"onClose:group":T,"onToggle:image":L,"onToggle:group":A},null,8,["item","properties","width","onResizeHeight","show-images","selected-images","data"])):F("",!0)]),_:1},8,["items","style"])],4))}}),Sv=e=>(mt("data-v-61cb9a68"),e=e(),_t(),e),zR={class:"pt-1 pb-1 pe-1 input-container","is-input":"true"},BR={class:"me-1"},GR={key:0},KR={key:0},qR={key:1},XR={class:"d-flex flex-row"},JR={class:"me-2"},QR={class:"w-100"},ZR=["onKeydown"],eF={key:0,class:"list-unstyled mb-0"},tF={key:0,class:"bg-light m-0 p-0 pb-1 pt-1 ps-1 rounded-top",style:{width:"300px"}},nF=Sv(()=>v("p",{class:"m-0 ms-2 me-2 text-muted text-nowrap",style:{"font-size":"14px"}},"Select a tag or create one ",-1)),sF=["onMouseover","onClick"],rF={class:"ms-2",href:"#"},iF=["onClick"],oF=Sv(()=>v("span",{class:"text-muted ms-1"},"Create ",-1)),aF=fe({__name:"TagInput",props:{property:{type:Object,required:!0},maxSize:String,monoTag:Boolean,inputId:Array},setup(e){const t=e,n=W(!1),s=Je([]),r=W(""),i=W(!1),o=W(null),a=W(null),l=W(0),u=W(null),c=W(null),f=W(null),d=P(()=>O.tags[t.property.propertyId]),_=P(()=>(t.property.value||(t.property.value=[]),Object.values(d.value).filter(D=>!t.property.value.includes(D.id)&&D.value.toLowerCase().includes(r.value.toLowerCase())))),h=P(()=>r.value.length>0&&!_.value.some($=>$.value==r.value)),E=P(()=>l.value==_.value.length&&h.value),S=P(()=>s.map($=>d.value[$])),y=$=>{n.value&&!(a.value&&a.value.contains($.target))&&!o.value.contains($.target)&&!u.value.contains($.target)&&(T(!1),A($.target,10)||$.stopPropagation())},I=async function(){let $;if(E.value)$=(await O.addTag(t.property.propertyId,r.value)).id;else if(l.value<_.value.length){let D=_.value[l.value];S.value.indexOf(D)===-1&&($=D.id)}$&&(r.value="",s.push($),u.value.focus())},C=$=>{let D=l.value==$?"bg-selected":"bg-white",Y=$==_.value.length-1&&!h.value?" rounded-bottom":"";return D+Y};function T($){if(console.log("set edit: "+$),$==n.value){console.log("set edit: double");return}if($)n.value=!0,document.addEventListener("click",y,!0),tt(()=>{if(console.log(u.value),!u.value)return;u.value.focus(),Ft.getOrCreateInstance(c.value).show()});else{document.removeEventListener("click",y,!0);let D=O.images[t.property.imageId];L()&&O.setPropertyValue(t.property.propertyId,D,s),n.value=!1,i.value=!1,t.property.value==""&&(t.property.value=void 0),u.value.focus(),Ft.getOrCreateInstance(c.value).hide()}}function L(){let $=t.property.value;if($.length!=s.length)return!0;let D=new Set(s);for(let Y of $)if(!D.has(Y))return!0;return!1}function A($,D=0){return $.getAttribute("is-input")?!0:D>0&&$.parentElement?A($.parentElement,D-1):!1}const N=async $=>{let D=s.indexOf($.id);D>=0&&s.splice(D,1),u.value&&u.value.focus()};function V($){let D=h.value?0:-1;$>0&&l.value<_.value.length+D?l.value+=1:$<0&&l.value>0&&(l.value-=1)}function U(){s.length=0,Array.isArray(t.property.value)&&s.push(...t.property.value)}return Ve(()=>{U(),t.inputId&&Zt(t.inputId,f.value)}),Le(()=>t.property,U),Le(()=>t.inputId,()=>Zt(t.inputId,f.value),{deep:!0,immediate:!0}),($,D)=>(m(),w("div",zR,[v("div",{class:"dropdown",onClick:D[7]||(D[7]=Y=>T(!0)),ref_key:"clickableElem",ref:f},[v("div",{class:"no-border p-0 text-secondary text-nowrap",type:"button",ref_key:"dropdownElem",ref:c,"data-bs-offset":"20,0","data-ds-toggle":"dropdown","data-bs-display":"static"},[n.value?(m(),w("div",qR,[v("div",XR,[v("span",JR,[H(Pt,{type:t.property.type},null,8,["type"])]),v("div",QR,[yt(v("input",{class:"m-0 me-1 ps-1 no-border bg-light small-input",ref_key:"inputElem",ref:u,"onUpdate:modelValue":D[0]||(D[0]=Y=>r.value=Y),onKeydown:[D[1]||(D[1]=st(je(Y=>V(1),["prevent"]),["down"])),D[2]||(D[2]=st(je(Y=>V(-1),["prevent"]),["up"])),st(I,["enter"]),D[3]||(D[3]=st(je(Y=>T(!1),["prevent","stop"]),["escape"])),D[5]||(D[5]=st(je(Y=>Gr(t.inputId),["prevent"]),["tab"]))],onKeydownCapture:D[4]||(D[4]=st(je(Y=>Kr(t.inputId),["shift","stop","prevent"]),["tab"]))},null,40,ZR),[[Qt,r.value]])])])])):(m(),w("div",{key:0,class:Ie(["overflow-hidden",n.value?"":"test-wraped"])},[v("span",BR,[H(Pt,{type:t.property.type},null,8,["type"])]),n.value?F("",!0):(m(),w("span",GR,[(m(!0),w(ie,null,Oe(p(S),Y=>(m(),w("span",null,[H(wt,{tag:Y.value,color:Y.color,class:"me-1"},null,8,["tag","color"])]))),256)),p(S).length==0?(m(),w("span",KR,"None")):F("",!0)]))],2))],512),v("div",{class:"dropdown-menu m-0 p-0 overflow-visible",ref_key:"tagInputContainer",ref:o,"data-bs-display":"static"},[n.value?(m(),w("ul",eF,[p(S)?(m(),w("li",tF,[(m(!0),w(ie,null,Oe(p(S),Y=>(m(),_e(wt,{onDelete:q=>N(Y),"show-delete":!0,tag:Y.value,color:Y.color,class:"me-1"},null,8,["onDelete","tag","color"]))),256))])):F("",!0),nF,(m(!0),w(ie,null,Oe(p(_),(Y,q)=>(m(),w("li",{onMouseover:G=>l.value=q,onClick:je(I,["prevent","stop"]),class:Ie(C(q)),style:{cursor:"pointer"}},[v("a",rF,[H(wt,{tag:Y.value,color:Y.color},null,8,["tag","color"])])],42,sF))),256)),p(h)?(m(),w("li",{key:1,onMouseover:D[6]||(D[6]=Y=>l.value=p(_).length),onClick:je(I,["prevent","stop"]),class:Ie(C(p(_).length)+" rounded-bottom"),style:{cursor:"pointer"}},[oF,H(wt,{tag:r.value,color:"grey"},null,8,["tag"])],42,iF)):F("",!0)])):F("",!0)],512)],512)]))}}),Ei=$e(aF,[["__scopeId","data-v-61cb9a68"]]),lF={key:0,class:"simi-ratio"},uF=["src"],cF={class:"image-count"},dF={key:1,class:"prop-container"},fF={key:0,class:"custom-hr ms-2 me-2"},pF={key:2,class:"d-flex flex-row"},hF={key:2,class:"w-100 h-100",style:{position:"absolute",top:"0",left:"0","background-color":"rgba(0, 0, 255, 0.127)"}},mF=fe({__name:"Image",props:{image:Object,pile:Object,similarity:Number,size:{type:Number,default:100},index:Number,groupId:String,hideProperties:Boolean,constraintWidth:Boolean,noBorder:Boolean,properties:Array,selected:Boolean,selectedPreview:Boolean},emits:["resize","update:selected"],setup(e,{emit:t}){const n=e,s=P(()=>n.image??n.pile.images[0]),r=W(null),i=W(!1);function o(_){return s.value.properties[_]&&s.value.properties[_].value!==void 0}const a=P(()=>{let _=[];return n.properties.forEach(h=>{let E={propertyId:h.id,type:h.type,value:o(h.id)?s.value.properties[h.id].value:void 0,imageId:s.value.id,mode:h.mode};_.push(E)}),_}),l=P(()=>{let _=s.value.width/s.value.height,h=n.size,E=h*_;return _>2&&(E=n.size*2,h=E/_),{width:E,height:h}}),u=P(()=>`width: ${Math.max(l.value.width,n.size)-2}px; height: ${n.size}px;`),c=P(()=>`width: ${l.value.width-2}px; height: ${l.value.height}px;`),f=P(()=>Math.max(Number(n.size),l.value.width)),d=P(()=>`width: ${Math.max(Number(n.size),l.value.width)}px;`);return(_,h)=>{var E,S;return m(),w("div",{class:Ie(["full-container",n.noBorder?"":"img-border"]),style:ye(p(d)),ref_key:"containerElem",ref:r},[v("div",{style:ye(p(u)),class:"img-container",onClick:h[1]||(h[1]=y=>p(O).showModal(p(sn).IMAGE,p(s))),onMouseenter:h[2]||(h[2]=y=>i.value=!0),onMouseleave:h[3]||(h[3]=y=>i.value=!1)},[(E=n.pile)!=null&&E.similarity?(m(),w("div",lF,Q(Math.floor(n.pile.similarity*100)),1)):F("",!0),v("img",{src:n.size<150?p(s).url:p(s).fullUrl,style:ye(p(c))},null,12,uF),i.value||n.selected?(m(),w("div",{key:1,class:"w-100 box-shadow",style:ye(p(u))},null,4)):F("",!0),i.value||n.selected?(m(),_e(dl,{key:2,"model-value":n.selected,"onUpdate:modelValue":h[0]||(h[0]=y=>t("update:selected",y)),class:"select","light-mode":!0},null,8,["model-value"])):F("",!0)],36),((S=n.pile)==null?void 0:S.images.length)>1?(m(),_e(Ye,{key:0,message:"main.view.instances_tooltip",click:!1},{default:Ce(()=>[v("div",cF,Q(n.pile.images.length),1)]),_:1})):F("",!0),p(a).length>0&&!n.hideProperties?(m(),w("div",dF,[(m(!0),w(ie,null,Oe(p(a),(y,I)=>(m(),w("div",null,[I>0?(m(),w("div",fF)):F("",!0),y.type==p(z).multi_tags||y.type==p(z).tag?(m(),_e(Ei,{key:1,property:y,"max-size":String(n.size),"mono-tag":y.type==p(z).tag,"input-id":[...n.groupId.split("-").map(Number),y.propertyId,n.index]},null,8,["property","max-size","mono-tag","input-id"])):y.type==p(z).color?(m(),w("div",pF,[H(Pt,{type:y.type,style:{"line-height":"25px","margin-right":"2px"}},null,8,["type"]),H(fd,{class:"mt-1 ms-0",rounded:!0,image:p(s),property:p(O).properties[y.propertyId],width:p(f)-22,"min-height":20},null,8,["image","property","width"])])):(m(),_e(Ji,{key:3,property:y,"max-size":String(n.size),"input-id":[...n.groupId.split("-").map(Number),y.propertyId,n.index]},null,8,["property","max-size","input-id"]))]))),256))])):F("",!0),n.selectedPreview?(m(),w("div",hF)):F("",!0)],6)}}}),Tv=$e(mF,[["__scopeId","data-v-41168553"]]),_F={class:"d-flex flex-row"},gF=["onClick","onMouseenter"],vF=fe({__name:"ImageLine",props:{imageSize:Number,inputIndex:Number,item:Object,parentIds:Array,hoverBorder:String,index:Object,properties:Array,selectedImages:Set},emits:["hover","unhover","scroll","update","update:selected-image"],setup(e,{emit:t}){const n=e;return(s,r)=>(m(),w("div",_F,[(m(!0),w(ie,null,Oe(n.parentIds,i=>(m(),w("div",{style:{cursor:"pointer"},class:"ps-2",onClick:o=>t("scroll",i),onMouseenter:o=>t("hover",i),onMouseleave:r[0]||(r[0]=o=>t("unhover"))},[v("div",{class:Ie(["image-line",n.hoverBorder==i?"active":""])},null,2)],40,gF))),256)),(m(!0),w(ie,null,Oe(n.item.data,(i,o)=>(m(),_e(Tv,{image:i,index:n.inputIndex+o,groupId:e.item.groupId,size:n.imageSize,properties:n.properties,selected:n.selectedImages.has(i.id),"onUpdate:selected":a=>t("update:selected-image",{id:i.id,value:a}),class:"me-2 mb-2"},null,8,["image","index","groupId","size","properties","selected","onUpdate:selected"]))),256))]))}}),yF=$e(vF,[["__scopeId","data-v-8147b9a1"]]),bF={class:"d-flex flex-row"},wF=["onClick","onMouseenter"],EF=fe({__name:"PileLine",props:{imageSize:Number,inputIndex:Number,item:Object,parentIds:Array,hoverBorder:String,index:Object,properties:Array,selectedImages:Set},emits:["hover","unhover","scroll","update","update:selected-image"],setup(e,{emit:t}){const n=e;return(s,r)=>(m(),w("div",bF,[(m(!0),w(ie,null,Oe(n.parentIds,i=>(m(),w("div",{style:{cursor:"pointer"},class:"ps-2",onClick:o=>t("scroll",i),onMouseenter:o=>t("hover",i),onMouseleave:r[0]||(r[0]=o=>t("unhover"))},[v("div",{class:Ie(["image-line",n.hoverBorder==i?"active":""])},null,2)],40,wF))),256)),(m(!0),w(ie,null,Oe(n.item.data,(i,o)=>(m(),_e(Tv,{pile:i,index:n.inputIndex+o,groupId:e.item.groupId,size:n.imageSize,properties:n.properties,selected:n.selectedImages.has(i.images[0].id),"onUpdate:selected":a=>t("update:selected-image",{id:i.images[0].id,value:a}),class:"me-2 mb-2"},null,8,["pile","index","groupId","size","properties","selected","onUpdate:selected"]))),256))]))}}),SF=$e(EF,[["__scopeId","data-v-e2dc9c9a"]]),Iv=e=>(mt("data-v-23fff866"),e=e(),_t(),e),TF={class:"pt-1 pb-1 pe-1","is-input":"true"},IF={class:"me-1"},kF={key:0,class:"w-100"},OF={key:0,class:"ms-1"},xF={key:1},AF={class:"d-flex flex-row"},CF={class:"me-2"},$F={class:"w-100"},NF=["onKeydown"],LF={key:0,class:"list-unstyled mb-0",style:{width:"300px"}},PF={key:0,class:"bg-light m-0 p-0 pb-1 pt-1 ps-1 rounded-top"},DF=Iv(()=>v("p",{class:"m-0 ms-2 me-2 text-muted text-nowrap",style:{"font-size":"14px"}},"Select a tag or create one ",-1)),MF=["onMouseover"],RF={class:"ms-2",href:"#"},FF=Iv(()=>v("span",{class:"text-muted ms-1"},"Create ",-1)),VF=fe({__name:"StandaloneTagInput",props:{property:{type:Object,required:!0},modelValue:Array,inputId:Array},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=W(!1),r=W(""),i=W(!1),o=W(null),a=W(null),l=W(0),u=W(null),c=W(null),f=W(null),d=P(()=>O.tags[n.property.id]),_=P(()=>{let V=n.modelValue?n.modelValue:[];return Object.values(d.value).filter($=>!V.includes($.id)&&$.value.toLowerCase().includes(r.value.toLowerCase()))}),h=P(()=>r.value.length>0&&!_.value.some(V=>V.value==r.value)),E=P(()=>l.value==_.value.length&&h.value),S=P(()=>n.modelValue?n.modelValue.map(V=>d.value[V]):[]),y=V=>{s.value&&!(a.value&&a.value.contains(V.target))&&!o.value.contains(V.target)&&!u.value.contains(V.target)&&(T(!1),L(V.target,10)||V.stopPropagation())},I=async function(){let V;if(E.value)V=(await O.addTag(n.property.id,r.value)).id;else if(l.value<_.value.length){let D=_.value[l.value];S.value.indexOf(D)===-1&&(V=D.id)}if(!V)return;r.value="";let U=n.modelValue?n.modelValue:[],$=n.property.type==z.tag?[V]:[...U,V];t("update:modelValue",$),u.value.focus()},C=V=>{let U=l.value==V?"bg-selected":"bg-white",$=V==_.value.length-1&&!h.value?" rounded-bottom":"";return U+$};function T(V){if(console.log("set edit: "+V),V==s.value){console.log("set edit: double");return}V?(s.value=!0,document.addEventListener("click",y,!0),tt(()=>{if(console.log(u.value),!u.value)return;u.value.focus(),Ft.getOrCreateInstance(c.value).show()})):(document.removeEventListener("click",y),s.value=!1,i.value=!1,Ft.getOrCreateInstance(c.value).hide())}function L(V,U=0){return V.getAttribute("is-input")?!0:U>0&&V.parentElement?L(V.parentElement,U-1):!1}const A=async V=>{let U=n.modelValue.filter($=>$!==V.id);t("update:modelValue",U),u.value.focus()};function N(V){let U=h.value?0:-1;V>0&&l.value<_.value.length+U?l.value+=1:V<0&&l.value>0&&(l.value-=1)}return Ve(()=>{n.inputId&&Zt(n.inputId,f.value)}),(V,U)=>(m(),w("div",TF,[v("div",{class:"dropdown",onClick:U[7]||(U[7]=$=>T(!0)),ref_key:"clickableElem",ref:f},[v("div",{class:"no-border p-0 text-secondary text-nowrap",type:"button",ref_key:"dropdownElem",ref:c,"data-ds-toggle":"dropdown","data-bs-display":"static"},[s.value?(m(),w("div",xF,[v("div",AF,[v("span",CF,[H(Pt,{type:n.property.type},null,8,["type"])]),v("div",$F,[yt(v("input",{class:"small w-100",ref_key:"inputElem",ref:u,"onUpdate:modelValue":U[0]||(U[0]=$=>r.value=$),onKeydown:[U[1]||(U[1]=st(je($=>N(1),["prevent"]),["down"])),U[2]||(U[2]=st(je($=>N(-1),["prevent"]),["up"])),st(I,["enter"]),U[3]||(U[3]=st(je($=>T(!1),["prevent","stop"]),["escape"])),U[5]||(U[5]=st(je($=>Gr(n.inputId),["prevent"]),["tab"]))],onKeydownCapture:U[4]||(U[4]=st(je($=>Kr(n.inputId),["shift","stop","prevent"]),["tab"]))},null,40,NF),[[Qt,r.value]])])])])):(m(),w("div",{key:0,class:Ie(["overflow-hidden d-flex flex-row",s.value?"":"test-wraped"])},[v("div",IF,[H(Pt,{type:n.property.type},null,8,["type"])]),s.value?F("",!0):(m(),w("div",kF,[(m(!0),w(ie,null,Oe(p(S),$=>(m(),w("span",null,[H(wt,{tag:$.value,color:$.color,class:"me-1"},null,8,["tag","color"])]))),256)),p(S).length==0?(m(),w("span",OF,"None")):F("",!0)]))],2))],512),v("div",{class:"dropdown-menu p-0 overflow-visible icon-margin",ref_key:"tagInputContainer",ref:o},[s.value?(m(),w("ul",LF,[p(S)?(m(),w("li",PF,[(m(!0),w(ie,null,Oe(p(S),$=>(m(),_e(wt,{onDelete:D=>A($),"show-delete":!0,tag:$.value,color:$.color,class:"me-1"},null,8,["onDelete","tag","color"]))),256))])):F("",!0),DF,(m(!0),w(ie,null,Oe(p(_),($,D)=>(m(),w("li",{onMouseover:Y=>l.value=D,onClick:I,class:Ie(C(D)),style:{cursor:"pointer"}},[v("a",RF,[H(wt,{tag:$.value,color:$.color},null,8,["tag","color"])])],42,MF))),256)),p(h)?(m(),w("li",{key:1,onMouseover:U[6]||(U[6]=$=>l.value=p(_).length),onClick:I,class:Ie(C(p(_).length)+" rounded-bottom"),style:{cursor:"pointer"}},[FF,H(wt,{tag:r.value,color:"grey"},null,8,["tag"])],34)):F("",!0)])):F("",!0)],512)],512)]))}}),UF=$e(VF,[["__scopeId","data-v-23fff866"]]),HF={class:"d-flex flex-row"},WF=["type"],jF=fe({__name:"StandalonePropertyInput",props:{type:String,modelValue:[String,Boolean],focus:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=W(null),r=W(null);function i(o){switch(o){case z.number:return"number";case z.date:return"date";case z.checkbox:return"checkbox";default:return"text"}}return Ve(()=>r.value=n.modelValue),Le(r,()=>{r.value!=null&&t("update:modelValue",r.value)}),(o,a)=>(m(),w("div",HF,[H(Pt,{type:n.type,class:"me-1"},null,8,["type"]),yt(v("input",{type:i(n.type),ref_key:"inputElem",ref:s,class:"m-0 p-0 ps-1 bg-light no-border",style:{width:"100%"},"onUpdate:modelValue":a[0]||(a[0]=l=>r.value=l),placeholder:"None.."},null,8,WF),[[sm,r.value]])]))}}),hd=e=>(mt("data-v-30dede33"),e=e(),_t(),e),YF={class:"dropdown-menu"},zF=["onClick"],BF={class:"color-name"},GF=hd(()=>v("div",{class:"hr m-1"},null,-1)),KF=hd(()=>v("div",{style:{backgroundColor:"#ffffff"},class:"color"},null,-1)),qF=hd(()=>v("div",{class:"color-name"}," None ",-1)),XF=[KF,qF],JF=fe({__name:"StandaloneColorPropInput",props:{modelValue:Number,width:Number,minHeight:{type:Number,default:30},rounded:Boolean},emits:{"update:height":Number,"update:modelValue":Number},setup(e,{expose:t,emit:n}){const s=e,r=W(null),i=P(()=>{if(s.modelValue==null)return"white";let f=Number(s.modelValue);return isNaN(f)||f>12?"gray":Hn[f].color}),o=W(!1);function a(){o.value||(o.value=!0,r.value.show())}function l(){o.value=!1,r.value.hide()}function u(f){n("update:modelValue",f)}function c(f){f&&(f.addEventListener("show.bs.dropdown",()=>o.value=!0),f.addEventListener("hide.bs.dropdown",()=>o.value=!1))}return t({focus:a}),(f,d)=>(m(),w("div",{style:ye({height:s.minHeight+"px"}),class:"container"},[v("div",{ref:_=>c(_),class:Ie(s.rounded?"rounded":""),style:ye({width:s.width+"px",backgroundColor:p(i),height:"calc(100% - 3px)"}),"data-bs-toggle":"dropdown","aria-expanded":"false"},[v("div",YF,[o.value?(m(),w("div",{key:0,onFocusout:l},[(m(!0),w(ie,null,Oe(p(Hn),(_,h)=>(m(),w("div",{class:"d-flex flex-row color-option",onClick:E=>u(h)},[v("div",{style:ye({backgroundColor:_.color}),class:"color"},null,4),v("div",BF,Q(_.name),1)],8,zF))),256)),GF,v("div",{class:"d-flex flex-row color-option",onClick:d[0]||(d[0]=_=>u(void 0))},XF)],32)):F("",!0)])],6)],4))}}),QF=$e(JF,[["__scopeId","data-v-30dede33"]]),ZF={class:"table"},e2=["onClick"],t2={class:"w-100"},n2=fe({__name:"StampForm",props:{values:Object},setup(e){const t=e,n=P(()=>O.propertyList.filter(r=>r.id>=0));function s(r){t.values[r]===void 0?t.values[r]=bc(O.properties[r].type):delete t.values[r]}return(r,i)=>(m(),w("table",ZF,[v("b",null,Q(r.$t("modals.tagging.title")),1),(m(!0),w(ie,null,Oe(p(n),o=>(m(),w("tr",null,[o.id>=0?(m(),w(ie,{key:0},[v("td",{onClick:a=>s(o.id),style:{cursor:"pointer"},class:Ie(t.values[o.id]==null?"text-dimmed":"")},Q(o.name),11,e2),v("td",t2,[o.type==p(z).multi_tags||o.type==p(z).tag?(m(),_e(UF,{key:0,modelValue:t.values[o.id],"onUpdate:modelValue":a=>t.values[o.id]=a,property:o},null,8,["modelValue","onUpdate:modelValue","property"])):o.type==p(z).color?(m(),_e(QF,{key:1,modelValue:t.values[o.id],"onUpdate:modelValue":a=>t.values[o.id]=a},null,8,["modelValue","onUpdate:modelValue"])):(m(),_e(jF,{key:2,type:o.type,modelValue:t.values[o.id],"onUpdate:modelValue":a=>t.values[o.id]=a},null,8,["type","modelValue","onUpdate:modelValue"]))])],64)):F("",!0)]))),256))]))}}),s2={key:0},r2={key:1},i2={class:"dropdown-menu"},o2={class:"m-2",style:{width:"300px"}},a2={class:"d-flex float-end pe-2"},kv=fe({__name:"StampDropdown",props:{images:Array,noBorder:Boolean,showNumber:Boolean},setup(e){const t=e,n=Je({}),s=W(null);function r(){Ft.getOrCreateInstance(s.value).hide(),i()}function i(){Object.keys(n).forEach(a=>delete n[a])}function o(){Object.keys(n).map(Number).forEach(a=>{let l=n[a],u=O.properties[a].type==z.multi_tags?"add":null;O.setPropertyValue(a,t.images,l,u)}),r()}return(a,l)=>(m(),w(ie,null,[v("div",{class:Ie(t.noBorder?"":"button"),"data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside",ref_key:"buttonElem",ref:s},[t.showNumber?(m(),w("span",s2,Q(a.$t("main.menu.tag_selection")+" "+t.images.length+" "+a.$t("main.menu.selected_images")),1)):(m(),w("span",r2,Q(a.$t("modals.tagging.button")),1))],2),v("div",i2,[v("div",o2,[H(n2,{values:p(n)},null,8,["values"])]),v("div",a2,[v("button",{class:"me-2",onClick:r},Q(a.$t("modals.tagging.cancel")),1),v("button",{class:"me-2",onClick:i},Q(a.$t("modals.tagging.clear")),1),v("button",{class:"me",onClick:o},Q(a.$t("modals.tagging.apply")),1)])])],64))}}),l2=["onClick","onMouseenter"],u2={key:0,class:"bi bi-caret-right-fill",style:{"margin-left":"1px"}},c2={key:1,class:"bi bi-caret-down-fill",style:{"margin-left":"1px"}},d2={class:"me-1"},f2={key:1,class:"align-self-center me-2"},p2={class:"align-self-center me-2 text-secondary",style:{"font-size":"11px"}},h2={key:2,class:"align-self-center me-2 text-secondary",style:{"font-size":"11px"}},m2={key:3,class:"d-flex flex-row align-self-center me-2"},_2={key:0,class:"ms-2"},g2={key:1,class:"ms-2"},v2={key:2,style:{"margin-left":"2px"}},y2={key:3,class:"ms-2"},b2={key:4,class:"ms-2"},w2=fe({__name:"GroupLine",props:{item:Object,parentIds:Array,hoverBorder:String,data:Object,hideOptions:Boolean},emits:["hover","unhover","scroll","group:close","group:open","group:update","recommend","select"],setup(e,{emit:t}){const n=e,s=W(!1),r=P(()=>n.item.data),i=P(()=>n.item.data.images),o=P(()=>n.item.data.imagePiles),a=P(()=>n.item.data.groups),l=P(()=>i.value.length>0),u=P(()=>Array.isArray(o.value)),c=P(()=>a.value!=null),f=P(()=>O.properties[n.item.data.propertyId]),d=P(()=>{var A;return(A=r.value)==null?void 0:A.closed}),_=P(()=>r.value.groups.some(A=>A.closed!=!0)),h=P(()=>{let A=r.value.name;if(r.value.propertyId==null)return r.value.name;if(r.value.name=="undefined")A="undefined";else{let N=O.properties[r.value.propertyId].type;N==z.tag||N==z.multi_tags?A=O.tags[r.value.propertyId][Number(r.value.name)].value:N==z._folders&&(A=O.folders[Number(r.value.name)].name)}return A}),E=P(()=>n.item.data.propertyValues.some(A=>A.value!=Cs)),S=P(()=>r.value.allImageSelected);async function y(){let A=[];u.value?A=r.value.imagePiles.map($=>$.sha1):l.value&&(A=[...new Set(r.value.images.map($=>$.sha1))]);let N=await O.computeMLGroups(A,n.item.nbClusters),V=N.distances;N=N.clusters;let U=[];for(let[$,D]of N.entries()){let Y=[],q=D.map(ee=>({sha1:ee,images:O.sha1Index[ee]}));q.forEach(ee=>Y.push(...ee.images));let G={id:n.item.id+"-cluster"+String($),name:"cluster "+$.toString()+(V.length>0?" "+V[$].toString():""),images:Y,imagePiles:q,count:D.length,groups:void 0,children:void 0,parentId:n.item.data.id,propertyValues:n.item.data.propertyValues,index:$,depth:n.item.data.depth+1,closed:!1,isCluster:!0};U.push(G),n.data.index[G.id]=G,Y.forEach(ee=>n.data.imageToGroups[ee.id].push(G.id))}n.item.data.groups=U,n.item.data.children=U.map($=>$.id),t("group:update")}function I(){delete n.item.data.groups,delete n.item.data.allSimilarSha1s,delete n.item.data.similarSha1sBlacklist,t("group:update")}async function C(){let A=[];u.value?A=r.value.imagePiles.map($=>$.sha1):l.value&&(A=[...new Set(r.value.images.map($=>$.sha1))]);let V=(await O.getSimilarImages(A)).map($=>$.sha1);const U=n.item.data.propertyValues.map(p);t("recommend",V,U,n.item.data.id)}function T(){d.value?(n.item.data.closed=!1,t("group:open",n.item.id)):(n.item.data.closed=!0,t("group:close",n.item.id))}function L(){n.item.data.groups.forEach(A=>A.closed=!0),t("group:close",n.item.data.groups.map(A=>A.id))}return(A,N)=>(m(),w("div",{class:"d-flex flex-row group-line m-0 p-0 overflow-hidden",onMouseenter:N[3]||(N[3]=V=>s.value=!0),onMouseleave:N[4]||(N[4]=V=>s.value=!1)},[(m(!0),w(ie,null,Oe(n.parentIds,V=>(m(),w("div",{style:{cursor:"pointer"},class:"ps-2",onClick:U=>A.$emit("scroll",V),onMouseenter:U=>A.$emit("hover",V),onMouseleave:N[0]||(N[0]=U=>A.$emit("unhover"))},[v("div",{class:Ie(["group-line-border",n.hoverBorder==V?"active":""])},null,2)],40,l2))),256)),v("div",{onClick:T,class:"align-self-center me-2",style:{cursor:"pointer"}},[p(d)?(m(),w("i",u2)):(m(),w("i",c2))]),v("div",d2,[H(dl,{small:!0,"model-value":p(S),"onUpdate:modelValue":N[1]||(N[1]=V=>t("select",p(r).id))},null,8,["model-value"])]),p(f)!=null?(m(),w("div",{key:0,style:ye("font-size: "+Math.max(17-1*n.item.depth,10)+"px;"),class:"align-self-center me-2"},[H(ul,{value:n.item.data.propertyValues[n.item.data.propertyValues.length-1]},null,8,["value"])],4)):(m(),w("div",f2,[v("b",null,Q(p(h)),1)])),v("div",p2,Q(p(r).count)+" Images",1),p(r).groups?(m(),w("div",h2,Q(p(r).groups.length)+" "+Q(A.$t("main.view.groupes_nb")),1)):F("",!0),!p(d)&&!n.hideOptions?(m(),w("div",m2,[(p(l)||p(u))&&!p(c)?(m(),w("div",_2,[H(kv,{images:p(i)},null,8,["images"])])):F("",!0),p(c)?F("",!0):(m(),w("div",g2,[H(Ye,{message:"main.view.group_clusters_tooltip"},{default:Ce(()=>[v("div",{class:"button",onClick:y},Q(A.$t("main.view.group_clusters")),1)]),_:1})])),(p(l)||p(u))&&!p(c)?(m(),w("div",v2,[yt(v("input",{class:"no-spin",type:"number","onUpdate:modelValue":N[2]||(N[2]=V=>n.item.nbClusters=V),style:{width:"30px"}},null,512),[[Qt,n.item.nbClusters]])])):F("",!0),(p(l)||p(u))&&!p(c)&&!p(r).isCluster&&p(E)?(m(),w("div",y2,[H(Ye,{message:"main.recommand.tooltip"},{default:Ce(()=>[v("div",{class:"button",onClick:C},Q(A.$t("main.recommand.title")),1)]),_:1})])):F("",!0),(p(l)||p(u))&&p(c)?(m(),w("div",b2,[v("div",{class:"button",onClick:I},Q(A.$t("main.view.remove_clusters")),1)])):F("",!0)])):F("",!0),p(c)&&s.value&&p(_)?(m(),w("div",{key:4,class:"ms-1 text-secondary align-self-center close-children",onClick:L},Q(A.$t("main.view.collapse")),1)):F("",!0)],32))}}),E2=$e(w2,[["__scopeId","data-v-687854d4"]]),S2={key:0},T2={key:1},I2={key:2},k2={key:3},O2=fe({__name:"TreeScroller",props:{imageSize:Number,height:Number,width:Number,data:Object,properties:Array,hideOptions:Boolean,hideGroup:Boolean,selector:mo},emits:["recommend"],setup(e,{expose:t,emit:n}){const s=e,r=Je([]),i=W(""),o=W(null),a=20;Je({});const l=P(()=>s.properties.length),u=P(()=>Math.ceil(s.width/s.imageSize)),c=P(()=>{let $=l.value,D=0;return $>0&&(D+=31),$>1&&(D+=($-1)*27),s.imageSize+D+10}),f=P(()=>{let $=l.value,D=0;return $>0&&(D+=31),$>1&&(D+=($-1)*27),s.imageSize+D+10}),d=P(()=>s.imageSize+40);t({scrollTo:y,computeLines:h});let _=!1;function h(){if(s.data.root==null||_)return;_=!0,console.time("compute lines");let $=s.data.root,D=s.data.index;const Y=(G,ee,se,ue)=>{if(ee.push({id:G.id,type:"group",data:G,depth:G.depth,size:s.hideGroup?0:30,nbClusters:10}),G.index=ee.length-1,!G.closed&&Array.isArray(G.groups)&&G.groups.length>0){G.groups.forEach(Ee=>{Y(Ee,ee,se,ue)});return}!G.closed&&Ar(G)?S(G.imagePiles,ee,ue,se-G.depth*a,G):!G.closed&&Z_(G)&&E(G.images,ee,ue,se-G.depth*a,G)};let q=[];return Y(D[$.id],q,s.width,s.imageSize),q.push({type:"filler",size:400,id:"__filler__"}),r.length=0,r.push(...q),o.value.updateVisibleItems(!0),console.timeEnd("compute lines"),tt(()=>_=!1),q}function E($,D,Y,q,G,ee=!1){let se=q,ue=[],Ee=0,he=be=>{D.push({id:G.id+"|img-"+D.length,type:"images",data:be,groupId:G.id,depth:G.depth+1,size:ee?d.value:c.value,isSimilarities:ee})};for(let be=0;be<$.length;be++){let ve=$[be],xe=Y*ve.containerRatio+10;if(Ee+xe<se){ue.push(ve),Ee+=xe;continue}if(ue.length==0)throw"Images seems to be to big for the line";he(ue),ue=[ve],Ee=xe}ue.length>0&&he(ue)}function S($,D,Y,q,G,ee=!1){let se=q,ue=[],Ee=0,he=be=>{D.push({id:G.id+"|img-"+D.length,type:"piles",data:be,groupId:G.id,depth:G.depth+1,size:f.value,isSimilarities:ee})};for(let be=0;be<$.length;be++){let ve=$[be],xe=ve.images[0],ze=Y*xe.containerRatio+10;if(Ee+ze<se){ue.push(ve),Ee+=ze;continue}if(ue.length==0)throw"Images seems to be to big for the line";he(ue),ue=[ve],Ee=ze}ue.length>0&&he(ue)}function y($){let Y=s.data.index[$].index;o.value.scrollToItem(Y),tt(()=>o.value.updateVisibleItems(!0))}function I($){i.value=$}function C($){return $&&$.id!=null&&$.parentId!=null?[...C(s.data.index[$.parentId]),$.parentId]:[]}function T($){return[...C(s.data.index[$.groupId]),$.groupId]}function L($){h()}function A($){r.findIndex(Y=>Y.id==$)<0||h()}function N($,D){const Y=new qi(s.data);Y.goToImage(D.groupId,$.id),s.selector.toggleImageIterator(Y,jt.shift)}function V($){const D=new Za(s.data,s.data.index[$].order);s.selector.toggleGroupIterator(D,jt.shift)}Ve(h),Ve(()=>{console.log(s.height,s.width)}),Le(()=>s.imageSize,()=>{console.log("image size compute"),tt(h)}),Le(l,()=>{let $=o.value.getScroll().start,D=o.value.totalSize,Y=$/D;r.forEach(q=>{q.type=="images"?q.size=c.value:q.type=="piles"&&(q.size=f.value)}),tt(()=>{let q=o.value.totalSize*Y;o.value.scrollToPosition(q),o.value.updateVisibleItems(!0),tt(()=>{o.value.scrollToPosition(q-10),tt(()=>o.value.updateVisibleItems(!0))}),tt(()=>o.value.updateVisibleItems(!0))})});let U;return Le(()=>s.width,()=>{clearTimeout(U),setTimeout(h,500)}),($,D)=>(m(),_e(vv,{items:p(r),"key-field":"id",ref_key:"scroller",ref:o,style:ye("height: "+s.height+"px;"),buffer:800,"min-item-size":s.imageSize,emitUpdate:!1,onUpdate:D[6]||(D[6]=()=>{}),"page-mode":!1,prerender:0},{default:Ce(({item:Y,index:q,active:G})=>[G?(m(),w(ie,{key:0},[Y.type=="group"&&!s.hideGroup?(m(),w("div",S2,[H(E2,{item:Y,"hover-border":i.value,"parent-ids":C(Y.data),"hide-options":s.hideOptions,data:s.data,onScroll:y,onHover:I,onUnhover:D[0]||(D[0]=ee=>i.value=""),"onGroup:close":L,"onGroup:open":A,onSelect:V,"onGroup:update":h,onRecommend:D[1]||(D[1]=(ee,se,ue)=>n("recommend",ee,se,ue))},null,8,["item","hover-border","parent-ids","hide-options","data"])])):Y.type=="images"?(m(),w("div",T2,[H(yF,{"image-size":s.imageSize+1,"input-index":q*p(u),item:Y,index:s.data.index,"hover-border":i.value,"parent-ids":T(Y),properties:s.properties,"selected-images":s.selector.selectedImages,"onUpdate:selectedImage":ee=>N(ee,Y),onScroll:y,onHover:I,onUnhover:D[2]||(D[2]=ee=>i.value=""),onUpdate:D[3]||(D[3]=ee=>h())},null,8,["image-size","input-index","item","index","hover-border","parent-ids","properties","selected-images","onUpdate:selectedImage"])])):Y.type=="piles"?(m(),w("div",I2,[H(SF,{"image-size":s.imageSize+1,"input-index":q*p(u),item:Y,index:s.data.index,"hover-border":i.value,"parent-ids":T(Y),properties:s.properties,"selected-images":s.selector.selectedImages,"onUpdate:selectedImage":ee=>N(ee,Y),onScroll:y,onHover:I,onUnhover:D[4]||(D[4]=ee=>i.value=""),onUpdate:D[5]||(D[5]=ee=>h())},null,8,["image-size","input-index","item","index","hover-border","parent-ids","properties","selected-images","onUpdate:selectedImage"])])):Y.type=="filler"?(m(),w("div",k2,[v("div",{style:ye({height:Y.size+"px"}),class:""},null,4)])):F("",!0)],64)):F("",!0)]),_:1},8,["items","style","min-item-size"]))}}),Ov=$e(O2,[["__scopeId","data-v-8d854e9a"]]),sh=fe({__name:"PropInput",props:{property:Object,image:Object,minHeight:Number,width:Number},emits:["update:height"],setup(e,{emit:t}){const n=e;return(s,r)=>(m(),w(ie,null,[e.property.type==p(z).string?(m(),_e(ks,{key:0,"min-height":e.minHeight,ref:"inputElems","onUpdate:height":r[0]||(r[0]=i=>t("update:height",i)),image:n.image,property:e.property,width:n.width},null,8,["min-height","image","property","width"])):F("",!0),e.property.type==p(z).url?(m(),_e(ks,{key:1,"min-height":e.minHeight,ref:"inputElems","onUpdate:height":r[1]||(r[1]=i=>t("update:height",i)),image:n.image,property:e.property,width:n.width},null,8,["min-height","image","property","width"])):F("",!0),e.property.type==p(z).path?(m(),_e(ks,{key:2,"min-height":e.minHeight,ref:"inputElems","onUpdate:height":r[2]||(r[2]=i=>t("update:height",i)),image:n.image,property:e.property,width:n.width},null,8,["min-height","image","property","width"])):F("",!0),p(Ua)(e.property.type)?(m(),_e(Ev,{key:3,property:e.property,image:n.image,ref:"inputElems","onUpdate:height":r[3]||(r[3]=i=>t("update:height",i)),width:n.width,"input-id":[0]},null,8,["property","image","width"])):F("",!0),e.property.type==p(z).checkbox?(m(),_e(yv,{key:4,"min-height":e.minHeight,ref:"inputElems","onUpdate:height":r[4]||(r[4]=i=>t("update:height",i)),image:n.image,property:e.property,width:n.width},null,8,["min-height","image","property","width"])):F("",!0),e.property.type==p(z).color?(m(),_e(fd,{key:5,"min-height":e.minHeight,ref:"inputElems","onUpdate:height":r[5]||(r[5]=i=>t("update:height",i)),image:n.image,property:e.property,width:n.width},null,8,["min-height","image","property","width"])):F("",!0),e.property.type==p(z).number?(m(),_e(ks,{key:6,"min-height":e.minHeight,ref:"inputElems","onUpdate:height":r[6]||(r[6]=i=>t("update:height",i)),image:n.image,property:e.property,width:n.width},null,8,["min-height","image","property","width"])):F("",!0),e.property.type==p(z).date?(m(),_e(bv,{key:7,"min-height":e.minHeight,ref:"inputElems","onUpdate:height":r[7]||(r[7]=i=>t("update:height",i)),image:n.image,property:e.property,width:n.width},null,8,["min-height","image","property","width"])):F("",!0)],64))}}),x2=e=>(mt("data-v-3be64b09"),e=e(),_t(),e),A2={class:"d-flex border rounded p-0 m-0"},C2=x2(()=>v("i",{class:"bi bi-x"},null,-1)),$2=[C2],N2={class:"selection-counter"},L2=fe({__name:"SelectionStamp",props:{selectedImagesIds:Array},emits:["remove:selected"],setup(e,{emit:t}){const n=e,s=P(()=>n.selectedImagesIds.map(r=>O.images[r]));return(r,i)=>(m(),w("div",A2,[H(Ye,{message:"main.menu.remove_selection_tooltip"},{default:Ce(()=>[v("div",{class:"btn-cls",onClick:i[0]||(i[0]=o=>t("remove:selected"))},$2)]),_:1}),v("div",N2,[H(kv,{images:p(s),"no-border":!0,"show-number":!0},null,8,["images"])])]))}}),xv=$e(L2,[["__scopeId","data-v-3be64b09"]]),Ys=e=>(mt("data-v-14f10a90"),e=e(),_t(),e),P2={class:"modal-dialog modal-xl",role:"document"},D2={key:0,class:"modal-content"},M2={class:"modal-header",style:{height:"40px"}},R2={class:"modal-title"},F2=Ys(()=>v("span",{"aria-hidden":"true"},"×",-1)),V2=[F2],U2={class:"modal-body pt-1 pb-1",style:{"max-height":"calc(100vh - 100px)"}},H2={class:"d-flex justify-content-center mb-1"},W2={class:"d-flex border rounded overflow-hidden"},j2=Ys(()=>v("div",{class:"border-start"},null,-1)),Y2={key:0,class:"row"},z2={class:"col overflow-hidden",style:{width:"600px"}},B2={class:"mb-2 image-container"},G2=["src"],K2={class:"table table-bordered table-sm",style:{width:"500px"}},q2=Ys(()=>v("b",null,"Proprietés",-1)),X2={class:""},J2={class:"text-nowrap"},Q2={class:"ps-1"},Z2=["onClick"],eV=["onClick"],tV=Ys(()=>v("i",{class:"bi bi-paint-bucket"},null,-1)),nV=[tV],sV={class:"table"},rV=Ys(()=>v("b",null,"Computed",-1)),iV={class:""},oV={class:"w-100"},aV={key:0,class:"col"},lV={class:"d-flex mb-1"},uV=Ys(()=>v("div",{style:{"margin-left":"6px"},class:"me-3"},"Images Similaires",-1)),cV={key:0,class:"ms-2 text-secondary"},dV={key:0,class:"selection-stamp"},fV={key:1,class:"row"},pV={class:"col"},hV={class:"text-center mb-2 image-container"},mV=["src"],_V={class:"col",style:{height:"400px",overflow:"scroll"}},gV={class:"mt-2"},vV={class:"table table-bordered table-sm"},yV=Ys(()=>v("b",null,"Proprietés",-1)),bV={class:""},wV={class:"text-nowrap"},EV={class:"table"},SV=Ys(()=>v("b",null,"Computed",-1)),TV={class:""},IV={class:"w-100"},kV={class:"m-0 p-0",style:{width:"1140px","overflow-x":"scroll","overflow-y":"hidden"}},OV=fe({__name:"ImageModal",props:{id:{type:String,required:!0}},setup(e){const t=e,n=W(null);let s=null;const r=P(()=>O.openModal.data),i=P(()=>O.openModal.id==t.id),o=W([]),a=W(100),l=W(100),u=W(null),c=W(80),f=P(()=>N.root!=null),d=Je({}),_=P(()=>Object.keys(d).map(Number).map(he=>O.properties[he])),h=Je(new Set);function E(he,be){return he.properties[be]&&he.properties[be].value!==void 0}function S(he){const be=O.sha1Index[he][0];return O.propertyList.filter(xe=>xe.mode==dn.sha1).map(xe=>({propertyId:xe.id,type:xe.type,value:E(be,xe.id)?be.properties[xe.id].value:void 0,imageId:be.id,mode:xe.mode}))}const y=P(()=>({sha1:r.value.sha1,images:O.sha1Index[r.value.sha1]})),I=P(()=>S(y.value.sha1)),C=P(()=>I.value.filter(he=>he.mode=="sha1")),T=P(()=>Array.from(h)),L=P(()=>V.selectedImages.size>0),A=W("similarity"),N=Je({root:void 0,index:{},order:[]}),V=new mo(N,h),U=P(()=>{let he={id:"0",name:"__all__",images:y.value.images,groups:void 0,depth:0,propertyValues:[],parentId:void 0,count:y.value.images.length},be={};return be[he.id]=he,{root:he,index:be,order:[he.id]}});function $(he){return r.value.properties[he]&&r.value.properties[he].value!==void 0}const D=P(()=>{let he=[];return O.propertyList.forEach(be=>{let ve={propertyId:be.id,type:be.type,value:$(be.id)?r.value.properties[be.id].value:void 0,imageId:r.value.id,mode:be.mode};he.push(ve)}),he});function Y(){O.openModal.id==t.id&&O.hideModal()}function q(){N.root&&V.clear(),s.hide(),N.root=void 0,N.index={},N.order=[],o.value=[]}function G(){s.show(),a.value=n.value.clientHeight,l.value=n.value.clientWidth,N.root&&V.clear(),se()}function ee(he){d[String(he)]?delete d[String(he)]:d[String(he)]=!0}Le(()=>O.openModal.id,he=>{console.log("change"),he==t.id?G():q()}),Le(r,()=>{O.openModal.id==t.id&&G()}),Le(A,()=>{A.value=="similarity"&&o.value.length==0&&se()}),Ve(()=>{s=On.getOrCreateInstance(n.value),n.value.addEventListener("hide.bs.modal",Y)});async function se(){if(A.value!="similarity")return;const he=await O.getSimilarImages(r.value.sha1);o.value=he,ue()}function ue(){var he=o.value.filter(ze=>ze.dist>=c.value/100);const be=[],ve={};he.forEach(ze=>be.push(...O.sha1Index[ze.sha1])),he.forEach(ze=>ve[ze.sha1]=ze.dist);const xe=tg(be,[],!0);xe.root.imagePiles&&xe.root.imagePiles.forEach(ze=>ze.similarity=ve[ze.sha1]),Object.assign(N,xe),u.value&&(u.value.computeLines(),u.value.scrollTo("0"))}function Ee(he){let be=N.root.images;V.selectedImages.size&&(be=Array.from(V.selectedImages).map(ve=>O.images[ve])),O.setPropertyValue(he.propertyId,be,he.value)}return Le(c,ue),(he,be)=>(m(),w("div",{class:"modal",tabindex:"-1",role:"dialog",ref_key:"modalElem",ref:n,"aria-hidden":"true"},[v("div",P2,[p(i)?(m(),w("div",D2,[v("div",M2,[v("h5",R2,"Image: "+Q(p(r).name),1),v("button",{type:"button",class:"btn close",onClick:q},V2)]),v("div",U2,[v("div",H2,[v("div",W2,[H(Ye,{message:"modals.image.similar_images_tooltip"},{default:Ce(()=>[v("div",{class:Ie(["ps-2 pe-2 btn-icon",A.value=="similarity"?"selected":""]),onClick:be[0]||(be[0]=ve=>A.value="similarity")},Q(he.$t("modals.image.similar_images")),3)]),_:1}),j2,H(Ye,{message:"modals.image.unique_properties_tooltip"},{default:Ce(()=>[v("div",{class:Ie(["ps-2 pe-2 btn-icon",A.value=="unique"?"selected":""]),onClick:be[1]||(be[1]=ve=>A.value="unique")},Q(he.$t("modals.image.unique_properties")),3)]),_:1})])]),A.value=="similarity"?(m(),w("div",Y2,[v("div",z2,[v("div",B2,[v("img",{src:p(r).fullUrl,class:""},null,8,G2)]),v("div",{class:"mt-2",style:ye({height:a.value-560+"px",overflow:"scroll",width:"550px"})},[v("table",K2,[q2,v("tbody",null,[(m(!0),w(ie,null,Oe(p(C),(ve,xe)=>(m(),w("tr",X2,[ve.propertyId>=0?(m(),w(ie,{key:0},[v("td",J2,[H(Pt,{type:ve.type},null,8,["type"]),Nt(" "+Q(p(O).properties[ve.propertyId].name),1)]),v("td",Q2,[H(sh,{property:p(O).properties[ve.propertyId],image:p(r),width:-1,"min-height":20},null,8,["property","image"])]),H(Ye,{message:"modals.image.toggle_property_tooltip"},{default:Ce(()=>[v("td",{class:"text-center btn-icon",onClick:ze=>ee(ve.propertyId)},[v("i",{class:Ie(["bi bi-eye",d[ve.propertyId]?"text-primary":""])},null,2)],8,Z2)]),_:2},1024),H(Ye,{message:"modals.image.fill_property_tooltip"},{default:Ce(()=>[v("td",{class:"text-center btn-icon",style:{padding:"4px 2px 0px 5px"},onClick:ze=>Ee(ve)},nV,8,eV)]),_:2},1024)],64)):F("",!0)]))),256))])]),v("table",sV,[rV,(m(!0),w(ie,null,Oe(p(D),(ve,xe)=>(m(),w("tr",iV,[ve.propertyId<0?(m(),w(ie,{key:0},[v("td",null,Q(p(O).properties[ve.propertyId].name),1),v("td",oV,[H(Ji,{property:ve,"input-id":[100,xe]},null,8,["property","input-id"])])],64)):F("",!0)]))),256))])],4)]),p(f)?(m(),w("div",aV,[v("div",lV,[uV,H(Ye,{message:"modals.image.similarity_filter_tooltip"},{default:Ce(()=>[H(pv,{class:"me-2",min:0,max:100,modelValue:c.value,"onUpdate:modelValue":be[2]||(be[2]=ve=>c.value=ve)},null,8,["modelValue"])]),_:1}),v("div",null,"min: "+Q(c.value)+"%",1),p(N).root.imagePiles?(m(),w("div",cV,"("+Q(p(N).root.imagePiles.length)+" images)",1)):F("",!0)]),p(L)?(m(),w("div",dV,[H(xv,{"selected-images-ids":p(T),"onRemove:selected":be[3]||(be[3]=ve=>p(V).clear())},null,8,["selected-images-ids"])])):F("",!0),H(Ov,{"image-size":70,height:a.value-180,width:510,data:p(N),properties:p(_),ref_key:"scroller",ref:u,selector:p(V),"hide-options":!0,"hide-group":!0},null,8,["height","data","properties","selector"])])):F("",!0)])):(m(),w("div",fV,[v("div",pV,[v("div",hV,[v("img",{src:p(r).fullUrl,class:""},null,8,mV)])]),v("div",_V,[v("div",gV,[v("table",vV,[yV,v("tbody",null,[(m(!0),w(ie,null,Oe(p(C),(ve,xe)=>(m(),w("tr",bV,[ve.propertyId>=0?(m(),w(ie,{key:0},[v("td",wV,[H(Pt,{type:ve.type},null,8,["type"]),Nt(" "+Q(p(O).properties[ve.propertyId].name),1)]),v("td",null,[H(sh,{property:p(O).properties[ve.propertyId],image:p(r),width:400,"min-height":20},null,8,["property","image"])])],64)):F("",!0)]))),256))])]),v("table",EV,[SV,(m(!0),w(ie,null,Oe(p(D),(ve,xe)=>(m(),w("tr",TV,[ve.propertyId<0?(m(),w(ie,{key:0},[v("td",null,Q(p(O).properties[ve.propertyId].name),1),v("td",IV,[H(Ji,{property:ve,"input-id":[100,xe]},null,8,["property","input-id"])])],64)):F("",!0)]))),256))])])]),v("div",kV,[H(pd,{"show-images":!1,data:p(U),height:a.value-570,"selected-properties":p(O).propertyList.filter(ve=>ve.mode==p(dn).id),selector:p(V)},null,8,["data","height","selected-properties","selector"])])]))])])):F("",!0)])],512))}}),xV=$e(OV,[["__scopeId","data-v-14f10a90"]]),AV={class:"dropdown"},CV={class:"input-lg text-nowrap",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},$V={key:0},NV={key:1},LV={class:"dropdown-menu"},PV=["onClick"],DV={class:"dropdown-item",href:"#"},MV=fe({__name:"PropertyTypeDropdown",props:{modelValue:String},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=Object.keys(z).filter(i=>i[0]!="_").map(i=>z[i]),r=P(()=>s.filter(i=>i!=z.image_link&&i!=z.path));return(i,o)=>(m(),w("div",AV,[v("button",CV,[n.modelValue==null?(m(),w("span",$V,"Type de propriété..")):(m(),w("span",NV,[H(Pt,{type:n.modelValue},null,8,["type"]),Nt(" "+Q(i.$t("modals.properties."+n.modelValue)),1)]))]),v("ul",LV,[(m(!0),w(ie,null,Oe(p(r),a=>(m(),w("li",{onClick:l=>t("update:modelValue",a)},[v("a",DV,[H(Ye,{message:"modals.properties."+a+"_tooltip"},{default:Ce(()=>[H(Pt,{type:a},null,8,["type"]),Nt(" "+Q(i.$t("modals.properties."+a)),1)]),_:2},1032,["message"])])],8,PV))),256))])]))}}),RV={class:"modal-dialog"},FV={key:0,class:"modal-content"},VV={class:"modal-header m-0 p-2 ps-3 pe-3"},UV={class:"modal-title",id:"exampleModalLabel"},HV={class:"modal-body"},WV=["onSubmit"],jV={class:"flex-grow-1 me-1"},YV=["placeholder"],zV={class:"invalid-feedback"},BV={class:""},GV={class:"modal-footer pt-2 pb-2"},KV=fe({__name:"PropertyModal",props:{id:{type:String,required:!0}},setup(e){const t=e,n=W(null);let s=null;const r=P(()=>O.openModal.id==t.id);function i(){O.openModal.id==t.id&&O.hideModal(),c()}function o(){s.hide()}function a(){s.show()}const l=Je({}),u=W("");function c(){l.name="",l.type=z.multi_tags,l.mode=dn.sha1,u.value=""}async function f(){if(!l.name){u.value="Name is Empty!";return}if(Object.values(O.properties).map(_=>_.name).includes(l.name)){u.value="A Property with same name already exist! Please choose a new name";return}await O.addProperty(l.name,l.type,l.mode),o()}return Le(()=>O.openModal.id,d=>{d==t.id?a():o()}),Ve(()=>{s=On.getOrCreateInstance(n.value),n.value.addEventListener("hide.bs.modal",i),c()}),(d,_)=>(m(),w("div",{class:"modal fade text-dark modal-m",role:"dialog",ref_key:"modalElem",ref:n},[v("div",RV,[p(r)?(m(),w("div",FV,[v("div",VV,[v("b",UV,Q(d.$t("modals.properties.title")),1),v("button",{type:"button",class:"btn-close",onClick:o,"aria-label":"Close"})]),v("div",HV,[v("form",{onSubmit:je(f,["prevent"]),class:"d-flex flex-row"},[v("div",jV,[yt(v("input",{type:"text",style:{width:"100%"},class:"text-input input-lg",id:"propertyName",name:"propertyName","onUpdate:modelValue":_[0]||(_[0]=h=>p(l).name=h),placeholder:d.$t("modals.properties.input"),required:""},null,8,YV),[[Qt,p(l).name]]),v("div",zV,Q(u.value),1)]),v("div",BV,[H(MV,{modelValue:p(l).type,"onUpdate:modelValue":_[1]||(_[1]=h=>p(l).type=h),class:"input-lg"},null,8,["modelValue"])])],40,WV)]),v("div",GV,[v("button",{type:"button",onClick:o},Q(d.$t("modals.properties.cancel")),1),v("button",{type:"button",onClick:f},Q(d.$t("modals.properties.confirm")),1)])])):F("",!0)])],512))}}),md=e=>(mt("data-v-06625914"),e=e(),_t(),e),qV={class:"modal-dialog modal-xl",role:"document"},XV={key:0,class:"modal-content"},JV={class:"modal-header",style:{height:"40px"}},QV={class:"modal-title"},ZV=md(()=>v("span",{"aria-hidden":"true"},"×",-1)),eU=[ZV],tU={class:"modal-body",style:{"max-height":"calc(100vh - 100px)","overflow-x":"hidden","overflow-y":"scroll"}},nU={class:"row"},sU={class:"col"},rU={class:"text-center mb-2"},iU=["src"],oU={class:"col",style:{height:"400px",overflow:"scroll"}},aU={class:"mt-2"},lU={class:"table"},uU=md(()=>v("b",null,"Proprietés",-1)),cU={class:""},dU={class:"w-100"},fU={class:"table"},pU=md(()=>v("b",null,"Computed",-1)),hU={class:""},mU={class:"w-100"},_U={class:"m-0 p-0",style:{width:"1100px","overflow-x":"overlay","overflow-y":"hidden"}},gU=fe({__name:"Sha1PileModal",props:{id:{type:String,required:!0}},setup(e){const t=e,n=W(null);let s=null;const r=P(()=>O.openModal.data),i=P(()=>O.openModal.id==t.id),o=W([]);W(10);const a=W(100),l=P(()=>r.value.images[0]);function u(I,C){return I.properties[C]&&I.properties[C].value!==void 0}function c(I){const C=O.images[I];return O.propertyList.filter(L=>L.mode==dn.id).map(L=>({propertyId:L.id,type:L.type,value:u(C,L.id)?C.properties[L.id].value:void 0,imageId:C.id,mode:L.mode}))}function f(I){const C=O.sha1Index[I][0];return O.propertyList.filter(L=>L.mode==dn.sha1).map(L=>({propertyId:L.id,type:L.type,value:u(C,L.id)?C.properties[L.id].value:void 0,imageId:C.id,mode:L.mode}))}const d=P(()=>f(r.value.sha1)),_=P(()=>d.value.filter(I=>I.mode=="sha1"));P(()=>{let I={};return r.value.images.forEach(C=>I[C.id]=c(C.id)),I});const h=P(()=>{let I={id:"0",name:"__all__",images:r.value.images,groups:void 0,depth:0,propertyValues:[],parentId:void 0,count:r.value.images.length},C={};return C[I.id]=I,{root:I,index:C,order:[I.id]}});function E(){O.openModal.id==t.id&&O.hideModal()}function S(){s.hide()}function y(){s.show(),a.value=n.value.clientHeight}return Le(()=>O.openModal.id,I=>{I==t.id?y():(S(),o.value=[])}),Ve(()=>{s=On.getOrCreateInstance(n.value),n.value.addEventListener("hide.bs.modal",E)}),(I,C)=>(m(),w("div",{class:"modal",tabindex:"-1",role:"dialog",ref_key:"modalElem",ref:n,"aria-hidden":"true"},[v("div",qV,[p(i)?(m(),w("div",XV,[v("div",JV,[v("h5",QV,"Sha1: "+Q(p(l).sha1),1),v("button",{type:"button",class:"btn close",onClick:S},eU)]),v("div",tU,[v("div",nU,[v("div",sU,[v("div",rU,[v("img",{src:p(l).fullUrl,class:"border image-size"},null,8,iU)])]),v("div",oU,[v("div",aU,[v("table",lU,[uU,(m(!0),w(ie,null,Oe(p(_),(T,L)=>(m(),w("tr",cU,[T.propertyId>=0?(m(),w(ie,{key:0},[v("td",null,Q(p(O).properties[T.propertyId].name),1),v("td",dU,[T.type==p(z).multi_tags?(m(),_e(Ei,{key:0,property:T,"input-id":[100,L]},null,8,["property","input-id"])):T.type==p(z).tag?(m(),_e(Ei,{key:1,property:T,"mono-tag":!0,"input-id":[100,L]},null,8,["property","input-id"])):(m(),_e(Ji,{key:2,property:T,"input-id":[100,L]},null,8,["property","input-id"]))])],64)):F("",!0)]))),256))]),v("table",fU,[pU,(m(!0),w(ie,null,Oe(p(_),(T,L)=>(m(),w("tr",hU,[T.propertyId<0?(m(),w(ie,{key:0},[v("td",null,Q(p(O).properties[T.propertyId].name),1),v("td",mU,[T.type==p(z).multi_tags?(m(),_e(Ei,{key:0,property:T,"input-id":[100,L]},null,8,["property","input-id"])):T.type==p(z).tag?(m(),_e(Ei,{key:1,property:T,"mono-tag":!0,"input-id":[100,L]},null,8,["property","input-id"])):(m(),_e(Ji,{key:2,property:T,"input-id":[100,L]},null,8,["property","input-id"]))])],64)):F("",!0)]))),256))])])])]),v("div",_U,[H(pd,{"show-images":!1,data:p(h),height:a.value-550,"selected-properties":p(O).propertyList.filter(T=>T.mode==p(dn).id)},null,8,["data","height","selected-properties"])])])])):F("",!0)])],512))}}),vU=$e(gU,[["__scopeId","data-v-06625914"]]),yU={class:"modal-dialog"},bU={key:0,class:"modal-content"},wU={class:"modal-header m-0 p-2 ps-3 pe-3"},EU={class:"modal-title",id:"exampleModalLabel"},SU={class:"modal-body"},TU={class:"form-check"},IU={class:"form-check-label",for:"flexCheckDefault"},kU={class:"form-check"},OU={class:"form-check-label",for:"flexCheckDefault"},xU={class:"modal-footer pt-2 pb-2"},AU=fe({__name:"ExportModal",props:{id:{type:String,required:!0}},setup(e){const t=e,n=W(null);let s=null;const r=P(()=>O.openModal.id==t.id),i=P(()=>O.openModal.data),o=P(()=>Object.entries(O.tabs[O.selectedTab].data.visibleProperties).filter(([_,h])=>h&&parseInt(_)>0).map(_=>_[0])),a=W(!1),l=W(!1);function u(){O.openModal.id==t.id&&O.hideModal()}function c(){s.hide()}function f(){s.show()}Le(()=>O.openModal.id,_=>{_==t.id?f():c()}),Ve(()=>{s=On.getOrCreateInstance(n.value),n.value.addEventListener("hide.bs.modal",u)});function d(){console.log(i.value,o.value);let _,h;a.value&&(_=i.value),l.value&&(h=o.value),GS(_,h)}return(_,h)=>(m(),w("div",{class:"modal fade text-dark modal-m",role:"dialog",ref_key:"modalElem",ref:n},[v("div",yU,[p(r)?(m(),w("div",bU,[v("div",wU,[v("b",EU,Q(_.$t("modals.export.title")),1),v("button",{type:"button",class:"btn-close",onClick:c,"aria-label":"Close"})]),v("div",SU,[v("div",TU,[yt(v("input",{class:"form-check-input",type:"checkbox",value:"useOnlyActiveImage",id:"checkImages","onUpdate:modelValue":h[0]||(h[0]=E=>a.value=E)},null,512),[[Ui,a.value]]),v("label",IU,Q(_.$t("modals.export.images")),1)]),v("div",kU,[yt(v("input",{class:"form-check-input",type:"checkbox",value:"useOnlyActiveProperties",id:"checkProperties","onUpdate:modelValue":h[1]||(h[1]=E=>l.value=E)},null,512),[[Ui,l.value]]),v("label",OU,Q(_.$t("modals.export.properties")),1)])]),v("div",xU,[v("button",{type:"button",onClick:d},Q(_.$t("modals.export.export")),1)])])):F("",!0)])],512))}}),CU={class:"modal-dialog"},$U={key:0,class:"modal-content"},NU=v("b",{class:"modal-title",id:"exampleModalLabel"},"Nouvelle propriété",-1),LU=v("div",{class:"modal-body"}," test ",-1),PU=fe({__name:"FolderToPropertyModal",props:{id:{type:String,required:!0}},setup(e){const t=e,n=W(null);let s=null;const r=P(()=>O.openModal.id==t.id);function i(){O.openModal.id==t.id&&O.hideModal()}function o(){s.hide()}function a(){s.show()}return Le(()=>O.openModal.id,l=>{l==t.id?a():o()}),Ve(()=>{s=On.getOrCreateInstance(n.value),n.value.addEventListener("hide.bs.modal",i)}),(l,u)=>(m(),w("div",{class:"modal fade text-dark modal-m",role:"dialog",ref_key:"modalElem",ref:n},[v("div",CU,[p(r)?(m(),w("div",$U,[v("div",{class:"modal-header m-0 p-2 ps-3 pe-3"},[NU,v("button",{type:"button",class:"btn-close",onClick:o,"aria-label":"Close"})]),LU,v("div",{class:"modal-footer pt-2 pb-2"},[v("button",{type:"button",onClick:o},"Anuler")])])):F("",!0)])],512))}}),DU={class:"text-nowrap m-0 p-0"},MU=fe({__name:"PropertyPreview",props:{modelValue:Number},setup(e){const t=e,n=P(()=>{let s=t.modelValue?t.modelValue:Object.keys(O.properties)[0];return O.properties[Number(s)]});return(s,r)=>(m(),w("div",DU,[H(Pt,{type:p(n).type},null,8,["type"]),Nt(" "+Q(p(n).name),1)]))}}),RU={class:"text-nowrap text-secondary"},rh=fe({__name:"TagPreview",props:{propertyId:Number,value:Array},setup(e){const t=e,n=P(()=>O.tags[t.propertyId]);return(s,r)=>(m(),w("div",RU,[t.value&&t.value.length>0?(m(!0),w(ie,{key:0},Oe(t.value,i=>(m(),w("span",null,[H(wt,{tag:p(n)[i].value,color:p(n)[i].color,class:"me-1"},null,8,["tag","color"])]))),256)):(m(),w(ie,{key:1},[Nt(" Add Tags... ")],64))]))}}),FU={key:0},VU={key:1},UU={key:2},HU={key:3},WU={key:0,class:"bi bi-square"},jU={key:1,class:"bi bi-check-square"},YU={key:5},zU={key:6},BU={key:7},GU={key:8},KU={key:9},qU={key:10},XU={key:11},JU={key:12},QU={key:1,class:"text-secondary"},ZU=fe({__name:"PropertyValuePreview",props:{value:void 0,property:Object},setup(e){const t=e,n=P(()=>{if(t.value==null)return"white";let r=Number(t.value);return isNaN(r)||r>12?"gray":Hn[r].color}),s=P(()=>[z._ahash,z._folders,z._sha1,z.string].indexOf(t.property.type)!==-1?'"'+t.value+'"':t.value);return(r,i)=>e.value!=null?(m(),w(ie,{key:0},[t.property.type==p(z)._ahash?(m(),w("div",FU,Q(p(s)),1)):F("",!0),t.property.type==p(z)._folders?(m(),w("div",VU,Q(p(s)),1)):F("",!0),t.property.type==p(z)._sha1?(m(),w("div",UU,Q(p(s)),1)):F("",!0),t.property.type==p(z).checkbox?(m(),w("div",HU,[p(s)?(m(),w("i",WU)):(m(),w("i",jU))])):F("",!0),t.property.type==p(z).color?(m(),w("div",{key:4,style:ye({backgroundColor:p(n)}),class:"w-100 h-100"},null,4)):F("",!0),t.property.type==p(z).date?(m(),w("div",YU,Q(p(s)),1)):F("",!0),t.property.type==p(z).image_link?(m(),w("div",zU)):F("",!0),t.property.type==p(z).multi_tags?(m(),w("div",BU,[H(rh,{"property-id":t.property.id,value:p(s)},null,8,["property-id","value"])])):F("",!0),t.property.type==p(z).number?(m(),w("div",GU,Q(p(s)),1)):F("",!0),t.property.type==p(z).path?(m(),w("div",KU,Q(p(s)),1)):F("",!0),t.property.type==p(z).string?(m(),w("div",qU,Q(p(s)),1)):F("",!0),t.property.type==p(z).tag?(m(),w("div",XU,[H(rh,{"property-id":t.property.id,value:p(s)},null,8,["property-id","value"])])):F("",!0),t.property.type==p(z).url?(m(),w("div",JU,Q(p(s)),1)):F("",!0)],64)):(m(),w("span",QU,"..."))}}),eH={class:"d-flex hover-light ps-1 overflow-hidden"},tH={class:"m-0 p-0 me-2"},nH={class:"m-0 p-0 me-2 text-nowrap"},sH={key:0,class:"m-0 p-0 me-2",style:{width:"150px"}},rH=fe({__name:"FilterPreview",props:{filter:Object},setup(e){const t=e,n=P(()=>O.properties[t.filter.propertyId]);return(s,r)=>(m(),w("td",eH,[v("div",tH,[H(MU,{modelValue:t.filter.propertyId,"onUpdate:modelValue":r[0]||(r[0]=i=>t.filter.propertyId=i)},null,8,["modelValue"])]),v("div",nH,Q(s.$t("modals.filters.operators."+t.filter.operator)),1),p(a_)(t.filter.operator)?(m(),w("div",sH,[H(ZU,{property:p(n),value:t.filter.value},null,8,["property","value"])])):F("",!0)]))}}),iH=$e(rH,[["__scopeId","data-v-91b12ce3"]]),_d=e=>(mt("data-v-0334fba7"),e=e(),_t(),e),oH={class:"filter-group"},aH={class:"table table-sm"},lH={class:"align-top ps-2"},uH={key:0,class:"m-0 p-0"},cH={class:"dropdown-toggle p-0 hover-light ps-1","data-bs-toggle":"dropdown","data-bs-auto-close":"true","aria-expanded":"false",style:{width:"50px",cursor:"pointer","border-radius":"3px"}},dH={class:""},fH={class:"dropdown-menu bg-white"},pH=["onClick"],hH=["onClick"],mH={key:2,class:"text-secondary"},_H={key:0,class:"ps-2"},gH={class:"border rounded"},vH={class:""},yH=["onClick"],bH=_d(()=>v("i",{class:"bi bi-trash"},null,-1)),wH=[bH],EH={class:"d-flex text-secondary ms-2"},SH={class:"add-options hover-light"},TH=_d(()=>v("i",{class:"bi bi-plus"},null,-1)),IH=_d(()=>v("i",{class:"bi bi-plus"},null,-1)),kH=fe({__name:"FilterGroupInput",props:{filter:{type:Object,required:!0},manager:lr},emits:["delete"],setup(e,{emit:t}){const n=e,s=P(()=>n.filter.filters),r=P(()=>{let a=255-(n.filter.depth+1)*5;return`background: rgb(${a},${a},${a});`});function i(){let a=Object.values(O.properties)[0],l={propertyId:a.id,operator:ig(a.type),value:void 0,id:0};n.filter.filters.push(l)}function o(a){n.manager.deleteFilter(a.id)}return Ve(()=>{n.filter.filters.length==0&&n.filter.depth>0&&i()}),(a,l)=>{const u=Uh("FilterGroupInput",!0);return m(),w("div",oH,[v("table",aH,[(m(!0),w(ie,null,Oe(p(s),(c,f)=>(m(),w("tr",null,[v("td",lH,[f==0?(m(),w("div",uH,Q(a.$t("modals.filters.where")),1)):f==1?(m(),w(ie,{key:1},[v("div",cH,[v("span",dH,Q(n.filter.groupOperator),1)]),v("ul",fH,[v("li",null,[v("a",{class:"dropdown-item",href:"#",onClick:d=>n.filter.groupOperator=p(it).and},Q(a.$t("modals.filters.and")),9,pH)]),v("li",null,[v("a",{class:"dropdown-item",href:"#",onClick:d=>n.filter.groupOperator=p(it).or},Q(a.$t("modals.filters.or")),9,hH)])])],64)):(m(),w("span",mH,Q(n.filter.groupOperator),1))]),c.propertyId!==void 0?(m(),w("td",_H,[H(ya,{manager:e.manager,mode:2,"parent-id":n.filter.id,"filter-id":c.id},{default:Ce(()=>[H(iH,{filter:c},null,8,["filter"])]),_:2},1032,["manager","parent-id","filter-id"])])):(m(),w("td",{key:1,colspan:"3",style:ye(p(r))},[v("div",gH,[H(u,{filter:c,manager:n.manager},null,8,["filter","manager"])])],4)),v("td",vH,[v("span",{class:"base-btn",onClick:d=>o(c)},wH,8,yH)])]))),256))]),v("div",EH,[H(ya,{manager:n.manager,"parent-id":n.filter.id},{default:Ce(()=>[v("div",SH,[TH,Nt(Q(a.$t("modals.filters.new_filter")),1)])]),_:1},8,["manager","parent-id"]),v("div",{class:"add-options hover-light",onClick:l[0]||(l[0]=c=>n.manager.addNewFilterGroup(n.filter.id))},[IH,Nt(Q(a.$t("modals.filters.new_group")),1)])])])}}}),OH=$e(kH,[["__scopeId","data-v-0334fba7"]]),xH={class:"dropdown m-0 p-0"},AH={key:0,class:"d-flex flex-row m-0 ms-1 p-1 bg hover-light bg-medium",style:{cursor:"pointer"}},CH={key:0,class:"or-separator"},$H={class:"dropdown-menu m-0 p-0","aria-labelledby":"defaultDropdown"},NH={key:0,class:"m-1 p-0"},LH=fe({__name:"GlobalFilterInputDropdown",props:{manager:lr},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=W(null),r=P(()=>{let o=i(n.manager.filter),a={};return o.forEach(l=>a[l.propertyId]=l),Object.values(a)});function i(o){let a=[];for(let l of o.filters)l.isGroup?a.push(...i(l)):a.push(l);return a}return Le(()=>n.manager.filter.filters,()=>{n.manager.filter.filters.length==0&&Ft.getOrCreateInstance(s.value).hide()}),(o,a)=>(m(),w("div",xH,[v("div",{style:{position:"static"},"data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false",ref_key:"buttonElem",ref:s},[p(r).length?(m(),w("div",AH,[(m(!0),w(ie,null,Oe(p(r),(l,u)=>(m(),w("div",null,[u>0?(m(),w("span",CH,"|")):F("",!0),v("span",null,Q(p(O).properties[l.propertyId].name),1)]))),256))])):F("",!0)],512),v("div",$H,[Object.keys(p(O).properties).length>0?(m(),w("div",NH,[H(OH,{filter:n.manager.filter,manager:n.manager},null,8,["filter","manager"])])):F("",!0)])]))}}),PH=$e(LH,[["__scopeId","data-v-d33bc3a8"]]),DH=e=>(mt("data-v-88b17540"),e=e(),_t(),e),MH={class:"d-flex flex-row filter-form"},RH={class:"pt-1 pb-1"},FH=DH(()=>v("span",{class:"base-hover plus-btn text-secondary"},[v("i",{class:"bi bi-plus"})],-1)),VH=fe({__name:"FilterForm",props:{manager:lr},setup(e){const t=e;return(n,s)=>(m(),w("div",MH,[v("div",RH,Q(n.$t("main.menu.filters")),1),H(PH,{"model-value":t.manager.filter,manager:t.manager},null,8,["model-value","manager"]),H(ya,{manager:t.manager,class:"p-1"},{default:Ce(()=>[FH]),_:1},8,["manager"])]))}}),UH=$e(VH,[["__scopeId","data-v-88b17540"]]),HH=e=>(mt("data-v-a8a72187"),e=e(),_t(),e),WH={class:"d-flex flex-row group-form"},jH={class:"pt-1 pb-1"},YH={key:0,class:"bg-medium bg d-flex flex-row m-0 ms-1 p-0"},zH={key:0,class:"bi bi-chevron-right smaller"},BH=["onClick"],GH={key:0,class:"spinner-grow spinner-grow-sm loading ms-1"},KH={class:"dropdown"},qH=HH(()=>v("div",{class:"text-secondary p-1","data-bs-toggle":"dropdown","data-bs-auto-close":"true"},[v("span",{class:"base-hover plus-btn"},[v("i",{class:"bi bi-plus"})])],-1)),XH={class:"dropdown-menu p-0"},JH=fe({__name:"GroupForm",props:{groupIds:Array,sorts:Array,isLoading:Boolean},setup(e){const t=e,n=P(()=>t.groupIds.map(s=>O.properties[s]));return Ve(()=>{t.groupIds&&t.groupIds.forEach(s=>O.addGrouping(s))}),(s,r)=>(m(),w("div",WH,[v("div",jH,Q(s.$t("main.menu.groupby")),1),p(n).length?(m(),w("div",YH,[(m(!0),w(ie,null,Oe(p(n),(i,o)=>(m(),w(ie,null,[o>0?(m(),w("i",zH)):F("",!0),v("div",{class:"base-hover m-1 ps-1 pe-1",onClick:a=>p(O).delGrouping(i.id)},Q(i.name),9,BH)],64))),256)),t.isLoading?(m(),w("i",GH)):F("",!0)])):F("",!0),v("div",KH,[qH,v("div",XH,[H(ld,{onSelect:r[0]||(r[0]=i=>p(O).addGrouping(i)),"ignore-ids":t.groupIds},null,8,["ignore-ids"])])])]))}}),QH=$e(JH,[["__scopeId","data-v-a8a72187"]]),ZH=e=>(mt("data-v-7fd11c33"),e=e(),_t(),e),e4={class:"d-flex flex-row sort-form"},t4={class:"pt-1 pb-1"},n4={key:0,class:"d-flex flex-row m-0 p-0 bg-medium bg ms-1 align-items-center"},s4={key:0,class:"bi bi-chevron-right smaller"},r4=["onClick"],i4=["onClick"],o4=["onClick"],a4=["onClick"],l4=["onClick"],u4=["onClick"],c4=["onClick"],d4=["onClick"],f4=["onClick"],p4=ZH(()=>v("div",{class:"hover-light text-secondary m-1","data-bs-toggle":"dropdown","data-bs-auto-close":"true"},[v("span",{class:"base-hover plus-btn"},[v("i",{class:"bi bi-plus"})])],-1)),h4={class:"dropdown-menu p-0"},m4=fe({__name:"SortForm",props:{sortList:Array},setup(e){const t=e,n=P(()=>t.sortList.map(i=>i.property_id));function s(i){t.sortList.push({property_id:i,ascending:!0})}function r(i){t.sortList[i].isGroup||t.sortList.splice(i,1)}return(i,o)=>(m(),w("div",e4,[v("div",t4,Q(i.$t("main.menu.sort.title")),1),e.sortList.length?(m(),w("div",n4,[(m(!0),w(ie,null,Oe(t.sortList,(a,l)=>(m(),w(ie,null,[l>0?(m(),w("i",s4)):F("",!0),v("div",{class:Ie(["me-0 ms-1 ps-1 mt-1 mb-1 pe-1",a.isGroup?"text-secondary":"  base-hover "]),onClick:u=>r(l)},Q(p(O).properties[a.property_id].name),11,r4),a.isGroup?(m(),w(ie,{key:1},[a.byGroupSize?(m(),_e(Ye,{key:0,message:"main.menu.sort.group_order_nb_tooltip"},{default:Ce(()=>[a.ascending?(m(),w("i",{key:0,class:"bi bi-sort-up-alt sm-btn",onClick:u=>a.byGroupSize=!1},null,8,i4)):(m(),w("i",{key:1,class:"bi bi-sort-down sm-btn",onClick:u=>a.byGroupSize=!1},null,8,o4))]),_:2},1024)):(m(),_e(Ye,{key:1,message:"main.menu.sort.group_order_az_tooltip"},{default:Ce(()=>[p(O).properties[a.property_id].type==p(z).number?(m(),w(ie,{key:0},[a.ascending?(m(),w("i",{key:0,class:"bi bi-sort-numeric-up sm-btn",onClick:u=>a.byGroupSize=!0},null,8,a4)):(m(),w("i",{key:1,class:"bi bi-sort-numeric-down-alt sm-btn",onClick:u=>a.byGroupSize=!0},null,8,l4))],64)):(m(),w(ie,{key:1},[a.ascending?(m(),w("i",{key:0,class:"bi bi-sort-alpha-up sm-btn",onClick:u=>a.byGroupSize=!0},null,8,u4)):(m(),w("i",{key:1,class:"bi bi-sort-alpha-down-alt sm-btn",onClick:u=>a.byGroupSize=!0},null,8,c4))],64))]),_:2},1024))],64)):F("",!0),a.ascending?(m(),_e(Ye,{key:2,message:"main.menu.sort.order_asc"},{default:Ce(()=>[v("i",{class:"bi bi-arrow-up sm-btn",onClick:u=>a.ascending=!1},null,8,d4)]),_:2},1024)):(m(),_e(Ye,{key:3,message:"main.menu.sort.order_desc"},{default:Ce(()=>[v("i",{class:"bi bi-arrow-down sm-btn",onClick:u=>a.ascending=!0},null,8,f4)]),_:2},1024))],64))),256))])):F("",!0),p4,v("div",h4,[H(ld,{onSelect:o[0]||(o[0]=a=>s(a)),"ignore-ids":p(n)},null,8,["ignore-ids"])])]))}}),_4=$e(m4,[["__scopeId","data-v-7fd11c33"]]);var Mu={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return t=>["number","string","boolean"].indexOf(typeof t)!==-1||t==null},required:!1},modelValue:{validator:function(e){return t=>["number","string","boolean"].indexOf(typeof t)!==-1||t==null},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1},aria:{required:!1,type:Object,default:()=>({})}},setup(e,t){const n=function(o,a,l){const{value:u,modelValue:c,falseValue:f,trueValue:d,disabled:_}=wo(o),h=c&&c.value!==void 0?c:u,E=P(()=>h.value===d.value),S=C=>{a.emit("input",C),a.emit("update:modelValue",C),a.emit("change",C)},y=()=>{S(d.value)},I=()=>{S(f.value)};return[null,void 0,!1,0,"0","off"].indexOf(h.value)!==-1&&[f.value,d.value].indexOf(h.value)===-1&&I(),[!0,1,"1","on"].indexOf(h.value)!==-1&&[f.value,d.value].indexOf(h.value)===-1&&y(),{externalValue:h,checked:E,update:S,check:y,uncheck:I,handleInput:C=>{S(C.target.checked?d.value:f.value)},handleClick:()=>{_.value||(E.value?I():y())}}}(e,t),s=function(o,a,l){const{trueValue:u,falseValue:c,onLabel:f,offLabel:d}=wo(o),_=l.checked,h=l.update;return{label:P(()=>{let E=_.value?f.value:d.value;return E||(E="&nbsp;"),E}),toggle:()=>{h(_.value?c.value:u.value)},on:()=>{h(u.value)},off:()=>{h(c.value)}}}(e,0,{checked:n.checked,update:n.update}),r=function(o,a,l){const u=wo(o),c=u.disabled,f=l.checked,d=P(()=>({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label",...u.classes.value}));return{classList:P(()=>({container:d.value.container,toggle:[d.value.toggle,c.value?f.value?d.value.toggleOnDisabled:d.value.toggleOffDisabled:f.value?d.value.toggleOn:d.value.toggleOff],handle:[d.value.handle,c.value?f.value?d.value.handleOnDisabled:d.value.handleOffDisabled:f.value?d.value.handleOn:d.value.handleOff],label:d.value.label}))}}(e,0,{checked:n.checked}),i=function(o,a,l){const{disabled:u}=wo(o),c=l.check,f=l.uncheck,d=l.checked;return{handleSpace:()=>{u.value||(d.value?f():c())}}}(e,0,{check:n.check,uncheck:n.uncheck,checked:n.checked});return{...n,...r,...s,...i}}};const g4=["tabindex","aria-checked","aria-describedby","aria-labelledby"],v4=["id","name","value","checked","disabled"],y4=["innerHTML"],b4=["checked"];Mu.render=function(e,t,n,s,r,i){return m(),w("div",rc({class:e.classList.container,tabindex:n.disabled?void 0:0,"aria-checked":e.checked,"aria-describedby":n.describedby,"aria-labelledby":n.labelledby,role:"switch"},n.aria,{onKeypress:t[1]||(t[1]=st(je((...o)=>e.handleSpace&&e.handleSpace(...o),["prevent"]),["space"]))}),[yt(v("input",{type:"checkbox",id:n.id,name:n.name,value:n.trueValue,checked:e.checked,disabled:n.disabled},null,8,v4),[[i0,!1]]),v("div",{class:Ie(e.classList.toggle),onClick:t[0]||(t[0]=(...o)=>e.handleClick&&e.handleClick(...o))},[v("span",{class:Ie(e.classList.handle)},null,2),cn(e.$slots,"label",{checked:e.checked,classList:e.classList},()=>[v("span",{class:Ie(e.classList.label),innerHTML:e.label},null,10,y4)]),n.required?(m(),w("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,b4)):F("v-if",!0)],2)],16,g4)},Mu.__file="src/Toggle.vue";const Av=e=>(mt("data-v-29e2c952"),e=e(),_t(),e),w4={class:"d-flex flex-row p-2"},E4={class:"d-flex flex-row search-input me-5"},S4=Av(()=>v("div",{class:"bi bi-search float-start bi-sm"},null,-1)),T4=["placeholder"],I4={class:"me-5"},k4=Av(()=>v("div",{class:"bi bi-aspect-ratio me-1"},null,-1)),O4={class:"ms-5"},x4={class:"d-flex flex-wrap content-container ps-2"},A4=fe({__name:"ContentFilter",props:{tab:Object,computeStatus:Object,selector:mo,filterManager:lr},emits:["compute-ml","search-images","remove:selected"],setup(e,{emit:t}){const n=e,s=P(()=>Array.from(n.selector.selectedImages)),r=P(()=>n.selector.selectedImages.size);return(i,o)=>(m(),w(ie,null,[v("div",w4,[H(Ye,{icon:!0,message:"main.menu.search_tooltip",iconPos:"left"},{default:Ce(()=>[v("div",E4,[S4,v("input",{type:"text",class:"input-hidden",placeholder:i.$t("main.menu.search"),onKeyup:o[0]||(o[0]=st(a=>i.$emit("search-images",a.target.value),["enter"]))},null,40,T4)])]),_:1}),v("div",I4,[H(Ye,{message:"main.menu.grid_tooltip"},{default:Ce(()=>[v("i",{class:Ie("bi bi-grid-3x3-gap-fill me-2 btn-icon"+(n.tab.data.display=="tree"?"":" text-secondary")),onClick:o[1]||(o[1]=a=>n.tab.data.display="tree")},null,2)]),_:1}),H(Ye,{message:"main.menu.table_tooltip"},{default:Ce(()=>[v("i",{id:"toot",class:Ie("bi bi-table btn-icon"+(n.tab.data.display=="grid"?"":" text-secondary")),onClick:o[2]||(o[2]=a=>n.tab.data.display="grid")},null,2)]),_:1})]),H(Ye,{message:"main.menu.image_size_tooltip",click:!1},{default:Ce(()=>[k4]),_:1}),v("div",null,[H(pv,{min:30,max:500,modelValue:n.tab.data.imageSize,"onUpdate:modelValue":o[3]||(o[3]=a=>n.tab.data.imageSize=a)},null,8,["modelValue"])]),v("div",O4,[H(Ye,{message:"main.menu.image_mode_tooltip"},{default:Ce(()=>[H(p(Mu),{modelValue:n.tab.data.sha1Mode,"onUpdate:modelValue":o[4]||(o[4]=a=>n.tab.data.sha1Mode=a),"on-label":i.$t("main.menu.sha1_images"),"off-label":i.$t("main.menu.all_images"),class:"custom-toggle"},null,8,["modelValue","on-label","off-label"])]),_:1})]),p(r)?(m(),_e(xv,{key:0,class:"ms-5","selected-images-ids":p(s),"onRemove:selected":o[5]||(o[5]=a=>n.selector.clear())},null,8,["selected-images-ids"])):F("",!0)]),v("div",x4,[H(UH,{manager:n.filterManager},null,8,["manager"]),H(QH,{groupIds:n.tab.data.groups,"is-loading":n.computeStatus.groups},null,8,["groupIds","is-loading"]),H(_4,{sortList:n.tab.data.sortList},null,8,["sortList"])])],64))}}),C4=$e(A4,[["__scopeId","data-v-29e2c952"]]);function $4(e,t,n){e.order=[];const s={};t.forEach(i=>s[i.property_id]=i);let r=gd(e.root,e.order,s);Object.keys(e.index).forEach(i=>{const o=e.index[i];Array.isArray(o.images)&&o.images.length>0&&($v(o.images,t.slice(r)),n&&Hc(o))}),sg(e)}function Cv(e){switch(e){case z.string:case z.url:case z.path:case z._sha1:case z._ahash:case z.color:case z.date:return(t,n)=>(t==null||t=="")&&(n==null||n=="")?0:t==null||t==""?1:n==null||n==""||t<n?-1:t>n?1:0;case z.number:return(t,n)=>t==null&&n==null?0:t==null?1:n==null?-1:Number(t)-Number(n);case z.checkbox:return(t,n)=>t?-1:t==n?0:1;case z.multi_tags:return(t,n)=>{let s=Array.isArray(t)?t.length:0,r=Array.isArray(n)?n.length:0;return s-r};case z.tag:return(t,n)=>t==null&&n==null?0:t==null?-1:n==null?1:t<n?-1:t>n?1:0;default:return()=>-1}}function N4(e){let t=e.map(s=>O.properties[s.property_id].type).map(Cv);function n(s,r){var a,l,u,c;let i=0;for(let f=0;f<t.length;f++){let d=t[f],_=O.properties[e[f].property_id];const h=e[f].ascending?1:-1;let E=(a=s.properties[_.id])==null?void 0:a.value,S=(l=r.properties[_.id])==null?void 0:l.value;if(_.type==z.tag){let y=Array.isArray(E)&&E.length>0?E[0]:void 0,I=Array.isArray(S)&&S.length>0?S[0]:void 0;E=(u=O.tags[_.id][y])==null?void 0:u.value,S=(c=O.tags[_.id][I])==null?void 0:c.value}if(i=d(E,S),i!=0)return i*h}let o=s.id-r.id<0?-1:1;return i*o}return n}function $v(e,t){if(t.length==0)return e;let n=N4(t);return e.sort(n),e}function L4(e,t){if(e.length==0||e.some(i=>i.propertyId==null))return e;let n=O.properties[e[0].propertyId],s=n.type;(s==z.multi_tags||s==z.tag)&&(s=z.tag);const r=t[n.id];if(r&&r.byGroupSize)e.sort((i,o)=>i.count-o.count);else{let i=Cv(s);e.sort((o,a)=>{let l=o.name,u=a.name;return s==z.tag&&(l==Cs?l="zzzzzzzzzzzzzzzzzz":l=O.tags[n.id][l].value,u==Cs?u="zzzzzzzzzzzzzzzzzz":u=O.tags[n.id][u].value),i(l,u)})}return r&&!r.ascending&&e.reverse(),e}function gd(e,t,n,s=0){if(t.push(e.id),e.groups&&e.groups.length>0){let r=1;L4(e.groups,n),e.groups.forEach(i=>r=Math.max(s,gd(i,t,n))),s+=r}return s}const P4={class:""},D4={key:0,class:"image-count"},M4=["src"],R4={class:"d-flex flex-row"},F4=fe({__name:"ImageRecomended",props:{pile:Object,size:{type:Number,default:100}},emits:["accept","refuse"],setup(e,{emit:t}){const n=e,s=P(()=>`width: ${n.size}px; height: ${n.size}px;`),r=P(()=>`max-width: ${n.size-2}px; max-height: ${n.size-1}px;`),i=P(()=>n.pile.images[0]);return(o,a)=>(m(),w("div",P4,[v("div",{style:ye(p(s)),class:"img-container",onClick:a[0]||(a[0]=l=>p(O).showModal(p(sn).IMAGE,p(i)))},[n.pile.images.length>1?(m(),w("div",D4,Q(n.pile.images.length),1)):F("",!0),v("img",{src:p(i).url,style:ye(p(r))},null,12,M4)],4),v("div",R4,[H(Ye,{message:"main.recommand.accept"},{default:Ce(()=>[v("div",{style:ye(["width: "+n.size/2+"px;",{"font-size":"10px"}]),class:"text-center text-success validate clickable unselectable",onClick:a[1]||(a[1]=l=>t("accept",p(i)))}," ✓ ",4)]),_:1}),H(Ye,{message:"main.recommand.refuse"},{default:Ce(()=>[v("div",{style:ye(["width: "+n.size/2+"px;",{"font-size":"10px"}]),class:"text-center text-danger refuse clickable unselectable",onClick:a[2]||(a[2]=l=>t("refuse",p(i)))}," ✕ ",4)]),_:1})])]))}}),V4=$e(F4,[["__scopeId","data-v-441f8a5e"]]),U4=e=>(mt("data-v-c69b9cf9"),e=e(),_t(),e),H4={class:"reco-container"},W4={class:"d-flex flex-row m-0 ps-2 pb-2"},j4={class:"text-secondary me-2"},Y4={class:"flex-grow-1"},z4={class:"d-flex flex-row"},B4={key:0,class:"separator"},G4=U4(()=>v("i",{class:"bi bi-x"},null,-1)),K4=[G4],q4={class:"d-flex flex-row"},X4=fe({__name:"RecommendedMenu",props:{imageSize:Number,reco:Object,width:Number,height:Number},emits:["scroll","close"],setup(e,{emit:t}){const n=e,s=W(1),r=Je([]),i=10,o=Je(new Set);function a(d){let _=n.reco.images.indexOf(d);_<0||(n.reco.images.splice(_,1),c())}function l(d){n.reco.values.forEach(_=>{if(_.value!=Cs){let h=O.properties[_.propertyId].type==z.multi_tags?"add":null;O.setPropertyValue(_.propertyId,d,_.value,h)}}),a(d.sha1)}function u(d){o.add(d.sha1),a(d.sha1)}function c(){r.length=0;const d=n.reco.images.map(_=>({sha1:_,images:O.sha1Index[_]}));f(d,r,s.value,n.imageSize,n.width)}function f(d,_,h,E,S){let y=S,I=[],C=0;for(let T=0;T<d.length&&!(_.length>=h);T++){let L=d[T];if(L.images[0],o.has(L.sha1))continue;let A=E+i;if(C+A<y){I.push(L),C+=A;continue}if(I.length==0)throw"Images seems to be to big for the line";_.push(I),_.length<h&&(I=[L],C=A)}I.length>0&&_.length<h&&_.push(I)}return Ve(c),Le(()=>n.reco.images,c,{deep:!0}),Le(()=>n.imageSize,c),Le(()=>n.width,c),Le(()=>n.reco.groupId,(d,_)=>{_!=d&&o.clear()},{deep:!0}),(d,_)=>(m(),w("div",H4,[v("div",W4,[H(Ye,{"icon-pos":"left",message:"main.recommand.tooltip",icon:"true"},{default:Ce(()=>[v("span",j4,Q(d.$t("main.recommand.title")),1)]),_:1}),v("div",Y4,[v("div",z4,[(m(!0),w(ie,null,Oe(n.reco.values,(h,E)=>(m(),w(ie,null,[H(ul,{class:"",value:h},null,8,["value"]),E<n.reco.values.length-1?(m(),w("div",B4)):F("",!0)],64))),256))])]),v("span",{class:"text-secondary scroll ps-1 pe-1 clickable",onClick:_[0]||(_[0]=h=>t("scroll",n.reco.groupId))},Q(d.$t("main.recommand.group")),1),v("span",{class:"text-secondary me-1 close ps-1 pe-1 clickable",onClick:_[1]||(_[1]=h=>t("close"))},K4)]),v("div",{style:ye("margin-left:"+i+"px;")},[(m(!0),w(ie,null,Oe(r,h=>(m(),w("div",null,[v("div",q4,[(m(!0),w(ie,null,Oe(h,E=>(m(),_e(V4,{pile:E,size:n.imageSize,onAccept:l,onRefuse:u,style:ye("margin-right:"+i+"px;")},null,8,["pile","size","style"]))),256))])]))),256))],4)]))}}),J4=$e(X4,[["__scopeId","data-v-c69b9cf9"]]),Q4={key:0,class:"m-0 p-0"},Z4={key:0,style:{"margin-left":"10px"}},e8=fe({__name:"MainView",props:{tab:Object,height:Number},setup(e,{expose:t}){const n=e,s=Je({root:void 0,index:{},order:[]}),r=Je({images:[],values:[],groupId:void 0}),i=Je({}),o=Je(new Set),a=new mo(s,o),l=W(null),u=W(null),c=W(null),f=W([]),d=W(0),_=W(0),h=Je({groups:!1}),E=P(()=>n.tab.data.filter),S=P(()=>n.tab.data.groups),y=P(()=>n.tab.data.sortList),I=P(()=>O.getTab().data.sha1Mode),C=P(()=>O.getVisibleViewProperties());function T(){l.value&&u.value?d.value=n.height-l.value.clientHeight-u.value.clientHeight-5:l.value?d.value=n.height-l.value.clientHeight-5:d.value=0}const L=P(()=>{let D=Object.values(O.images);if(f.value.length>0){const q={};return D.forEach(G=>q[G.sha1]=G),f.value.filter(G=>G.dist>.25).map(G=>q[G.sha1])}if(Object.keys(n.tab.data.selectedFolders).length>0){let q=Object.keys(n.tab.data.selectedFolders).map(Number),G=[...q];q.forEach(ee=>G.push(...O.getFolderChildren(ee))),G.length>0&&(D=D.filter(ee=>G.includes(ee.folder_id)))}return D.filter(q=>ag(q,E.value))});t({filteredImages:L});function A(D=!1){h.groups||(h.groups=!0,setTimeout(()=>{console.time("compute groups");let Y=tg(L.value,S.value,I.value),q=Y.index;if(!D){for(let G in q)q[G]=rx(q[G],s.index);for(let G in s.index){let ee=s.index[G];ee.isCluster&&(q[ee.id]=ee)}}$4(Y,y.value,I.value),Object.assign(s,Y),console.timeEnd("compute groups"),c.value&&tt(c.value.computeLines),h.groups=!1},10))}function N(){if(!s.root)return;const D={};y.value.forEach(Y=>D[Y.property_id]=Y),gd(s.root,s.order,D),Object.keys(s.index).forEach(Y=>{const q=s.index[Y];Array.isArray(q.images)&&q.images.length>0&&($v(q.images,y.value.slice(S.value.length)),n.tab.data.sha1Mode&&Hc(q))})}function V(D,Y,q){r.images.length=0,r.images.push(...D),r.values.length=0,r.values.push(...Y),r.groupId=q,tt(()=>T())}async function U(D){D===""?f.value=[]:f.value=await O.getSimilarImagesFromText(D)}function $(){r.images.length=0,r.values.length=0,tt(()=>T())}return Ve(A),Ve(()=>tt(T)),Ve(()=>{_.value=l.value.clientWidth,window.addEventListener("resize",()=>{tt(()=>{_.value=l.value.clientWidth})})}),Le(n,()=>{O.updateTab(n.tab)},{deep:!0}),Le(L,()=>A(),{deep:!0}),Le(S,()=>{A(!0),s.index[r.groupId]==null&&$()},{deep:!0}),Le(y,()=>{N(),c.value&&c.value.computeLines()},{deep:!0}),Le(()=>n.tab.data.imageSize,()=>tt(T)),Le(()=>n.tab.data.sha1Mode,A),(D,Y)=>(m(),w(ie,null,[v("div",{class:"",ref_key:"filterElem",ref:l},[H(C4,{tab:n.tab,onComputeMl:Y[0]||(Y[0]=()=>{}),"compute-status":h,onSearchImages:U,selector:p(a),"filter-manager":n.tab.data.filterManager},null,8,["tab","compute-status","selector","filter-manager"])],512),v("div",{ref_key:"boxElem",ref:u,class:"m-0 p-0"},[r.images.length>0?(m(),w("div",Q4,[H(J4,{reco:r,"image-size":e.tab.data.imageSize,width:_.value,height:50,onClose:$,onScroll:c.value.scrollTo},null,8,["reco","image-size","width","onScroll"])])):F("",!0)],512),_.value>0&&d.value>0?(m(),w("div",Z4,[e.tab.data.display=="tree"?(m(),_e(Ov,{key:0,data:p(s),"image-size":n.tab.data.imageSize,height:d.value-0,properties:p(C),"selected-images":p(i),ref_key:"imageList",ref:c,width:_.value-10,onRecommend:V,selector:p(a)},null,8,["data","image-size","height","properties","selected-images","width","selector"])):F("",!0),e.tab.data.display=="grid"?(m(),w("div",{key:1,style:ye({width:_.value-12+"px"}),class:"p-0 m-0 grid-container"},[H(pd,{data:p(s),height:d.value-15,ref_key:"imageList",ref:c,"selected-properties":p(C),class:"p-0 m-0","show-images":!0,"selected-images":p(i),selector:p(a)},null,8,["data","height","selected-properties","selected-images","selector"])],4)):F("",!0)])):F("",!0)],64))}}),t8=$e(e8,[["__scopeId","data-v-bd32c601"]]),n8={class:"d-flex d-row",style:{cursor:"pointer"}},s8=["onMouseenter","onMouseleave"],r8=["onClick"],i8=["onClick"],o8=["onClick"],a8=["onSubmit"],l8=["onKeydown","onUpdate:modelValue"],u8=v("span",{class:"bi bi-plus"},null,-1),c8=[u8],d8={class:"lang"},f8=v("i",{class:"bi bi-translate",style:{"margin-right":"0.5rem"}},null,-1),p8=["value"],h8=fe({__name:"TabNav",props:{reRender:Function},setup(e){const t=e,n=W(-1),s=W(""),r=W(null);function i(d){O.selectedTab==d||a(),O.selectedTab=d}function o(d){n.value=d,s.value=O.tabs[d].name,tt(()=>r.value[0].focus())}function a(){n.value=-1,s.value=""}function l(d){O.addTab("New Tab")}async function u(d){confirm("Are you sure to delete Tab: "+d.name)&&(Object.keys(O.tabs).length==1&&await O.addTab("Tab1"),await O.removeTab(d.id))}const c=Je({});W(-1);const f=["fr","en"];return(d,_)=>(m(),w("nav",null,[v("div",n8,[(m(!0),w(ie,null,Oe(p(O).tabs,h=>(m(),w("div",{class:"d-flex d-row me-2",onMouseenter:E=>p(c)[h.id]=!0,onMouseleave:E=>p(c)[h.id]=!1},[n.value!=h.id?(m(),w(ie,{key:0},[H(Ye,{message:"main.menu.rename_tab_tooltip"},{default:Ce(()=>[v("i",{onClick:E=>o(h.id),class:Ie(["bi bi-pencil me-1 tab-icon hover-light",p(c)[h.id]&&p(O).selectedTab==h.id?"":"hidden"]),style:{"font-size":"10px"}},null,10,r8)]),_:2},1024),v("div",{class:Ie(["tab-button",h.id==p(O).selectedTab?" active":""]),onClick:E=>i(h.id)},[v("span",null,Q(h.name),1)],10,i8),H(Ye,{message:"main.menu.delete_tab_tooltip"},{default:Ce(()=>[v("i",{onClick:E=>u(h),class:Ie(["btn-icon bi bi-x tab-icon hover-light",p(c)[h.id]?"":"hidden"]),style:{"font-size":"15px"}},null,10,o8)]),_:2},1024)],64)):(m(),w("div",{key:1,class:Ie(["tab-button",h.id==p(O).selectedTab?" active":""])},[v("form",{onSubmit:je(a,["stop","prevent"])},[yt(v("input",{onFocusout:a,onKeydown:st(a,["escape"]),type:"text",class:"text-input","onUpdate:modelValue":E=>h.name=E,ref_for:!0,ref_key:"inputElem",ref:r},null,40,l8),[[Qt,h.name]])],40,a8)],2))],40,s8))),256)),H(Ye,{message:"main.menu.add_tab_tooltip"},{default:Ce(()=>[v("button",{class:"tab-icon hover-light ps-1 pe-1",onClick:l},c8)]),_:1}),v("div",d8,[f8,yt(v("select",{"onUpdate:modelValue":_[0]||(_[0]=h=>d.$i18n.locale=h),onChange:_[1]||(_[1]=h=>t.reRender())},[(m(),w(ie,null,Oe(f,(h,E)=>v("option",{key:`Lang${E}`,value:h},Q(h.toUpperCase()),9,p8)),64))],544),[[tm,d.$i18n.locale]])])])]))}}),vd=e=>(mt("data-v-4920678c"),e=e(),_t(),e),m8={class:"d-flex flex-row m-0 p-0 overflow-hidden"},_8={key:0},g8={key:1,class:"w-100"},v8=vd(()=>v("div",{class:"custom-hr"},null,-1)),y8={key:2,class:"loading"},b8=vd(()=>v("i",{class:"spinner-border",role:"status"},null,-1)),w8=vd(()=>v("span",{class:"ms-1"},"Loading...",-1)),E8=[b8,w8],S8=fe({__name:"PanopticView",setup(e){const t=W(null),n=W(null),s=W(400),r=P(()=>{var c;return s.value-(((c=n.value)==null?void 0:c.clientHeight)??0)}),i=P(()=>{var c;return(c=t.value)==null?void 0:c.filteredImages.map(f=>f.id)});Ve(()=>{tt(()=>{window.addEventListener("resize",o),o()}),window.addEventListener("keydown",c=>{c.key=="Control"&&(jt.ctrl=!0),c.key=="Alt"&&(jt.alt=!0),c.key=="Shift"&&(jt.shift=!0)}),window.addEventListener("keyup",c=>{c.key=="Control"&&(jt.ctrl=!1),c.key=="Alt"&&(jt.alt=!1),c.key=="Shift"&&(jt.shift=!1)}),window.addEventListener("mousemove",c=>{jt.ctrl=c.ctrlKey,jt.alt=c.altKey,jt.shift=c.shiftKey})}),Zi(()=>{window.removeEventListener("resize",o)});function o(){s.value=window.innerHeight}function a(){O.showModal(sn.EXPORT,i)}let l=W(0);function u(){l.value+=1}return(c,f)=>(m(),w("div",{id:"panoptic",key:p(l)},[v("div",m8,[p(O).isLoaded?(m(),w("div",_8,[H(MD,{onExport:f[0]||(f[0]=d=>a())})])):F("",!0),p(O).isLoaded?(m(),w("div",g8,[v("div",{class:"ms-3",ref_key:"navElem",ref:n},[H(h8,{"re-render":u})],512),v8,p(O).isLoaded&&p(O).tagTrees?(m(),_e(t8,{key:0,tab:p(O).tabs[p(O).selectedTab],height:p(r),ref_key:"mainViewRef",ref:t},null,8,["tab","height"])):F("",!0)])):(m(),w("div",y8,E8))]),H(xV,{id:p(sn).IMAGE},null,8,["id"]),H(KV,{id:p(sn).PROPERTY},null,8,["id"]),H(vU,{id:p(sn).SHA1PILE},null,8,["id"]),H(PU,{id:p(sn).FOLDERTOPROP},null,8,["id"]),H(AU,{id:p(sn).EXPORT},null,8,["id"])]))}}),T8=$e(S8,[["__scopeId","data-v-4920678c"]]),I8={class:"d-flex flex-row"},k8=v("div",{class:"m-5",style:{width:"200px"}},null,-1),O8=fe({__name:"TestView",setup(e){var t=new Image;t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=";const n=W("Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.");W(!1),W(null),W(null),W(0),W(0),Je({x:100,y:100,h:100,w:100,active:!1});const s=Je([1,2,3,4,5].map(i=>({id:i,size:50})));function r(i){console.log(i)}return(i,o)=>(m(),w(ie,null,[v("div",I8,[(m(!0),w(ie,null,Oe(s,(a,l)=>(m(),w("div",{class:"p-2 resize-col",style:ye({width:a.size+"px"}),onResize:r,draggable:"true"},Q(a.id),37))),256))]),H(ud,{tag:"p",contenteditable:!0,modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),"no-nl":!1,"no-html":!0,"onUpdate:height":r},null,8,["modelValue"]),v("div",null,[v("p",null,Q(n.value),1)]),k8],64))}}),x8=d1({history:xE("/"),routes:[{path:"/",name:"compute",component:T8},{path:"/test",name:"test",component:O8}]}),A8=eE({legacy:!1,locale:"fr",fallbackLocale:"en",messages:v0}),yd=l0(dx);yd.use(x8);yd.use(A8);yd.mount("#app")});export default C8();
