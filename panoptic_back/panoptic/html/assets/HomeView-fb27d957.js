import{d as $,u as C,r as x,c as j,a as p,b as e,t as l,w as M,v as O,n as D,M as I,o as n,p as w,e as k,_ as y,F as S,f as L,g as N,h as F,i as B,j as f,k as b,l as g,m as H,q as P,s as T,D as z}from"./index-be9fc92f.js";const V=s=>(w("data-v-b99ddb7a"),s=s(),k(),s),A={class:""},R={class:"mb-3"},q={class:"d-flex text-start input mb-2"},U={class:"info"},G={key:0},J={key:1,class:"text-placeholder"},K=V(()=>e("i",{class:"bi bi-folder"},null,-1)),Q=[K],W={class:"d-flex text-start input"},X={class:"info"},Y={class:"flex-grow-1 value text-dim"},Z={class:"d-flex mt-2"},ee=V(()=>e("div",{class:"flex-grow-1"},null,-1)),te=$({__name:"Create",emits:["cancel","create"],setup(s,{emit:a}){const r=C(),u=a,i=x(""),d=x(""),m=j(()=>i.value!=""&&d.value!="");function o(t){t&&(i.value=t)}function _(){r.showModal(I.FOLDERSELECTION,{callback:o,mode:"create"})}return(t,c)=>(n(),p("div",A,[e("h3",R,l(t.$t("main.home.create_title")),1),e("div",q,[e("div",U,l(t.$t("main.home.label.folder")),1),e("div",{class:"flex-grow-1 value text-dim",style:{cursor:"pointer"},onClick:_},[i.value!=""?(n(),p("span",G,l(i.value),1)):(n(),p("span",J,l(t.$t("main.home.label.path_placeholder")),1))]),e("div",{class:"folder",style:{cursor:"pointer"},onClick:_},Q)]),e("div",W,[e("div",X,l(t.$t("main.home.label.name")),1),e("div",Y,[M(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=h=>d.value=h),placeholder:"project_name",style:{width:"100%"}},null,512),[[O,d.value]])])]),e("div",Z,[ee,e("div",{class:"btn-grey hover-grey",onClick:c[1]||(c[1]=h=>u("cancel"))},l(t.$t("main.home.label.cancel")),1),e("div",{class:D(["ms-2",m.value?"btn-blue":"btn-grey text-dim"]),onClick:c[2]||(c[2]=h=>u("create",{path:i.value,name:d.value}))},l(t.$t("main.home.label.create")),3)])]))}});const se=y(te,[["__scopeId","data-v-b99ddb7a"]]),E=s=>(w("data-v-3db3d89b"),s=s(),k(),s),oe={class:"create-option d-flex"},ae=E(()=>e("div",{class:"flex-grow-1"},[e("h6",{class:"create-title m-0"},"CrÃ©er un nouveau projet"),e("span",{class:"create-explanation"},"CrÃ©er un nouveau projet panotpic dans un dossier.")],-1)),ne=E(()=>e("div",{class:"flex-grow-1"},[e("h6",{class:"create-title m-0"},"Importer un projet"),e("span",{class:"create-explanation"},"Choisissez un dossier Panoptic existant.")],-1)),ie=$({__name:"Options",emits:["create","import"],setup(s,{emit:a}){const r=C(),u=a;function i(m){m&&u("import",m)}function d(){r.showModal(I.FOLDERSELECTION,{callback:i,mode:"import"})}return(m,o)=>(n(),p(S,null,[e("div",oe,[ae,e("div",{class:"create-btn highlight",onClick:o[0]||(o[0]=_=>u("create"))},"CrÃ©er")]),e("div",{class:"create-option d-flex"},[ne,e("div",{class:"create-btn",onClick:d},"Importer")])],64))}});const ce=y(ie,[["__scopeId","data-v-3db3d89b"]]),v=s=>(w("data-v-8a4f96c3"),s=s(),k(),s),le={class:"window d-flex"},re={key:0,class:"project-menu"},de={class:"d-flex"},_e=["onClick"],pe={class:"m-0"},ue={class:"m-0 p-0 text-wrap text-break dimmed-2",style:{"font-size":"13px"}},me={class:"project-option flex-shrink-0"},ve=v(()=>e("i",{class:"bi bi-three-dots-vertical"},null,-1)),he={class:"text-start"},fe=["onClick"],be=v(()=>e("i",{class:"bi bi-trash me-1"},null,-1)),xe={class:"main-menu flex-grow-1"},$e=v(()=>e("div",{class:"icon"},"ðŸ‘€",-1)),Ce=v(()=>e("h1",{class:"m-0 p-0"},"Panoptic",-1)),we=v(()=>e("h6",{class:"dimmed-2"},"Version pre-2.0",-1)),ke={class:"create-menu mt-5 pt-5"},ye=$({__name:"HomeView",setup(s){const a=C();L();const r=x(0),u=j(()=>Array.isArray(a.data.status.projects)&&a.data.status.projects.length>0);function i(o){return o.replaceAll("-","â€‘")}function d(o){o.path&&o.name&&a.createProject(o.path,o.name)}function m(o){a.importProject(o)}return N(()=>{a.isProjectLoaded&&F.push("/view")}),(o,_)=>(n(),p("div",le,[u.value?(n(),p("div",re,[(n(!0),p(S,null,B(f(a).data.status.projects,t=>(n(),p("div",de,[e("div",{class:"project flex-grow-1 overflow-hidden",onClick:c=>f(a).loadProject(t.path)},[e("h5",pe,l(t.name),1),e("div",ue,l(i(t.path)),1)],8,_e),e("div",me,[H(z,null,{button:P(()=>[ve]),popup:P(({hide:c})=>[e("div",he,[e("div",{onClick:h=>{f(a).deleteProject(t.path),c()},class:"m-1 base-hover p-1"},[be,T("delete")],8,fe)])]),_:2},1024)])]))),256))])):b("",!0),e("div",xe,[$e,Ce,we,e("div",ke,[r.value==0?(n(),g(ce,{key:0,onCreate:_[0]||(_[0]=t=>r.value=1),onImport:m})):b("",!0),r.value==1?(n(),g(se,{key:1,onCancel:_[1]||(_[1]=t=>r.value=0),onCreate:d})):b("",!0)])])]))}});const Pe=y(ye,[["__scopeId","data-v-8a4f96c3"]]);export{Pe as default};
