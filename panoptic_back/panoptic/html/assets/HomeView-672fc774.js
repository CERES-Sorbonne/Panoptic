import{d as D,u as U,r as $,c as k,a as i,b as e,t as r,e as w,w as P,v as E,n as M,M as L,o as s,g as B,_ as F,F as N,f as G,h as f,i as A,j as H,k as J,l as K,m as T,p as I,q,s as Q,x as W,D as X,P as Y}from"./index-a6ac35e5.js";import{_ as Z}from"./Tutorial-4ef7f632.js";const ee={class:""},te={class:"mb-3"},se={class:"d-flex text-start input mb-2"},le={class:"info"},ne={key:0},oe={key:1,class:"text-placeholder"},ie={class:"d-flex text-start input"},ae={class:"info"},re={class:"flex-grow-1 value text-dim"},ue={class:"d-flex mt-2"},de=D({__name:"Create",emits:["cancel","create"],setup(j,{emit:t}){const b=U(),c=t,_=$(""),l=$(""),u=k(()=>_.value!=""&&l.value!="");function y(h){h&&(_.value=h)}function p(){b.showModal(L.FOLDERSELECTION,{callback:y,mode:"create"})}return(h,v)=>(s(),i("div",ee,[e("h3",te,r(h.$t("main.home.create_title")),1),e("div",se,[e("div",le,r(h.$t("main.home.label.folder")),1),e("div",{class:"flex-grow-1 value text-dim",style:{cursor:"pointer"},onClick:p},[_.value!=""?(s(),i("span",ne,r(_.value),1)):(s(),i("span",oe,r(h.$t("main.home.label.path_placeholder")),1))]),e("div",{id:"select-folder",class:"folder",style:{cursor:"pointer"},onClick:v[0]||(v[0]=x=>{p(),w(B)()})},v[4]||(v[4]=[e("i",{class:"bi bi-folder"},null,-1)]))]),e("div",ie,[e("div",ae,r(h.$t("main.home.label.name")),1),e("div",re,[P(e("input",{type:"text","onUpdate:modelValue":v[1]||(v[1]=x=>l.value=x),placeholder:"project_name",style:{width:"100%"}},null,512),[[E,l.value]])])]),e("div",ue,[v[5]||(v[5]=e("div",{class:"flex-grow-1"},null,-1)),e("div",{class:"btn-grey hover-grey",onClick:v[2]||(v[2]=x=>c("cancel"))},r(h.$t("main.home.label.cancel")),1),e("div",{id:"confirm-create",class:M(["ms-2",u.value?"btn-blue":"btn-grey text-dim"]),onClick:v[3]||(v[3]=x=>{c("create",{path:_.value,name:l.value}),w(B)()})},r(h.$t("main.home.label.create")),3)])]))}});const ce=F(de,[["__scopeId","data-v-9d2b8ee6"]]),pe={class:"create-option d-flex"},me={class:"flex-grow-1"},ve={class:"create-title m-0"},_e={class:"create-explanation"},he={class:"create-option d-flex"},ge={class:"flex-grow-1"},fe={class:"create-title m-0"},be={class:"create-explanation"},ye=D({__name:"Options",emits:["create","import"],setup(j,{emit:t}){const b=U(),c=t;function _(u){u&&c("import",u)}function l(){b.showModal(L.FOLDERSELECTION,{callback:_,mode:"import"})}return(u,y)=>(s(),i(N,null,[e("div",pe,[e("div",me,[e("h6",ve,r(u.$t("main.home.projects.create")),1),e("span",_e,r(u.$t("main.home.projects.create_details")),1)]),e("div",{id:"create-project",class:"create-btn highlight",onClick:y[0]||(y[0]=p=>{c("create"),w(B)()})},r(u.$t("main.home.projects.create_button")),1)]),e("div",he,[e("div",ge,[e("h6",fe,r(u.$t("main.home.projects.import")),1),e("span",be,r(u.$t("main.home.projects.import_details")),1)]),e("div",{class:"create-btn",onClick:l},r(u.$t("main.home.projects.import_button")),1)])],64))}});const $e=F(ye,[["__scopeId","data-v-45a6c858"]]),ke="/assets/duck-0f72bec4.svg";const z="ArrowUpArrowUpArrowDownArrowDownArrowLeftArrowRightArrowLeftArrowRightba",we={__name:"Egg",setup(j){let t="",b=$(-1100),c="";return window.addEventListener("keydown",async function(_){t+=_.key,z.slice(0,t.length)!==t&&(t=""),t.length===z.length&&(t===z&&(c="",b.value=-50,setTimeout(()=>{c="active",b.value=-100},1500)),t="")}),(_,l)=>(s(),i("div",{id:"duck-container",style:G({right:w(b).toString()+"vh"}),class:M(w(c))},l[0]||(l[0]=[e("img",{alt:"Duck",class:"logo",src:ke,style:{height:"100vh"}},null,-1)]),6))}},xe=F(we,[["__scopeId","data-v-0f098a42"]]),Ce={style:{"font-size":"20px"},class:"mb-1"},Pe={key:0,class:"d-flex"},Ee={key:2,style:{position:"relative",top:"7px"},class:"spinner-border spinner-border-sm text-primary ms-1",role:"status"},Me={class:"visually-hidden"},Le={key:1,class:"d-flex"},Fe={key:2,style:{position:"relative",top:"7px"},class:"spinner-border spinner-border-sm text-primary ms-1",role:"status"},je={class:"visually-hidden"},Se={key:2,class:"text-warning"},Ve=D({__name:"PluginForm",emits:["cancel"],setup(j,{expose:t,emit:b}){const c=U(),_=b;t({setPanopticMl:m});const l=$("github"),u=$(""),y=$(""),p=$(""),h=$(!1),v=k(()=>c.data.plugins.map(a=>a.name)),x=k(()=>!(p.value==""||v.value.includes(p.value))),C=k(()=>l.value=="github"&&u.value.length>0||l.value=="local"&&y.value.length>0),S=k(()=>C.value&&x.value),V=k(()=>C.value&&v.value.includes(p.value)?"main.home.plugins.error_name_not_unique":C.value?"main.home.plugins.require_unique_name":l.value=="github"?"main.home.plugins.require_url":"main.home.plugins.require_folder");function O(a){if(!a)return;y.value=a;let o=a.split("/"),g=o[o.length-1]||o[o.length-2];g&&(p.value=g)}function R(){c.showModal(L.FOLDERSELECTION,{callback:O})}function d(){if(l.value=="github"&&p.value==""){const a=u.value.split("/"),o=a[a.length-1],g=o.endsWith(".git")?o.slice(0,-4):o;p.value=g}}async function n(){h.value=!0,await H();const a={pluginName:p.value};l.value=="github"&&(a.gitUrl=u.value),l.value=="local"&&(a.path=y.value),await c.addPlugin(a),h.value=!1,_("cancel")}function m(){l.value="github",u.value="https://github.com/CERES-Sorbonne/PanopticML",p.value="PanopticML"}return(a,o)=>(s(),i("div",null,[e("div",Ce,[e("i",{class:M(["bi bi-github rounded bbb me-1",l.value=="github"?"selected":""]),onClick:o[0]||(o[0]=g=>l.value="github")},null,2),e("i",{class:M(["bi bi-folder rounded bbb me-1",l.value=="local"?"selected":""]),onClick:o[1]||(o[1]=g=>l.value="local")},null,2)]),l.value=="github"?(s(),i("div",Pe,[o[7]||(o[7]=e("i",{class:"bi bi-github me-2 ms-1",style:{"font-size":"19px"}},null,-1)),P(e("input",{type:"url","onUpdate:modelValue":o[2]||(o[2]=g=>u.value=g),placeholder:"Enter git url",style:{width:"250px"}},null,512),[[E,u.value]]),C.value?P((s(),i("input",{key:0,"onUpdate:modelValue":o[3]||(o[3]=g=>p.value=g),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2",onFocus:d},null,544)),[[E,p.value]]):f("",!0),S.value?(s(),i("div",{key:1,class:"bbb ms-2",onClick:n},r(a.$t("main.home.plugins.install")),1)):f("",!0),h.value?(s(),i("div",Ee,[e("span",Me,r(a.$t("main.home.plugins.load")),1)])):f("",!0)])):f("",!0),l.value=="local"?(s(),i("div",Le,[e("div",{class:"bbb pe-2 me-2",style:{"white-space":"nowrap"},onClick:R},o[8]||(o[8]=[e("i",{class:"bi bi-folder me-2 ms-1"},null,-1),A("Select")])),P(e("input",{type:"url","onUpdate:modelValue":o[4]||(o[4]=g=>y.value=g),placeholder:"Folder path",style:{width:"180px"}},null,512),[[E,y.value]]),C.value?P((s(),i("input",{key:0,"onUpdate:modelValue":o[5]||(o[5]=g=>p.value=g),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2"},null,512)),[[E,p.value]]):f("",!0),S.value?(s(),i("div",{key:1,class:"bbb ms-2",onClick:n},r(a.$t("main.home.plugins.install")),1)):f("",!0),h.value?(s(),i("div",Fe,[e("span",je,r(a.$t("main.home.plugins.load")),1)])):f("",!0)])):f("",!0),e("div",{class:M(["mt-2 mb-2",V.value.includes(".error")?"text-danger":""])},r(a.$t(V.value)),3),l.value!="github"||l.value=="github"&&!u.value.includes("github.com/CERES-Sorbonne")?(s(),i("div",Se,r(a.$t("main.home.plugins.warning")),1)):f("",!0),e("div",null,[e("div",{class:"bbb mt-2 text-center",style:{width:"70px"},onClick:o[6]||(o[6]=g=>_("cancel"))},"Cancel")])]))}});const Ie=F(Ve,[["__scopeId","data-v-8b26e035"]]),Ne={key:0},Ae={class:"window2 d-flex"},De={key:0,class:"project-menu"},Ue={class:"d-flex"},Oe=["onClick"],Re={class:"m-0"},Te={class:"m-0 p-0 text-wrap text-break dimmed-2",style:{"font-size":"13px"}},qe={class:"project-option flex-shrink-0"},ze={class:"text-start"},Be=["onClick"],He={key:1,class:"flex-grow-1"},We={class:"d-flex flex-column main-menu justify-content-center"},Ge={class:"icon"},Je={class:"lang"},Ke=["value"],Qe={id:"main-menu",class:"create-menu mt-5 pt-5"},Xe={class:"mt-5 plugin-preview"},Ye={class:"text-center"},Ze={key:0,class:"text-center"},et={class:"flex-grow-1 plugin-preview",style:{"overflow-y":"auto"}},tt={key:1},st={class:"ps-1"},lt=["onClick"],nt={key:2,class:"text-center mt-5 w-100"},ot=D({__name:"HomeView",setup(j){const t=U(),b=$(0),c=$(!1),_=$(null),l=$(!0),u=["fr","en"],y=k(()=>Array.isArray(t.data.status.projects)&&t.data.status.projects.length>0),p=k(()=>!y.value&&t.data.init),h=k(()=>!y.value&&t.data.init&&t.openModalId!==L.FIRSTMODAL),v=k(()=>t.data.plugins.some(d=>d.sourceUrl&&d.sourceUrl.includes("https://github.com/CERES-Sorbonne/PanopticML")));function x(d){return d.replaceAll("-","â€‘")}function C(d){d.path&&d.name&&t.createProject(d.path,d.name)}function S(d){t.importProject(d)}function V(d){t.delPlugin(d)}async function O(){c.value=!0,await H(),_.value.setPanopticMl()}async function R(){l.value=!1,await H(),l.value=!0}return J(()=>{t.isProjectLoaded&&K.push("/view"),p.value&&t.showModal(L.FIRSTMODAL)}),(d,n)=>l.value?(s(),i("div",Ne,[T(xe),h.value?(s(),I(Z,{key:0})):f("",!0),e("div",Ae,[y.value?(s(),i("div",De,[(s(!0),i(N,null,q(w(t).data.status.projects,m=>(s(),i("div",Ue,[e("div",{class:"project flex-grow-1 overflow-hidden",onClick:a=>w(t).loadProject(m.path)},[e("h5",Re,r(m.name),1),e("div",Te,r(x(m.path)),1)],8,Oe),e("div",qe,[T(X,null,{button:W(()=>n[5]||(n[5]=[e("i",{class:"bi bi-three-dots-vertical"},null,-1)])),popup:W(({hide:a})=>[e("div",ze,[e("div",{onClick:o=>{w(t).deleteProject(m.path),a()},class:"m-1 base-hover p-1"},n[6]||(n[6]=[e("i",{class:"bi bi-trash me-1"},null,-1),A("delete ")]),8,Be)])]),_:2},1024)])]))),256))])):f("",!0),w(t).data.init?(s(),i("div",He,[e("div",We,[e("div",null,[e("div",Ge,[T(Y)]),n[8]||(n[8]=e("h1",{class:"m-0 p-0"},"Panoptic",-1)),n[9]||(n[9]=e("h6",{class:"dimmed-2"},"Version 0.4",-1)),e("div",Je,[n[7]||(n[7]=e("i",{class:"bi bi-translate",style:{"margin-right":"0.5rem"}},null,-1)),P(e("select",{"onUpdate:modelValue":n[0]||(n[0]=m=>d.$i18n.locale=m),onChange:R},[(s(),i(N,null,q(u,(m,a)=>e("option",{key:`Lang${a}`,value:m},r(m.toUpperCase()),9,Ke)),64))],544),[[Q,d.$i18n.locale]])])]),e("div",Qe,[b.value==0?(s(),I($e,{key:0,onCreate:n[1]||(n[1]=m=>b.value=1),onImport:S})):f("",!0),b.value==1?(s(),I(ce,{key:1,onCancel:n[2]||(n[2]=m=>b.value=0),onCreate:C})):f("",!0)]),e("div",Xe,[e("h5",Ye,[n[10]||(n[10]=A(" Plugins ")),e("span",{class:"sb bi bi-plus",style:{position:"relative",top:"1px"},onClick:n[3]||(n[3]=m=>c.value=!0)})]),v.value?f("",!0):(s(),i("div",Ze,[e("span",{class:"bb ms-1 me-1",onClick:O},[n[11]||(n[11]=e("i",{class:"bi bi-lightbulb"},null,-1)),A(" "+r(d.$t("main.home.plugins.install_panoptic_ml")),1)])]))]),e("div",et,[c.value?(s(),I(Ie,{key:0,onCancel:n[4]||(n[4]=m=>c.value=!1),ref_key:"pluginFormElem",ref:_},null,512)):(s(),i("div",tt,[(s(!0),i(N,null,q(w(t).data.plugins,m=>(s(),i("div",st,[e("span",{onClick:a=>V(m.path),class:"bi bi-x base-hover"},null,8,lt),e("span",null,r(m.name),1)]))),256))]))])])])):(s(),i("div",nt,n[12]||(n[12]=[e("p",null,"Waiting for Server...",-1)])))])])):f("",!0)}});const rt=F(ot,[["__scopeId","data-v-058befcd"]]);export{rt as default};
