import{d as U,u as O,r as w,c as k,a as l,b as e,t as i,e as x,w as E,v as M,n as I,M as L,o as s,g as G,p as R,f as T,_ as F,F as A,h as Y,i as g,j as D,k as J,l as Z,m as ee,q as B,s as N,x as H,y as te,z as K,D as se,P as oe}from"./index-9c28c371.js";import{_ as le}from"./Tutorial-513a3a94.js";const Q=r=>(R("data-v-a138fd7d"),r=r(),T(),r),ne={class:""},ae={class:"mb-3"},ie={class:"d-flex text-start input mb-2"},ce={class:"info"},re={key:0},ue={key:1,class:"text-placeholder"},de=Q(()=>e("i",{class:"bi bi-folder"},null,-1)),pe=[de],_e={class:"d-flex text-start input"},ve={class:"info"},me={class:"flex-grow-1 value text-dim"},he={class:"d-flex mt-2"},ge=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),fe=U({__name:"Create",emits:["cancel","create"],setup(r,{emit:t}){const f=O(),d=t,v=w(""),o=w(""),c=k(()=>v.value!=""&&o.value!="");function b(m){m&&(v.value=m)}function p(){f.showModal(L.FOLDERSELECTION,{callback:b,mode:"create"})}return(m,y)=>(s(),l("div",ne,[e("h3",ae,i(m.$t("main.home.create_title")),1),e("div",ie,[e("div",ce,i(m.$t("main.home.label.folder")),1),e("div",{class:"flex-grow-1 value text-dim",style:{cursor:"pointer"},onClick:p},[v.value!=""?(s(),l("span",re,i(v.value),1)):(s(),l("span",ue,i(m.$t("main.home.label.path_placeholder")),1))]),e("div",{id:"select-folder",class:"folder",style:{cursor:"pointer"},onClick:y[0]||(y[0]=C=>{p(),x(G)()})},pe)]),e("div",_e,[e("div",ve,i(m.$t("main.home.label.name")),1),e("div",me,[E(e("input",{type:"text","onUpdate:modelValue":y[1]||(y[1]=C=>o.value=C),placeholder:"project_name",style:{width:"100%"}},null,512),[[M,o.value]])])]),e("div",he,[ge,e("div",{class:"btn-grey hover-grey",onClick:y[2]||(y[2]=C=>d("cancel"))},i(m.$t("main.home.label.cancel")),1),e("div",{id:"confirm-create",class:I(["ms-2",c.value?"btn-blue":"btn-grey text-dim"]),onClick:y[3]||(y[3]=C=>{d("create",{path:v.value,name:o.value}),x(G)()})},i(m.$t("main.home.label.create")),3)])]))}});const be=F(fe,[["__scopeId","data-v-a138fd7d"]]),ye={class:"create-option d-flex"},$e={class:"flex-grow-1"},we={class:"create-title m-0"},ke={class:"create-explanation"},xe={class:"create-option d-flex"},Ce={class:"flex-grow-1"},Pe={class:"create-title m-0"},Se={class:"create-explanation"},Ee=U({__name:"Options",emits:["create","import"],setup(r,{emit:t}){const f=O(),d=t;function v(c){c&&d("import",c)}function o(){f.showModal(L.FOLDERSELECTION,{callback:v,mode:"import"})}return(c,b)=>(s(),l(A,null,[e("div",ye,[e("div",$e,[e("h6",we,i(c.$t("main.home.projects.create")),1),e("span",ke,i(c.$t("main.home.projects.create_details")),1)]),e("div",{id:"create-project",class:"create-btn highlight",onClick:b[0]||(b[0]=p=>{d("create"),x(G)()})},i(c.$t("main.home.projects.create_button")),1)]),e("div",xe,[e("div",Ce,[e("h6",Pe,i(c.$t("main.home.projects.import")),1),e("span",Se,i(c.$t("main.home.projects.import_details")),1)]),e("div",{class:"create-btn",onClick:o},i(c.$t("main.home.projects.import_button")),1)])],64))}});const Me=F(Ee,[["__scopeId","data-v-dc4965fd"]]),Ie="/assets/duck-0f72bec4.svg";const Le=r=>(R("data-v-a82a2918"),r=r(),T(),r),Fe=Le(()=>e("img",{alt:"Duck",class:"logo",src:Ie,style:{height:"100vh"}},null,-1)),je=[Fe],W="ArrowUpArrowUpArrowDownArrowDownArrowLeftArrowRightArrowLeftArrowRightba",Ve={__name:"Egg",setup(r){let t="",f=w(-1100),d="";return window.addEventListener("keydown",async function(v){t+=v.key,W.slice(0,t.length)!==t&&(t=""),t.length===W.length&&(t===W&&(d="",f.value=-50,setTimeout(()=>{d="active",f.value=-100},1500)),t="")}),(v,o)=>(s(),l("div",{id:"duck-container",style:Y({right:x(f).toString()+"vh"}),class:I(x(d))},je,6))}},Ne=F(Ve,[["__scopeId","data-v-a82a2918"]]),X=r=>(R("data-v-0ece9efe"),r=r(),T(),r),Ae={style:{"font-size":"20px"},class:"mb-1"},De={key:0,class:"d-flex"},Ue=X(()=>e("i",{class:"bi bi-github me-2 ms-1",style:{"font-size":"19px"}},null,-1)),Oe={key:2,style:{position:"relative",top:"7px"},class:"spinner-border spinner-border-sm text-primary ms-1",role:"status"},Re={class:"visually-hidden"},Te={key:1,class:"d-flex"},qe=X(()=>e("i",{class:"bi bi-folder me-2 ms-1"},null,-1)),ze={key:2,style:{position:"relative",top:"7px"},class:"spinner-border spinner-border-sm text-primary ms-1",role:"status"},Be={class:"visually-hidden"},He={key:2,class:"text-warning"},We=U({__name:"PluginForm",emits:["cancel"],setup(r,{expose:t,emit:f}){const d=O(),v=f;t({setPanopticMl:_});const o=w("github"),c=w(""),b=w(""),p=w(""),m=w(!1),y=k(()=>d.data.plugins.map(n=>n.name)),C=k(()=>!(p.value==""||y.value.includes(p.value))),P=k(()=>o.value=="github"&&c.value.length>0||o.value=="local"&&b.value.length>0),j=k(()=>P.value&&C.value),V=k(()=>P.value&&y.value.includes(p.value)?"main.home.plugins.error_name_not_unique":P.value?"main.home.plugins.require_unique_name":o.value=="github"?"main.home.plugins.require_url":"main.home.plugins.require_folder");function q(n){if(!n)return;b.value=n;let a=n.split("/"),h=a[a.length-1]||a[a.length-2];h&&(p.value=h)}function z(){d.showModal(L.FOLDERSELECTION,{callback:q})}function u(){if(o.value=="github"&&p.value==""){const n=c.value.split("/"),a=n[n.length-1],h=a.endsWith(".git")?a.slice(0,-4):a;p.value=h}}async function $(){m.value=!0,await J();const n={pluginName:p.value};o.value=="github"&&(n.gitUrl=c.value),o.value=="local"&&(n.path=b.value),await d.addPlugin(n),m.value=!1,v("cancel")}function _(){o.value="github",c.value="https://github.com/CERES-Sorbonne/PanopticML",p.value="PanopticML"}return(n,a)=>(s(),l("div",null,[e("div",Ae,[e("i",{class:I(["bi bi-github rounded bbb me-1",o.value=="github"?"selected":""]),onClick:a[0]||(a[0]=h=>o.value="github")},null,2),e("i",{class:I(["bi bi-folder rounded bbb me-1",o.value=="local"?"selected":""]),onClick:a[1]||(a[1]=h=>o.value="local")},null,2)]),o.value=="github"?(s(),l("div",De,[Ue,E(e("input",{type:"url","onUpdate:modelValue":a[2]||(a[2]=h=>c.value=h),placeholder:"Enter git url",style:{width:"250px"}},null,512),[[M,c.value]]),P.value?E((s(),l("input",{key:0,"onUpdate:modelValue":a[3]||(a[3]=h=>p.value=h),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2",onFocus:u},null,544)),[[M,p.value]]):g("",!0),j.value?(s(),l("div",{key:1,class:"bbb ms-2",onClick:$},i(n.$t("main.home.plugins.install")),1)):g("",!0),m.value?(s(),l("div",Oe,[e("span",Re,i(n.$t("main.home.plugins.load")),1)])):g("",!0)])):g("",!0),o.value=="local"?(s(),l("div",Te,[e("div",{class:"bbb pe-2 me-2",onClick:z},[qe,D("Select")]),E(e("input",{type:"url","onUpdate:modelValue":a[4]||(a[4]=h=>b.value=h),placeholder:"Folder path",style:{width:"180px"}},null,512),[[M,b.value]]),P.value?E((s(),l("input",{key:0,"onUpdate:modelValue":a[5]||(a[5]=h=>p.value=h),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2"},null,512)),[[M,p.value]]):g("",!0),j.value?(s(),l("div",{key:1,class:"bbb ms-2",onClick:$},i(n.$t("main.home.plugins.install")),1)):g("",!0),m.value?(s(),l("div",ze,[e("span",Be,i(n.$t("main.home.plugins.load")),1)])):g("",!0)])):g("",!0),e("div",{class:I(["mt-2 mb-2",V.value.includes(".error")?"text-danger":""])},i(n.$t(V.value)),3),o.value!="github"||o.value=="github"&&!c.value.includes("github.com/CERES-Sorbonne")?(s(),l("div",He,i(n.$t("main.home.plugins.warning")),1)):g("",!0),e("div",null,[e("div",{class:"bbb mt-2 text-center",style:{width:"70px"},onClick:a[6]||(a[6]=h=>v("cancel"))},"Cancel")])]))}});const Ge=F(We,[["__scopeId","data-v-0ece9efe"]]),S=r=>(R("data-v-74778545"),r=r(),T(),r),Je={key:0},Ke={class:"window2 d-flex"},Qe={key:0,class:"project-menu"},Xe={class:"d-flex"},Ye=["onClick"],Ze={class:"m-0"},et={class:"m-0 p-0 text-wrap text-break dimmed-2",style:{"font-size":"13px"}},tt={class:"project-option flex-shrink-0"},st=S(()=>e("i",{class:"bi bi-three-dots-vertical"},null,-1)),ot={class:"text-start"},lt=["onClick"],nt=S(()=>e("i",{class:"bi bi-trash me-1"},null,-1)),at={key:1,class:"flex-grow-1"},it={class:"d-flex flex-column main-menu justify-content-center"},ct={class:"icon"},rt=S(()=>e("h1",{class:"m-0 p-0"},"Panoptic",-1)),ut=S(()=>e("h6",{class:"dimmed-2"},"Version 0.4",-1)),dt={class:"lang"},pt=S(()=>e("i",{class:"bi bi-translate",style:{"margin-right":"0.5rem"}},null,-1)),_t=["value"],vt={id:"main-menu",class:"create-menu mt-5 pt-5"},mt={class:"mt-5 plugin-preview"},ht={class:"text-center"},gt={key:0,class:"text-center"},ft=S(()=>e("i",{class:"bi bi-lightbulb"},null,-1)),bt={class:"flex-grow-1 plugin-preview",style:{"overflow-y":"auto"}},yt={key:1},$t={class:"ps-1"},wt=["onClick"],kt={key:2,class:"text-center mt-5 w-100"},xt=S(()=>e("p",null,"Waiting for Server...",-1)),Ct=[xt],Pt=U({__name:"HomeView",setup(r){const t=O(),f=w(0),d=w(!1),v=w(null),o=w(!0),c=["fr","en"],b=k(()=>Array.isArray(t.data.status.projects)&&t.data.status.projects.length>0),p=k(()=>!b.value&&t.data.init),m=k(()=>!b.value&&t.data.init&&t.openModalId!==L.FIRSTMODAL),y=k(()=>t.data.plugins.some(u=>u.sourceUrl&&u.sourceUrl.includes("https://github.com/CERES-Sorbonne/PanopticML")));function C(u){return u.replaceAll("-","â€‘")}function P(u){u.path&&u.name&&t.createProject(u.path,u.name)}function j(u){t.importProject(u)}function V(u){t.delPlugin(u)}async function q(){d.value=!0,await J(),v.value.setPanopticMl()}async function z(){o.value=!1,await J(),o.value=!0}return Z(()=>{t.isProjectLoaded&&ee.push("/view"),p.value&&t.showModal(L.FIRSTMODAL)}),(u,$)=>o.value?(s(),l("div",Je,[B(Ne),m.value?(s(),N(le,{key:0})):g("",!0),e("div",Ke,[b.value?(s(),l("div",Qe,[(s(!0),l(A,null,H(x(t).data.status.projects,_=>(s(),l("div",Xe,[e("div",{class:"project flex-grow-1 overflow-hidden",onClick:n=>x(t).loadProject(_.path)},[e("h5",Ze,i(_.name),1),e("div",et,i(C(_.path)),1)],8,Ye),e("div",tt,[B(se,null,{button:K(()=>[st]),popup:K(({hide:n})=>[e("div",ot,[e("div",{onClick:a=>{x(t).deleteProject(_.path),n()},class:"m-1 base-hover p-1"},[nt,D("delete ")],8,lt)])]),_:2},1024)])]))),256))])):g("",!0),x(t).data.init?(s(),l("div",at,[e("div",it,[e("div",null,[e("div",ct,[B(oe)]),rt,ut,e("div",dt,[pt,E(e("select",{"onUpdate:modelValue":$[0]||($[0]=_=>u.$i18n.locale=_),onChange:z},[(s(),l(A,null,H(c,(_,n)=>e("option",{key:`Lang${n}`,value:_},i(_.toUpperCase()),9,_t)),64))],544),[[te,u.$i18n.locale]])])]),e("div",vt,[f.value==0?(s(),N(Me,{key:0,onCreate:$[1]||($[1]=_=>f.value=1),onImport:j})):g("",!0),f.value==1?(s(),N(be,{key:1,onCancel:$[2]||($[2]=_=>f.value=0),onCreate:P})):g("",!0)]),e("div",mt,[e("h5",ht,[D(" Plugins "),e("span",{class:"sb bi bi-plus",style:{position:"relative",top:"1px"},onClick:$[3]||($[3]=_=>d.value=!0)})]),y.value?g("",!0):(s(),l("div",gt,[e("span",{class:"bb ms-1 me-1",onClick:q},[ft,D(" "+i(u.$t("main.home.plugins.install_panoptic_ml")),1)])]))]),e("div",bt,[d.value?(s(),N(Ge,{key:0,onCancel:$[4]||($[4]=_=>d.value=!1),ref_key:"pluginFormElem",ref:v},null,512)):(s(),l("div",yt,[(s(!0),l(A,null,H(x(t).data.plugins,_=>(s(),l("div",$t,[e("span",{onClick:n=>V(_.path),class:"bi bi-x base-hover"},null,8,wt),e("span",null,i(_.name),1)]))),256))]))])])])):(s(),l("div",kt,Ct))])])):g("",!0)}});const Mt=F(Pt,[["__scopeId","data-v-74778545"]]);export{Mt as default};
