import{d as V,u as E,r as k,c as y,a as o,b as e,t as f,e as $,w as C,v as P,n as j,M as U,o as s,g as O,p as N,f as F,_ as L,F as S,h as g,i as D,j as W,k as G,l as I,m as B,q as J,s as H,D as K}from"./index-47576483.js";import{_ as Q}from"./Tutorial-9afa0ffc.js";const A=a=>(N("data-v-9d2b8ee6"),a=a(),F(),a),X={class:""},Y={class:"mb-3"},Z={class:"d-flex text-start input mb-2"},ee={class:"info"},te={key:0},se={key:1,class:"text-placeholder"},le=A(()=>e("i",{class:"bi bi-folder"},null,-1)),oe=[le],ae={class:"d-flex text-start input"},ne={class:"info"},ie={class:"flex-grow-1 value text-dim"},ce={class:"d-flex mt-2"},de=A(()=>e("div",{class:"flex-grow-1"},null,-1)),re=V({__name:"Create",emits:["cancel","create"],setup(a,{emit:i}){const m=E(),h=i,l=k(""),u=k(""),p=y(()=>l.value!=""&&u.value!="");function c(v){v&&(l.value=v)}function x(){m.showModal(U.FOLDERSELECTION,{callback:c,mode:"create"})}return(v,t)=>(s(),o("div",X,[e("h3",Y,f(v.$t("main.home.create_title")),1),e("div",Z,[e("div",ee,f(v.$t("main.home.label.folder")),1),e("div",{class:"flex-grow-1 value text-dim",style:{cursor:"pointer"},onClick:x},[l.value!=""?(s(),o("span",te,f(l.value),1)):(s(),o("span",se,f(v.$t("main.home.label.path_placeholder")),1))]),e("div",{id:"select-folder",class:"folder",style:{cursor:"pointer"},onClick:t[0]||(t[0]=d=>{x(),$(O)()})},oe)]),e("div",ae,[e("div",ne,f(v.$t("main.home.label.name")),1),e("div",ie,[C(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=d=>u.value=d),placeholder:"project_name",style:{width:"100%"}},null,512),[[P,u.value]])])]),e("div",ce,[de,e("div",{class:"btn-grey hover-grey",onClick:t[2]||(t[2]=d=>h("cancel"))},f(v.$t("main.home.label.cancel")),1),e("div",{id:"confirm-create",class:j(["ms-2",p.value?"btn-blue":"btn-grey text-dim"]),onClick:t[3]||(t[3]=d=>{h("create",{path:l.value,name:u.value}),$(O)()})},f(v.$t("main.home.label.create")),3)])]))}});const ue=L(re,[["__scopeId","data-v-9d2b8ee6"]]),R=a=>(N("data-v-f878743d"),a=a(),F(),a),pe={class:"create-option d-flex"},ve=R(()=>e("div",{class:"flex-grow-1"},[e("h6",{class:"create-title m-0"},"CrÃ©er un nouveau projet"),e("span",{class:"create-explanation"},"CrÃ©er un nouveau projet panoptic dans un dossier.")],-1)),_e=R(()=>e("div",{class:"flex-grow-1"},[e("h6",{class:"create-title m-0"},"Importer un projet"),e("span",{class:"create-explanation"},"Choisissez un dossier Panoptic existant.")],-1)),me=V({__name:"Options",emits:["create","import"],setup(a,{emit:i}){const m=E(),h=i;function l(p){p&&h("import",p)}function u(){m.showModal(U.FOLDERSELECTION,{callback:l,mode:"import"})}return(p,c)=>(s(),o(S,null,[e("div",pe,[ve,e("div",{id:"create-project",class:"create-btn highlight",onClick:c[0]||(c[0]=x=>{h("create"),$(O)()})},"CrÃ©er")]),e("div",{class:"create-option d-flex"},[_e,e("div",{class:"create-btn",onClick:u},"Importer")])],64))}});const he=L(me,[["__scopeId","data-v-f878743d"]]),T=a=>(N("data-v-f13397d5"),a=a(),F(),a),fe={style:{"font-size":"20px"},class:"mb-1"},be={key:0,class:"d-flex"},ge=T(()=>e("i",{class:"bi bi-github me-2",style:{"font-size":"19px"}},null,-1)),xe={key:1,class:"d-flex"},ye=T(()=>e("i",{class:"bi bi-folder me-2 ms-1"},null,-1)),$e=T(()=>e("div",{class:"bbb mt-2 text-center",style:{width:"70px"}},"Cancel",-1)),ke=[$e],we=V({__name:"PluginForm",emits:["cancel"],setup(a,{emit:i}){const m=E(),h=i,l=k("local"),u=k(""),p=k(""),c=k(""),x=y(()=>m.data.plugins.map(b=>b.name)),v=y(()=>!(c.value==""||x.value.includes(c.value))),t=y(()=>l.value=="github"&&u.value.length>0||l.value=="local"&&p.value.length>0),d=y(()=>t.value&&v.value),r=y(()=>t.value&&x.value.includes(c.value)?"Error: plugin name is already used":t.value?"Select unique plugin name":l.value=="github"?"Github path is required":"Select a folder");function w(b){if(!b)return;p.value=b;let n=b.split("/"),_=n[n.length-1]||n[n.length-2];_&&(c.value=_)}function q(){m.showModal(U.FOLDERSELECTION,{callback:w})}async function z(){const b={pluginName:c.value};l.value=="github"&&(b.gitUrl=u.value),l.value=="local"&&(b.path=p.value),await m.addPlugin(b),h("cancel")}return(b,n)=>(s(),o("div",null,[e("div",fe,[e("i",{class:j(["bi bi-folder rounded bbb me-1",l.value=="local"?"selected":""]),onClick:n[0]||(n[0]=_=>l.value="local")},null,2),e("i",{class:j(["bi bi-github rounded bbb",l.value=="github"?"selected":""]),onClick:n[1]||(n[1]=_=>l.value="github")},null,2)]),l.value=="github"?(s(),o("div",be,[ge,C(e("input",{type:"url","onUpdate:modelValue":n[2]||(n[2]=_=>u.value=_),placeholder:"Enter git url",style:{width:"250px"}},null,512),[[P,u.value]]),t.value?C((s(),o("input",{key:0,"onUpdate:modelValue":n[3]||(n[3]=_=>c.value=_),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2"},null,512)),[[P,c.value]]):g("",!0),d.value?(s(),o("div",{key:1,class:"bbb ms-2",onClick:z},"Load")):g("",!0)])):g("",!0),l.value=="local"?(s(),o("div",xe,[e("div",{class:"bbb pe-2 me-2",onClick:q},[ye,D("Select")]),C(e("input",{type:"url","onUpdate:modelValue":n[4]||(n[4]=_=>p.value=_),placeholder:"Folder path",style:{width:"200px"}},null,512),[[P,p.value]]),t.value?C((s(),o("input",{key:0,"onUpdate:modelValue":n[5]||(n[5]=_=>c.value=_),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2"},null,512)),[[P,c.value]]):g("",!0),d.value?(s(),o("div",{key:1,class:"bbb ms-2",onClick:z},"Load")):g("",!0)])):g("",!0),e("div",{class:j(["mt-2 mb-2",r.value.startsWith("Error")?"text-danger":""])},f(r.value),3),e("div",{onClick:n[6]||(n[6]=_=>h("cancel"))},ke)]))}});const Ce=L(we,[["__scopeId","data-v-f13397d5"]]),M=a=>(N("data-v-d403517b"),a=a(),F(),a),Pe={class:"window2 d-flex"},Ie={key:0,class:"project-menu"},je={class:"d-flex"},Se=["onClick"],Ve={class:"m-0"},Ee={class:"m-0 p-0 text-wrap text-break dimmed-2",style:{"font-size":"13px"}},Ne={class:"project-option flex-shrink-0"},Fe=M(()=>e("i",{class:"bi bi-three-dots-vertical"},null,-1)),Le={class:"text-start"},Me=["onClick"],Oe=M(()=>e("i",{class:"bi bi-trash me-1"},null,-1)),De={key:1,class:"flex-grow-1"},Ue={class:"d-flex flex-column main-menu justify-content-center"},Te=M(()=>e("div",null,[e("div",{class:"icon"},"ðŸ‘€"),e("h1",{class:"m-0 p-0"},"Panoptic"),e("h6",{class:"dimmed-2"},"Version 0.3")],-1)),qe={id:"main-menu",class:"create-menu mt-5 pt-5"},ze={class:"mt-5 plugin-preview"},Be={class:"text-center"},He={class:"flex-grow-1 plugin-preview",style:{"overflow-y":"auto"}},Ae={key:1},Re={class:"ps-1"},We=["onClick"],Ge={key:2,class:"text-center mt-5 w-100"},Je=M(()=>e("p",null,"Waiting for Server...",-1)),Ke=[Je],Qe=V({__name:"HomeView",setup(a){const i=E(),m=k(0),h=k(!1),l=y(()=>Array.isArray(i.data.status.projects)&&i.data.status.projects.length>0),u=y(()=>!l.value&&i.data.init);function p(t){return t.replaceAll("-","â€‘")}function c(t){t.path&&t.name&&i.createProject(t.path,t.name)}function x(t){i.importProject(t)}function v(t){i.delPlugin(t)}return W(()=>{i.isProjectLoaded&&G.push("/view")}),(t,d)=>(s(),o(S,null,[u.value?(s(),I(Q,{key:0})):g("",!0),e("div",Pe,[l.value?(s(),o("div",Ie,[(s(!0),o(S,null,B($(i).data.status.projects,r=>(s(),o("div",je,[e("div",{class:"project flex-grow-1 overflow-hidden",onClick:w=>$(i).loadProject(r.path)},[e("h5",Ve,f(r.name),1),e("div",Ee,f(p(r.path)),1)],8,Se),e("div",Ne,[J(K,null,{button:H(()=>[Fe]),popup:H(({hide:w})=>[e("div",Le,[e("div",{onClick:q=>{$(i).deleteProject(r.path),w()},class:"m-1 base-hover p-1"},[Oe,D("delete ")],8,Me)])]),_:2},1024)])]))),256))])):g("",!0),$(i).data.init?(s(),o("div",De,[e("div",Ue,[Te,e("div",qe,[m.value==0?(s(),I(he,{key:0,onCreate:d[0]||(d[0]=r=>m.value=1),onImport:x})):g("",!0),m.value==1?(s(),I(ue,{key:1,onCancel:d[1]||(d[1]=r=>m.value=0),onCreate:c})):g("",!0)]),e("div",ze,[e("h5",Be,[D(" Plugins "),e("span",{class:"sb bi bi-plus",style:{position:"relative",top:"1px"},onClick:d[2]||(d[2]=r=>h.value=!0)})])]),e("div",He,[h.value?(s(),I(Ce,{key:0,onCancel:d[3]||(d[3]=r=>h.value=!1)})):(s(),o("div",Ae,[(s(!0),o(S,null,B($(i).data.plugins,r=>(s(),o("div",Re,[e("span",{onClick:w=>v(r.path),class:"bi bi-x base-hover"},null,8,We),e("span",null,f(r.name),1)]))),256))]))])])])):(s(),o("div",Ge,Ke))])],64))}});const Ze=L(Qe,[["__scopeId","data-v-d403517b"]]);export{Ze as default};
