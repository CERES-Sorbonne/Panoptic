import{d as j,u as I,r as y,c as k,a as o,b as e,t as u,e as $,w as E,v as L,n as S,M as U,o as l,g as W,_ as V,F as M,f as K,h as g,i as C,j as R,k as F,l as T,D as G,m as Q,p as X,q as A,s as O,x as Y,P as Z}from"./index-952241fc.js";import{_ as ee}from"./Tutorial-21c1846a.js";const te={class:""},se={class:"mb-3"},le={class:"d-flex text-start input mb-2"},ne={class:"info"},oe={key:0},ie={key:1,class:"text-placeholder"},ae={class:"d-flex text-start input"},ue={class:"info"},re={class:"flex-grow-1 value text-dim"},de={class:"d-flex mt-2"},ce=j({__name:"Create",emits:["cancel","create"],setup(P,{emit:s}){const _=I(),p=s,v=y(""),r=y(""),i=k(()=>v.value!=""&&r.value!="");function d(f){f&&(v.value=f)}function h(){_.showModal(U.FOLDERSELECTION,{callback:d,mode:"create"})}return(f,b)=>(l(),o("div",te,[e("h3",se,u(f.$t("main.home.create_title")),1),e("div",le,[e("div",ne,u(f.$t("main.home.label.folder")),1),e("div",{class:"flex-grow-1 value text-dim",style:{cursor:"pointer"},onClick:h},[v.value!=""?(l(),o("span",oe,u(v.value),1)):(l(),o("span",ie,u(f.$t("main.home.label.path_placeholder")),1))]),e("div",{id:"select-folder",class:"folder",style:{cursor:"pointer"},onClick:b[0]||(b[0]=w=>{h(),$(W)()})},b[4]||(b[4]=[e("i",{class:"bi bi-folder"},null,-1)]))]),e("div",ae,[e("div",ue,u(f.$t("main.home.label.name")),1),e("div",re,[E(e("input",{type:"text","onUpdate:modelValue":b[1]||(b[1]=w=>r.value=w),placeholder:"project_name",style:{width:"100%"}},null,512),[[L,r.value]])])]),e("div",de,[b[5]||(b[5]=e("div",{class:"flex-grow-1"},null,-1)),e("div",{class:"btn-grey hover-grey",onClick:b[2]||(b[2]=w=>p("cancel"))},u(f.$t("main.home.label.cancel")),1),e("div",{id:"confirm-create",class:S(["ms-2",i.value?"btn-blue":"btn-grey text-dim"]),onClick:b[3]||(b[3]=w=>{p("create",{path:v.value,name:r.value}),$(W)()})},u(f.$t("main.home.label.create")),3)])]))}});const pe=V(ce,[["__scopeId","data-v-a138fd7d"]]),ve={class:"create-option d-flex"},me={class:"flex-grow-1"},_e={class:"create-title m-0"},he={class:"create-explanation"},ge={class:"create-option d-flex"},be={class:"flex-grow-1"},fe={class:"create-title m-0"},ye={class:"create-explanation"},$e=j({__name:"Options",emits:["create","import"],setup(P,{emit:s}){const _=I(),p=s;function v(i){i&&p("import",i)}function r(){_.showModal(U.FOLDERSELECTION,{callback:v,mode:"import"})}return(i,d)=>(l(),o(M,null,[e("div",ve,[e("div",me,[e("h6",_e,u(i.$t("main.home.projects.create")),1),e("span",he,u(i.$t("main.home.projects.create_details")),1)]),e("div",{id:"create-project",class:"create-btn highlight",onClick:d[0]||(d[0]=h=>{p("create"),$(W)()})},u(i.$t("main.home.projects.create_button")),1)]),e("div",ge,[e("div",be,[e("h6",fe,u(i.$t("main.home.projects.import")),1),e("span",ye,u(i.$t("main.home.projects.import_details")),1)]),e("div",{class:"create-btn",onClick:r},u(i.$t("main.home.projects.import_button")),1)])],64))}});const ke=V($e,[["__scopeId","data-v-dc4965fd"]]),we="/assets/duck-0f72bec4.svg";const H="ArrowUpArrowUpArrowDownArrowDownArrowLeftArrowRightArrowLeftArrowRightba",xe={__name:"Egg",setup(P){let s="",_=y(-1100),p="";return window.addEventListener("keydown",async function(v){s+=v.key,H.slice(0,s.length)!==s&&(s=""),s.length===H.length&&(s===H&&(p="",_.value=-50,setTimeout(()=>{p="active",_.value=-100},1500)),s="")}),(v,r)=>(l(),o("div",{id:"duck-container",style:K({right:$(_).toString()+"vh"}),class:S($(p))},r[0]||(r[0]=[e("img",{alt:"Duck",class:"logo",src:we,style:{height:"100vh"}},null,-1)]),6))}},Ce=V(xe,[["__scopeId","data-v-a82a2918"]]),Pe={style:{"font-size":"20px"},class:"mb-1"},Ee={key:0,class:"d-flex"},Le={key:2,style:{position:"relative",top:"7px"},class:"spinner-border spinner-border-sm text-primary ms-1",role:"status"},Me={class:"visually-hidden"},Fe={key:1,class:"d-flex"},Se={key:2,style:{position:"relative",top:"7px"},class:"spinner-border spinner-border-sm text-primary ms-1",role:"status"},Ue={class:"visually-hidden"},je={key:2,class:"text-warning"},Ie=j({__name:"PluginForm",emits:["cancel"],setup(P,{expose:s,emit:_}){const p=I(),v=_;s({setPanopticMl:n});const r=y("github"),i=y(""),d=y(""),h=y(""),f=y(!1),b=k(()=>p.data.plugins.map(t=>t.name)),w=k(()=>!(h.value==""||b.value.includes(h.value))),x=k(()=>r.value=="github"&&i.value.length>0||r.value=="local"&&d.value.length>0),D=k(()=>x.value&&w.value),N=k(()=>x.value&&b.value.includes(h.value)?"main.home.plugins.error_name_not_unique":x.value?"main.home.plugins.require_unique_name":r.value=="github"?"main.home.plugins.require_url":"main.home.plugins.require_folder");function q(t){if(!t)return;d.value=t;let a=t.split("/"),m=a[a.length-1]||a[a.length-2];m&&(h.value=m)}function z(){p.showModal(U.FOLDERSELECTION,{callback:q})}function B(){if(r.value=="github"&&h.value==""){const t=i.value.split("/"),a=t[t.length-1],m=a.endsWith(".git")?a.slice(0,-4):a;h.value=m}}async function c(){f.value=!0,await R();const t={pluginName:h.value};r.value=="github"&&(t.gitUrl=i.value),r.value=="local"&&(t.path=d.value),await p.addPlugin(t),f.value=!1,v("cancel")}function n(){r.value="github",i.value="https://github.com/CERES-Sorbonne/PanopticML",h.value="PanopticML"}return(t,a)=>(l(),o("div",null,[e("div",Pe,[e("i",{class:S(["bi bi-github rounded bbb me-1",r.value=="github"?"selected":""]),onClick:a[0]||(a[0]=m=>r.value="github")},null,2),e("i",{class:S(["bi bi-folder rounded bbb me-1",r.value=="local"?"selected":""]),onClick:a[1]||(a[1]=m=>r.value="local")},null,2)]),r.value=="github"?(l(),o("div",Ee,[a[7]||(a[7]=e("i",{class:"bi bi-github me-2 ms-1",style:{"font-size":"19px"}},null,-1)),E(e("input",{type:"url","onUpdate:modelValue":a[2]||(a[2]=m=>i.value=m),placeholder:"Enter git url",style:{width:"250px"}},null,512),[[L,i.value]]),x.value?E((l(),o("input",{key:0,"onUpdate:modelValue":a[3]||(a[3]=m=>h.value=m),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2",onFocus:B},null,544)),[[L,h.value]]):g("",!0),D.value?(l(),o("div",{key:1,class:"bbb ms-2",onClick:c},u(t.$t("main.home.plugins.install")),1)):g("",!0),f.value?(l(),o("div",Le,[e("span",Me,u(t.$t("main.home.plugins.load")),1)])):g("",!0)])):g("",!0),r.value=="local"?(l(),o("div",Fe,[e("div",{class:"bbb pe-2 me-2",style:{"white-space":"nowrap"},onClick:z},a[8]||(a[8]=[e("i",{class:"bi bi-folder me-2 ms-1"},null,-1),C("Select")])),E(e("input",{type:"url","onUpdate:modelValue":a[4]||(a[4]=m=>d.value=m),placeholder:"Folder path",style:{width:"180px"}},null,512),[[L,d.value]]),x.value?E((l(),o("input",{key:0,"onUpdate:modelValue":a[5]||(a[5]=m=>h.value=m),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2"},null,512)),[[L,h.value]]):g("",!0),D.value?(l(),o("div",{key:1,class:"bbb ms-2",onClick:c},u(t.$t("main.home.plugins.install")),1)):g("",!0),f.value?(l(),o("div",Se,[e("span",Ue,u(t.$t("main.home.plugins.load")),1)])):g("",!0)])):g("",!0),e("div",{class:S(["mt-2 mb-2",N.value.includes(".error")?"text-danger":""])},u(t.$t(N.value)),3),r.value!="github"||r.value=="github"&&!i.value.includes("github.com/CERES-Sorbonne")?(l(),o("div",je,u(t.$t("main.home.plugins.warning")),1)):g("",!0),e("div",null,[e("div",{class:"bbb mt-2 text-center",style:{width:"70px"},onClick:a[6]||(a[6]=m=>v("cancel"))},"Cancel")])]))}});const Ve=V(Ie,[["__scopeId","data-v-67c81739"]]),De={class:"bb"},Ne={class:"p-2"},Ae={key:0,class:"bi bi-arrow-clockwise me-1"},Oe={key:1,class:"spinner-border spinner-border-sm text-primary",role:"status",style:{"margin-right":"5px"}},Re={key:2,class:"bi bi-check2 text-success me-1"},Te={key:3},qe={key:4},ze={style:{"max-width":"200px","word-break":"break-all"}},Be={class:"text-secondary"},He={key:0},We={class:"text-secondary"},Ge=j({__name:"PluginOptionsDropdown",props:{plugin:{}},setup(P){const s=I(),_=P,p=y(!1),v=y(!1);async function r(){p.value=!0,v.value=!1,await R();try{let i=await s.updatePlugin(_.plugin);v.value=i}catch{}p.value=!1}return(i,d)=>(l(),F(G,null,{button:T(()=>[e("div",null,[e("span",De,[C(u(_.plugin.name)+" ",1),d[1]||(d[1]=e("i",{class:"bi bi-three-dots-vertical"},null,-1))])])]),popup:T(()=>[e("div",Ne,[e("div",{class:"bb",onClick:d[0]||(d[0]=h=>$(s).delPlugin(_.plugin.path))},[d[2]||(d[2]=e("i",{class:"bi bi-trash me-1"},null,-1)),C(" "+u(i.$t("plugin.remove")),1)]),e("div",{class:"bb",onClick:r},[!p.value&&!v.value?(l(),o("i",Ae)):g("",!0),p.value&&!v.value?(l(),o("div",Oe,d[3]||(d[3]=[e("span",{class:"visually-hidden"},"Loading...",-1)]))):g("",!0),v.value?(l(),o("i",Re)):g("",!0),_.plugin.sourceUrl?(l(),o("span",Te,u(i.$t("plugin.update")),1)):(l(),o("span",qe,u(i.$t("plugin.update_local")),1))]),d[6]||(d[6]=e("div",{class:"custom-hr mt-1 mb-1"},null,-1)),e("div",ze,[e("div",null,[e("span",null,u(i.$t("plugin.path")),1),d[4]||(d[4]=e("br",null,null,-1)),e("span",Be,u(i.plugin.path),1)]),i.plugin.sourceUrl?(l(),o("div",He,[e("span",null,u(i.$t("plugin.source")),1),d[5]||(d[5]=e("br",null,null,-1)),e("span",We,u(i.plugin.sourceUrl),1)])):g("",!0)])])]),_:1}))}}),Je={key:0},Ke={class:"window2 d-flex"},Qe={key:0,class:"project-menu"},Xe={class:"d-flex"},Ye=["onClick"],Ze={class:"m-0"},et={class:"m-0 p-0 text-wrap text-break dimmed-2",style:{"font-size":"13px"}},tt={class:"project-option flex-shrink-0"},st={class:"text-start p-1"},lt=["onClick"],nt={class:"mt-1"},ot=["checked","onChange"],it={key:1,class:"flex-grow-1"},at={class:"d-flex flex-column main-menu justify-content-center"},ut={class:"icon"},rt={class:"lang"},dt=["value"],ct={id:"main-menu",class:"create-menu mt-5 pt-5"},pt={class:"mt-5 plugin-preview"},vt={class:"text-center"},mt={key:0,class:"text-center"},_t={class:"flex-grow-1 plugin-preview",style:{"overflow-y":"auto"}},ht={key:1},gt={style:{display:"inline-block"}},bt={key:2,class:"text-center mt-5 w-100"},ft=j({__name:"HomeView",setup(P){const s=I(),_=y(0),p=y(!1),v=y(null),r=y(!0),i=["fr","en"],d=k(()=>Array.isArray(s.data.status.projects)&&s.data.status.projects.length>0),h=k(()=>!d.value&&s.data.init),f=k(()=>!d.value&&s.data.init&&s.openModalId!==U.FIRSTMODAL),b=k(()=>s.data.plugins.some(c=>c.sourceUrl&&c.sourceUrl.includes("https://github.com/CERES-Sorbonne/PanopticML"))),w=k(()=>{const c={};return s.data.status.projects.forEach(n=>{c[n.path]={},s.data.plugins.forEach(t=>c[n.path][t.name]=!0),s.data.status.ignoredPlugins[n.path]&&s.data.status.ignoredPlugins[n.path].forEach(t=>{c[n.path][t]=!1})}),c});function x(c){return c.replaceAll("-","â€‘")}function D(c){c.path&&c.name&&s.createProject(c.path,c.name)}function N(c){s.importProject(c)}async function q(){p.value=!0,await R(),v.value.setPanopticMl()}async function z(){r.value=!1,await R(),r.value=!0}async function B(c,n,t){await s.updateIgnorePlugin(c,n,!t)}return Q(()=>{s.isProjectLoaded&&X.push("/view"),h.value&&s.showModal(U.FIRSTMODAL)}),(c,n)=>r.value?(l(),o("div",Je,[A(Ce),f.value?(l(),F(ee,{key:0})):g("",!0),e("div",Ke,[d.value?(l(),o("div",Qe,[(l(!0),o(M,null,O($(s).data.status.projects,t=>(l(),o("div",Xe,[e("div",{class:"project flex-grow-1 overflow-hidden",onClick:a=>$(s).loadProject(t.path)},[e("h5",Ze,u(t.name),1),e("div",et,u(x(t.path)),1)],8,Ye),e("div",tt,[A(G,null,{button:T(()=>n[5]||(n[5]=[e("div",{style:{position:"relative",top:"10px"}},[e("i",{class:"bb bi bi-three-dots-vertical"})],-1)])),popup:T(({hide:a})=>[e("div",st,[e("div",{onClick:m=>{$(s).deleteProject(t.path),a()},class:"bb"},n[6]||(n[6]=[e("i",{class:"bi bi-trash me-1"},null,-1),C("delete ")]),8,lt),n[7]||(n[7]=e("div",{style:{"border-top":"1px solid var(--border-color)",width:"100%"},class:"mt-1"},null,-1)),(l(!0),o(M,null,O($(s).data.plugins,m=>(l(),o("div",nt,[e("input",{type:"checkbox",class:"me-1",checked:w.value[t.path][m.name],onChange:J=>B(t.path,m.name,J.target.checked)},null,40,ot),C(u(m.name),1)]))),256))])]),_:2},1024)])]))),256))])):g("",!0),$(s).data.init?(l(),o("div",it,[e("div",at,[e("div",null,[e("div",ut,[A(Z)]),n[9]||(n[9]=e("h1",{class:"m-0 p-0"},"Panoptic",-1)),n[10]||(n[10]=e("h6",{class:"dimmed-2"},"Version 0.4",-1)),e("div",rt,[n[8]||(n[8]=e("i",{class:"bi bi-translate",style:{"margin-right":"0.5rem"}},null,-1)),E(e("select",{"onUpdate:modelValue":n[0]||(n[0]=t=>c.$i18n.locale=t),onChange:z},[(l(),o(M,null,O(i,(t,a)=>e("option",{key:`Lang${a}`,value:t},u(t.toUpperCase()),9,dt)),64))],544),[[Y,c.$i18n.locale]])])]),e("div",ct,[_.value==0?(l(),F(ke,{key:0,onCreate:n[1]||(n[1]=t=>_.value=1),onImport:N})):g("",!0),_.value==1?(l(),F(pe,{key:1,onCancel:n[2]||(n[2]=t=>_.value=0),onCreate:D})):g("",!0)]),e("div",pt,[e("h5",vt,[n[11]||(n[11]=C(" Plugins ")),e("span",{class:"sb bi bi-plus",style:{position:"relative",top:"1px"},onClick:n[3]||(n[3]=t=>p.value=!0)})]),b.value?g("",!0):(l(),o("div",mt,[e("span",{class:"bb ms-1 me-1",onClick:q},[n[12]||(n[12]=e("i",{class:"bi bi-lightbulb"},null,-1)),C(" "+u(c.$t("main.home.plugins.install_panoptic_ml")),1)])]))]),e("div",_t,[p.value?(l(),F(Ve,{key:0,onCancel:n[4]||(n[4]=t=>p.value=!1),ref_key:"pluginFormElem",ref:v},null,512)):(l(),o("div",ht,[(l(!0),o(M,null,O($(s).data.plugins,t=>(l(),o("div",gt,[A(Ge,{plugin:t},null,8,["plugin"])]))),256))]))])])])):(l(),o("div",bt,n[13]||(n[13]=[e("p",null,"Waiting for Server...",-1)])))])])):g("",!0)}});const kt=V(ft,[["__scopeId","data-v-007693ed"]]);export{kt as default};
