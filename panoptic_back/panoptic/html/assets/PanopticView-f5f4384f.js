import{d as P,S as Ue,u as he,V as re,A as Q,r as z,c as I,W as q,o as s,a as l,b as e,q as $,X as ke,t as y,i as w,w as pe,v as ge,e as _,Y as Ee,M as ne,y as b,Z as V,$ as we,s as x,a0 as Oe,n as H,Q as U,a1 as Se,j as te,a2 as He,p as X,f as Z,_ as j,D as oe,a3 as Ne,a4 as Ce,a5 as Pe,F as T,x as N,h as Y,a6 as be,a7 as Ve,g as xe,a8 as Be,a9 as Fe,aa as qe,ab as Ke,K as Qe,ac as We,ad as Ye,L as Xe,R as Ze,O as Je,ae as et,af as tt,ag as st,ah as De,l as ue,k as ee,ai as Le,aj as ot,ak as ie,al as se,am as at,an as nt,ao as lt,ap as it,aq as rt,ar as dt,as as ct,at as ce,au as ut,av as pt,aw as mt,ax as _t,ay as vt,m as ze,B as G,az as ht}from"./index-0851bac0.js";import{_ as gt}from"./Tutorial-0345291e.js";const ve={},le=u=>(X("data-v-78c05ef6"),u=u(),Z(),u),ft={class:"d-flex flex-row"},yt={key:1,class:"d-flex",style:{width:"150px"}},bt={class:"flex-grow-1"},$t={key:1,style:{"padding-top":"1px"}},kt=le(()=>e("i",{class:"bi bi-arrows-fullscreen"},null,-1)),wt={style:{width:"20px","margin-top":"2px"},class:"text-center"},xt=le(()=>e("i",{class:"bi bi-link-45deg"},null,-1)),St={class:"text-center",style:{width:"20px","margin-top":"2px"}},Ct=le(()=>e("i",{class:"bi bi-chevron-down"},null,-1)),Mt=le(()=>e("i",{class:"bi bi-chevron-right"},null,-1)),It={key:0,class:"ms-3 pt-1"},Vt=le(()=>e("i",{class:"bi bi-funnel-fill me-2"},null,-1)),Ft=le(()=>e("i",{class:"bi bi-filter me-2"},null,-1)),zt=le(()=>e("i",{class:"bi bi-collection me-2"},null,-1)),Tt=le(()=>e("i",{class:"bi bi-trash me-2"},null,-1)),Et={key:1},Ot=P({__name:"PropertyOptions",props:{property:Object},setup(u){const{t:g}=Ue({useScope:"global"}),t=he(),o=re(),d=Q(),c=o.getTabManager(),r=u,f=z(!1),m=z(!1),i=z(""),a=z(!1),n=I(()=>o.getTab()),p=I(()=>n.value.visibleProperties[r.property.id]==!0),h=I(()=>c.collection.filterManager.state.filter.filters.some(F=>!F.isGroup&&F.propertyId==r.property.id)),k=I(()=>c.collection.groupManager.state.groupBy.includes(r.property.id)),v=I(()=>c.collection.sortManager.state.sortBy.includes(r.property.id)),M=I(()=>{if(h.value)return c.collection.filterManager.state.filter.filters.find(F=>!F.isGroup&&F.propertyId==r.property.id).id}),D=()=>c.collection.filterManager,K=I(()=>c.getSha1Mode());function ae(){p.value?c.setVisibleProperty(r.property.id,!1):c.setVisibleProperty(r.property.id,!0)}function C(){f.value?f.value=!1:(f.value=!0,i.value=r.property.name),m.value=!1}function S(){r.property.type!=U.tag&&r.property.type!=U.multi_tags||(m.value?m.value=!1:m.value=!0,f.value=!1)}function E(){v.value?c.collection.sortManager.delSort(r.property.id):c.collection.sortManager.setSort(r.property.id),c.collection.sortManager.update(!0)}function A(){k.value?c.collection.groupManager.delGroupOption(r.property.id):c.collection.groupManager.setGroupOption(r.property.id),c.collection.groupManager.update(!0)}function W(){confirm(g("common.properties.delete")+": "+r.property.name+" ?   "+r.property.id)&&d.deleteProperty(r.property.id)}async function R(){i.value!=""&&(await d.updateProperty(r.property.id,i.value),C())}function L(){const F=D();h.value?(F.deleteFilter(M.value),ve.filter.hide()):(F.addNewFilter(r.property.id),ve.filter.show())}return q(()=>r.property,()=>{f.value=!1}),(F,O)=>(s(),l("div",{class:H(a.value?"hover-light":"")},[e("div",ft,[f.value?w("",!0):(s(),l("div",{key:0,class:"option-holder hover-light btn-icon",style:{width:"150px"},onClick:C},[$(ke,{type:r.property.type,class:"me-2 btn-icon",onMouseenter:O[0]||(O[0]=B=>a.value=!0),onMouseleave:O[1]||(O[1]=B=>a.value=!1)},null,8,["type"]),e("span",null,y(r.property.name),1)])),f.value?(s(),l("div",yt,[e("div",null,[e("i",{class:"btn-icon me-1 bi bi-x-lg",style:{padding:"2px"},onClick:C,onMouseenter:O[2]||(O[2]=B=>a.value=!0),onMouseleave:O[3]||(O[3]=B=>a.value=!1)},null,32)]),e("div",bt,[r.property.id>=0?pe((s(),l("input",{key:0,style:{position:"relative",top:"1px"},type:"text",class:"text-input","onUpdate:modelValue":O[4]||(O[4]=B=>i.value=B),onChange:R},null,544)),[[ge,i.value]]):(s(),l("span",$t,[$(ke,{type:r.property.type,class:"me-2 btn-icon"},null,8,["type"]),e("span",null,y(r.property.name),1)]))])])):w("",!0),_(Ee)(r.property.type)?(s(),l("div",{key:2,style:{width:"20px","margin-top":"2px",cursor:"pointer"},class:"text-center",onClick:O[5]||(O[5]=B=>_(t).showModal(_(ne).TAG,{propId:r.property.id}))},[$(V,{click:!1,message:"main.nav.properties.open_tags"},{default:b(()=>[kt]),_:1})])):w("",!0),e("div",wt,[r.property.mode==_(we).id?(s(),x(V,{key:0,click:!1,message:"main.nav.properties.linked_property_tooltip"},{default:b(()=>[xt]),_:1})):w("",!0)]),e("div",{style:{width:"20px","margin-top":"2px"},onClick:ae,class:"btn-icon text-center"},[K.value&&r.property.mode==_(we).id?(s(),x(V,{key:0,message:"main.nav.properties.hidden_property_tooltip"},{default:b(()=>[e("span",{class:"bi bi-eye-slash",onClick:O[6]||(O[6]=Oe(()=>{},["stop"]))})]),_:1})):(s(),x(V,{key:1,pos:"right",message:"main.nav.properties.hide_property_tooltip"},{default:b(()=>[e("span",{class:H("bi bi-eye text-"+(p.value?"primary":"secondary"))},null,2)]),_:1}))]),e("div",St,[r.property.type==_(U).tag||r.property.type==_(U).multi_tags?(s(),l("div",{key:0,onClick:S,style:{cursor:"pointer"}},[m.value?(s(),x(V,{key:0,message:"main.nav.properties.collapse_property_tooltip"},{default:b(()=>[Ct]),_:1})):(s(),x(V,{key:1,message:"main.nav.properties.expand_property_tooltip"},{default:b(()=>[Mt]),_:1}))])):w("",!0)])]),e("div",null,[f.value?(s(),l("div",It,[u.property.id!=_(Se).folders?(s(),l("div",{key:0,class:H(["options hover-light",h.value?" text-primary":""]),onClick:L},[e("div",null,[Vt,te(y(F.$t("main.menu.filters")),1)])],2)):w("",!0),e("div",{class:H(["options hover-light",v.value?" text-primary":""]),onClick:E},[Ft,te(y(F.$t("main.menu.sort.title")),1)],2),e("div",{class:H(["options hover-light",k.value?" text-primary":""]),onClick:A},[zt,te(y(F.$t("main.menu.groupby")),1)],2),r.property.id>=0?(s(),l("div",{key:1,class:"options hover-light",onClick:W},[Tt,te(y(F.$t("main.nav.properties.delete_property")),1)])):w("",!0)])):m.value?(s(),l("div",Et,[$(He,{property:r.property,"can-create":!0,"can-customize":!0,"can-delete":!0,"can-link":!0},null,8,["property"])])):w("",!0)])],2))}});const Te=j(Ot,[["__scopeId","data-v-78c05ef6"]]),Pt=e("i",{class:"bi bi-three-dots base-hover"},null,-1),Dt={class:"text-nowrap"},Lt=["onClick"],Gt=e("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),Rt=e("div",{class:"custom-hr"},null,-1),jt=["onClick"],At=e("i",{class:"bi bi-trash me-1"},null,-1),Ut=P({__name:"FolderOptionDropdown",props:{folder:{}},setup(u){const g=Q(),t=u;function o(){g.reImportFolder(t.folder.id)}function d(){confirm(Ne.global.t("main.nav.folders.del_alert"))&&g.deleteFolder(t.folder.id)}return(c,r)=>(s(),x(oe,{teleport:!0},{button:b(()=>[Pt]),popup:b(({hide:f})=>[e("div",Dt,[e("div",{class:"p-2 bb",onClick:m=>{o(),f()}},[Gt,te("Re import")],8,Lt),Rt,e("div",{class:"bb p-2",onClick:m=>{d(),f()}},[At,te(y(c.$t("main.nav.folders.del")),1)],8,jt)])]),_:1}))}}),Ht=["onMouseenter"],Nt=["onClick"],Bt={class:"text-secondary"},qt=["onClick"],Kt=P({__name:"FolderList2",props:{folders:Array,visibleFolders:Object,filterManager:Ce,root:{type:Boolean,default:!0}},setup(u){const g=Q(),t=u,o=z(null),d=I(()=>{let a={};const n=new Set(t.filterManager.state.folders);return t.folders.map(p=>p.id).forEach(p=>{n.has(p)&&(a[p]=!0)}),a}),c=I(()=>{let a={};return t.folders.map(n=>n.id).forEach(n=>{t.visibleFolders[n]&&(a[n]=!0)}),a}),r=I(()=>{let a={};return t.folders.forEach(n=>{let p=[];d.value[n.id]&&p.push("selected"),a[n.id]=p.join(" ")}),a});function f(a){let n=t.visibleFolders;n[a]?delete n[a]:n[a]=!0}function m(a){let n=new Set(t.filterManager.state.folders);const p=n.has(a),h=g.folders[a].parent!=null&&n.has(g.folders[a].parent);p&&!h?(n.delete(a),be(a).forEach(k=>n.delete(k.id))):(i(a,n),n.add(a),be(a).forEach(k=>n.add(k.id)),Ve(g.folders[a]).forEach(k=>n.delete(k.id))),t.filterManager.setFolders(Array.from(n)),t.filterManager.update(!0)}function i(a,n){const p=Ve(g.folders[a]);let h;for(let k of p)if(n.has(k.id))h=k;else break;h!=null&&be(h.id).forEach(k=>n.delete(k.id))}return(a,n)=>{const p=Pe("FolderList2",!0);return s(),l("ul",{class:H(t.root?"tree":""),style:Y(t.root?"padding-left:0px;":"")},[(s(!0),l(T,null,N(u.folders,h=>(s(),l("li",{style:Y(t.root?"padding-left:0px;":""),class:"no-break",onMouseenter:k=>o.value=h.id,onMouseleave:n[0]||(n[0]=k=>o.value=null)},[e("summary",{class:H(r.value[h.id]),onClick:k=>m(h.id)},[te(y(h.name)+" ",1),e("span",Bt,y(h.count),1)],10,Nt),h.children&&h.children.length>0?(s(),l("i",{key:0,onClick:k=>f(h.id),class:H("bi bi-chevron-"+(c.value[h.id]?"down":"right")+" ms-2 btn-icon"),style:{"font-size":"9px"}},null,10,qt)):w("",!0),e("span",{class:H(o.value===h.id?"visible-option":"invisible-option")},[$(Ut,{folder:h,style:{display:"inline-block"}},null,8,["folder"])],2),h.children&&h.children.length>0&&c.value[h.id]?(s(),x(p,{key:1,folders:h.children,root:!1,"visible-folders":t.visibleFolders,"filter-manager":t.filterManager},null,8,["folders","visible-folders","filter-manager"])):w("",!0)],44,Ht))),256))],6)}}});const Qt=j(Kt,[["__scopeId","data-v-940ffff5"]]),Wt={class:"text-center"},Yt={class:"w-100 text-center",style:{"font-size":"10px"}},Xt={key:0,class:"progress",role:"progressbar","aria-label":"Example 1px high","aria-valuemin":"0","aria-valuemax":"100",style:{height:"1px"}},Zt=P({__name:"TaskStatus",props:{task:{}},setup(u){const g=u,t=I(()=>g.task.total-g.task.remain-g.task.computing),o=I(()=>g.task.total);return(d,c)=>(s(),l("div",Wt,[te(y(g.task.name)+" ",1),e("div",Yt,y(t.value)+" / "+y(o.value)+" "+y(d.$t("main.nav.tasks.done")),1),o.value>0?(s(),l("div",Xt,[e("div",{class:"progress-bar",style:Y(`width: ${t.value/o.value*100}%`)},null,4)])):w("",!0)]))}}),J=u=>(X("data-v-375e91a5"),u=u(),Z(),u),Jt={class:"menu overflow-scroll"},es={class:""},ts={class:"m-0",style:{padding:"4px 0px 4px 8px"}},ss={class:"d-flex align-items-center",style:{"font-size":"15px","line-height":"14px"}},os=J(()=>e("i",{class:"bi bi-gear"},null,-1)),as=[os],ns=J(()=>e("i",{class:"bi bi-arrow-left-right"},null,-1)),ls=[ns],is=J(()=>e("div",{class:"custom-hr"},null,-1)),rs={class:"ps-2 pe-2",style:{"padding-bottom":"9.5px"}},ds={class:"d-flex align-items-center"},cs=J(()=>e("i",{class:"bi bi-plus"},null,-1)),us={style:{"max-height":"300px",overflow:"auto"}},ps={key:0,id:"import"},ms=J(()=>e("div",{class:"custom-hr"},null,-1)),_s={class:"pt-1 pb-2"},vs={class:"d-flex align-items-center ps-2 pe-2",style:{height:"30px"}},hs=J(()=>e("div",{class:"custom-hr"},null,-1)),gs={key:0,class:"ps-2 pe-2"},fs={class:"p-1"},ys={key:0,class:"custom-hr"},bs=J(()=>e("div",{class:"custom-hr"},null,-1)),$s={class:"p-2 mt-0"},ks={class:"d-flex"},ws=J(()=>e("span",{class:"flex-grow-1"},null,-1)),xs={key:0,class:"spinner-grow spinner-grow-sm float-end",style:{width:"10px",height:"10px","margin-top":"5px"}},Ss=J(()=>e("span",{class:"sr-only"},null,-1)),Cs=[Ss],Ms={key:1,class:"bb me-1"},Is={class:"bb me-2"},Vs={key:0,class:"mt-2"},Fs={key:0,class:"property-item"},zs=J(()=>e("div",{class:"property-item m-0 p-0"},null,-1)),Ts=J(()=>e("i",{class:"bi bi-plus btn-icon float-start",style:{"font-size":"25px"}},null,-1)),Es=J(()=>e("div",{class:"custom-hr"},null,-1)),Os={class:"p-2 mt-0"},Ps={key:0,class:"mt-2"},Ds={key:0,class:"property-item"},Ls=P({__name:"Menu",emits:["export"],setup(u,{emit:g}){const t=re(),o=Q(),d=he(),c=t.getTabManager(),r=z(!1),f=z(!1),m=async p=>{d.showModal(ne.IMPORT)},i=I(()=>t.backendStatus.tasks.filter(p=>!p.done));function a(){d.showModal(ne.FOLDERSELECTION,{callback:n,mode:"images"})}function n(p){p&&o.addFolder(p)}return q(()=>t.status.import.to_import,()=>r.value=!0),(p,h)=>{var k;return s(),l("div",Jt,[e("div",es,[e("div",null,[e("div",ts,[e("div",ss,[e("div",{class:"flex-grow-1 text-capitalize overflow-hidden",onClick:h[0]||(h[0]=()=>{})},y((k=_(d).data.status.selectedProject)==null?void 0:k.name),1),e("div",{class:"base-hover p-1",onClick:h[1]||(h[1]=v=>_(d).showModal(_(ne).SETTINGS))},as),e("div",{class:"base-hover p-1",style:{"margin-right":"6px"},onClick:h[2]||(h[2]=v=>_(d).closeProject())},ls)])]),is,e("div",rs,[e("div",ds,[e("div",null,[e("b",null,y(p.$t("main.nav.folders.title")),1)]),e("div",{id:"add_folder",class:"ms-auto plus",onClick:h[3]||(h[3]=v=>{a(),_(xe)()})},[$(V,{message:"main.nav.folders.add"},{default:b(()=>[cs]),_:1})])]),e("div",us,[_(t).getTab()?(s(),x(Qt,{key:0,folders:_(o).folderRoots,"filter-manager":_(c).collection.filterManager,"visible-folders":_(c).state.visibleFolders},null,8,["folders","filter-manager","visible-folders"])):w("",!0)])]),i.value&&i.value.length?(s(),l("div",ps,[ms,e("div",_s,[e("div",vs,[e("div",null,[e("b",null,y(p.$t("main.nav.tasks.title")),1)])]),hs,_(t).backendStatus?(s(),l("div",gs,[(s(!0),l(T,null,N(i.value,(v,M)=>(s(),l("div",fs,[M?(s(),l("div",ys)):w("",!0),$(Zt,{task:v},null,8,["task"])]))),256))])):w("",!0)])])):w("",!0),bs,e("div",$s,[e("div",ks,[$(V,{message:"main.nav.properties.properties_tooltip",pos:"top",icon:!0},{default:b(()=>[e("b",null,y(p.$t("main.nav.properties.title")),1)]),_:1}),ws,f.value?(s(),l("span",xs,Cs)):(s(),l("span",Ms,[$(V,{pos:"right",message:"main.nav.properties.import_properties_tooltip"},{default:b(()=>[e("i",{class:"bi bi-box-arrow-in-up text-secondary",style:{position:"relative",top:"0px","font-size":"15px"},onClick:m})]),_:1})])),e("span",Is,[$(V,{pos:"right",message:"main.nav.properties.export_properties_tooltip"},{default:b(()=>[e("i",{class:"bi bi-box-arrow-up text-secondary",style:{position:"relative",top:"0px","font-size":"15px"},onClick:h[4]||(h[4]=v=>_(d).showModal(_(ne).EXPORT,void 0))})]),_:1})])]),_(t).status.loaded?(s(),l("div",Vs,[(s(!0),l(T,null,N(_(o).properties,v=>(s(),l(T,null,[v.id>=0?(s(),l("div",Fs,[$(Te,{property:v},null,8,["property"])])):w("",!0)],64))),256)),zs,e("div",{id:"add-property",onClick:h[5]||(h[5]=v=>{_(d).showModal(_(ne).PROPERTY,void 0),_(xe)()}),class:"btn-icon base-hover mt-1",style:{"line-height":"25px"}},[Ts,e("span",null,y(p.$t("main.nav.properties.add_property")),1)])])):w("",!0)]),Es,e("div",Os,[$(V,{message:"main.nav.computed.computed_tooltip",icon:!0},{default:b(()=>[e("b",null,y(p.$t("main.nav.computed.title")),1)]),_:1}),_(t).status.loaded?(s(),l("div",Ps,[(s(!0),l(T,null,N(_(o).properties,v=>(s(),l(T,null,[v.id<0&&v.id!=_(Be)?(s(),l("div",Ds,[$(V,{pos:"bottom",message:"main.nav.computed."+Math.abs(v.id).toString()+"_tooltip"},{default:b(()=>[$(Te,{property:v},null,8,["property"])]),_:2},1032,["message"])])):w("",!0)],64))),256))])):w("",!0)])])])])}}});const Gs=j(Ls,[["__scopeId","data-v-375e91a5"]]),Rs={class:"p-0 hover-light ps-1 bb",style:{width:"50px"}},js={class:""},As=["onClick"],Us=e("hr",{class:"m-0 p-0 mt-1 mb-1"},null,-1),Hs=P({__name:"FilterGroupOperator",props:{modelValue:{}},emits:["update:modelValue"],setup(u,{emit:g}){const t=u,o=g;function d(c){o("update:modelValue",c)}return(c,r)=>(s(),x(oe,null,{button:b(()=>[e("div",Rs,[e("span",js,y(c.$t("modals.filters."+t.modelValue)),1)])]),popup:b(({hide:f})=>[e("div",{class:"ps-2 pt-1 pb-1 pe-2",onClick:f},[e("div",{class:"base-btn",onClick:r[0]||(r[0]=m=>d(_(Fe).and))},y(c.$t("modals.filters.and")),1),Us,e("div",{class:"base-btn",onClick:r[1]||(r[1]=m=>d(_(Fe).or))},y(c.$t("modals.filters.or")),1)],8,As)]),_:1}))}}),Ns=["disabled"],Bs={class:"m-0 p-1"},qs=["onClick"],Ks=P({__name:"OperatorChoice",props:{propertyId:{},modelValue:{},disabled:{type:Boolean}},emits:["hide","update:modelValue"],setup(u,{emit:g}){const t=Q(),o=u,d=g,c=I(()=>t.properties[o.propertyId]),r=I(()=>qe(c.value.type));async function f(m){d("update:modelValue",m)}return(m,i)=>(s(),x(oe,{onHide:i[0]||(i[0]=a=>d("hide")),placement:"bottom"},{button:b(()=>[e("div",{class:"text-nowrap sb ps-1 pe-1",disabled:o.disabled},[e("span",null,y(m.$t("modals.filters.operators."+o.modelValue)),1)],8,Ns)]),popup:b(({hide:a})=>[e("div",Bs,[(s(!0),l(T,null,N(r.value,n=>(s(),l("div",{class:"hover-light p-1 rounded",style:{cursor:"pointer"},onClick:p=>{f(n),a()}},[e("a",null,y(m.$t("modals.filters.operators."+n)),1)],8,qs))),256))])]),_:1}))}});const Qs=j(Ks,[["__scopeId","data-v-0b3d97be"]]),Ws={class:"d-flex text-nowrap overflow-hidden",style:{"font-size":"14px"}},Ys=P({__name:"FilterValueInput",props:{modelValue:{},property:{},width:{}},emits:["update:modelValue"],setup(u,{emit:g}){const t=u,o=g;function d(c){o("update:modelValue",c)}return(c,r)=>(s(),l("div",Ws,[_(Ee)(c.property.type)?(s(),x(Ke,{key:0,"model-value":t.modelValue,"onUpdate:modelValue":d,"no-wrap":!0,"auto-focus":!0,"can-create":!0,"can-customize":!0,property:t.property,teleport:!1,width:t.width,class:"sb"},null,8,["model-value","property","width"])):t.property.type==_(U).color?(s(),x(Qe,{key:1,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,rounded:!0,"min-height":22,teleport:!1,offset:2,class:"sb"},null,8,["model-value","width"])):t.property.type==_(U).number?(s(),x(We,{key:2,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,height:26,"input-offset":0,class:"sb"},null,8,["model-value","width"])):t.property.type==_(U).url?(s(),x(Ye,{key:3,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,offset:-22,class:"sb"},null,8,["model-value","width"])):t.property.type==_(U).checkbox?(s(),x(Xe,{key:4,"model-value":t.modelValue,"onUpdate:modelValue":d,label:t.property.name,width:t.width,class:"sb"},null,8,["model-value","label","width"])):t.property.type==_(U).date?(s(),x(Ze,{key:5,"model-value":t.modelValue,teleport:!1,"onUpdate:modelValue":d,width:t.width,class:"sb"},null,8,["model-value","width"])):(s(),x(Je,{key:6,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,offset:-22,class:"sb"},null,8,["model-value","width"]))]))}}),Xs={class:"p-0 m-0 ps-2"},Zs=P({__name:"FilterRow",props:{manager:{},filter:{}},emits:[],setup(u,{emit:g}){const t=Q(),o=u,d=I(()=>t.properties[o.filter.propertyId]),c=I(()=>tt(o.filter.operator));function r(i){o.manager.updateFilter(o.filter.id,{operator:i})}function f(i){o.manager.updateFilter(o.filter.id,{value:i})}function m(i){o.manager.updateFilter(o.filter.id,{propertyId:i.id})}return(i,a)=>(s(),l(T,null,[e("td",Xs,[$(et,{"model-value":d.value,"onUpdate:modelValue":m},null,8,["model-value"])]),e("td",null,[$(Qs,{"property-id":d.value.id,"model-value":o.filter.operator,"onUpdate:modelValue":r},null,8,["property-id","model-value"])]),e("td",null,[c.value?(s(),x(Ys,{key:0,"model-value":o.filter.value,"onUpdate:modelValue":f,property:d.value,width:140,style:{width:"150px"},class:""},null,8,["model-value","property"])):w("",!0)])],64))}}),Js={style:{"max-height":"500px",overflow:"auto"}},Ge=P({__name:"AddFilterBtn",props:{group:{},manager:{}},emits:[],setup(u,{emit:g}){const t=u;function o(d){t.manager.addNewFilter(d,t.group.id),ve.filter.show()}return(d,c)=>(s(),x(oe,{placement:"auto"},{button:b(()=>[st(d.$slots,"default")]),popup:b(({hide:r})=>[e("div",Js,[$(De,{onSelect:f=>{o(f),r()},"ignore-ids":[_(Se).folders]},null,8,["onSelect","ignore-ids"])])]),_:3}))}}),Me=u=>(X("data-v-cbadcac5"),u=u(),Z(),u),eo={class:"filter-group"},to={class:"table table-sm"},so={style:{height:"33px"}},oo={class:""},ao={key:0,class:"m-0 p-0"},no={key:2,class:"text-secondary"},lo={class:"border rounded"},io={class:""},ro=["onClick"],co=Me(()=>e("i",{class:"bi bi-trash"},null,-1)),uo=[co],po={class:"d-flex text-secondary ms-2"},mo={class:"add-options hover-light"},_o=Me(()=>e("i",{class:"bi bi-plus"},null,-1)),vo=Me(()=>e("i",{class:"bi bi-plus"},null,-1)),ho=P({__name:"FilterGroup",props:{filter:{},manager:{},parent:{}},emits:["delete"],setup(u,{emit:g}){Q();const t=u,o=I(()=>t.filter),d=I(()=>o.value.filters),c=I(()=>{let i=255-(o.value.depth+1)*5;return`background: rgb(${i},${i},${i});`});function r(i){t.manager.deleteFilter(i.id)}function f(i){t.manager.addNewFilterGroup(i)}function m(i,a){t.manager.updateFilterGroup(i,a)}return(i,a)=>(s(),l("div",eo,[e("table",to,[(s(!0),l(T,null,N(d.value,(n,p)=>(s(),l("tr",so,[e("td",oo,[p==0?(s(),l("div",ao,y(i.$t("modals.filters.where")),1)):p==1?(s(),x(Hs,{key:1,"model-value":o.value.groupOperator,"onUpdate:modelValue":a[0]||(a[0]=h=>m(o.value.id,h))},null,8,["model-value"])):(s(),l("span",no,y(i.$t("modals.filters."+o.value.groupOperator)),1))]),n.propertyId!==void 0?(s(),x(Zs,{key:0,filter:n,manager:t.manager},null,8,["filter","manager"])):(s(),l("td",{key:1,colspan:"3",style:Y(c.value)},[e("div",lo,[$(Re,{filter:n,manager:t.manager},null,8,["filter","manager"])])],4)),e("td",io,[e("span",{class:"base-btn",onClick:h=>r(n)},uo,8,ro)])]))),256))]),e("div",po,[$(Ge,{group:t.filter,manager:t.manager},{default:b(()=>[e("div",mo,[_o,te(y(i.$t("modals.filters.new_filter")),1)])]),_:1},8,["group","manager"]),e("div",{class:"add-options hover-light",onClick:a[1]||(a[1]=n=>f(o.value.id))},[vo,te(y(i.$t("modals.filters.new_group")),1)])])]))}});const Re=j(ho,[["__scopeId","data-v-cbadcac5"]]),go=u=>(X("data-v-7dbca090"),u=u(),Z(),u),fo={key:0,class:"d-flex flex-row m-0 ms-1 p-1 bg hover-light bg-medium",style:{cursor:"pointer"}},yo={key:0},bo=go(()=>e("span",{class:"text-primary"},"Text Query",-1)),$o={key:0,class:"or-separator"},ko={key:0,class:"or-separator"},wo={key:0,class:"m-1 p-1"},xo=P({__name:"MainFilterDropdown",props:{manager:Ce},emits:["update:modelValue"],setup(u,{emit:g}){const t=Q(),o=u,d=z(null),c=z(null),r=I(()=>{let m=f(o.manager.state.filter),i={};return m.forEach(a=>i[a.propertyId]=a),Object.values(i)});function f(m){let i=[];for(let a of m.filters)a.isGroup?i.push(...f(a)):i.push(a);return i}return q(()=>o.manager.state.filter.filters,()=>{o.manager.state.filter.filters.length==0&&c.value.hide()}),ue(async()=>{await ee(),ve.filter=c.value}),(m,i)=>(s(),x(oe,{ref_key:"dropdownElem",ref:c,placement:"top-start"},{button:b(()=>[e("div",null,[r.value.length||o.manager.state.query?(s(),l("div",fo,[o.manager.state.query?(s(),l("div",yo,[bo,r.value.length?(s(),l("span",$o,"|")):w("",!0)])):w("",!0),(s(!0),l(T,null,N(r.value,(a,n)=>(s(),l("div",null,[n>0?(s(),l("span",ko,"|")):w("",!0),a.propertyId==_(Se).id?(s(),x(ke,{key:1,type:_(t).properties[a.propertyId].type,style:{"margin-right":"2px"}},null,8,["type"])):w("",!0),e("span",null,y(_(t).properties[a.propertyId].name),1)]))),256))])):w("",!0)])]),popup:b(()=>[e("div",{class:"m-0 p-0",ref_key:"popupElem",ref:d},[Object.keys(_(t).properties).length>0?(s(),l("div",wo,[$(Re,{filter:o.manager.state.filter,manager:o.manager,parent:d.value},null,8,["filter","manager","parent"])])):w("",!0)],512)]),_:1},512))}});const So=j(xo,[["__scopeId","data-v-7dbca090"]]),Co=u=>(X("data-v-aad7b24a"),u=u(),Z(),u),Mo={class:"d-flex flex-row filter-form"},Io={class:"pt-1 pb-1"},Vo=Co(()=>e("span",{class:"base-hover plus-btn text-secondary"},[e("i",{class:"bi bi-plus"})],-1)),Fo=P({__name:"FilterForm",props:{manager:Ce},setup(u){const g=u;return(t,o)=>(s(),l("div",Mo,[e("div",Io,y(t.$t("main.menu.filters"))+": ",1),$(So,{manager:g.manager},null,8,["manager"]),$(Ge,{manager:g.manager,group:g.manager.state.filter,class:"p-1"},{default:b(()=>[Vo]),_:1},8,["manager","group"])]))}});const zo=j(Fo,[["__scopeId","data-v-aad7b24a"]]),To=u=>(X("data-v-2f10e29f"),u=u(),Z(),u),Eo=To(()=>e("div",{class:"text-secondary p-1"},[e("span",{class:"base-hover plus-btn"},[e("i",{class:"bi bi-plus"})])],-1)),Oo={class:"p-1",style:{"max-height":"400px","overflow-y":"scroll"}},Po=P({__name:"PropertyDropdown",props:{groupIds:Array},emits:["select"],setup(u,{emit:g}){const t=u,o=g,d=z(null);return(c,r)=>(s(),x(oe,{ref_key:"dropdownElem",ref:d,"auto-focus":!1},{button:b(()=>[Eo]),popup:b(()=>[e("div",Oo,[$(De,{onClick:r[0]||(r[0]=f=>_(xe)()),onSelect:r[1]||(r[1]=f=>{o("select",f),d.value.hide()}),"ignore-ids":t.groupIds},null,8,["ignore-ids"])])]),_:1},512))}});const je=j(Po,[["__scopeId","data-v-2f10e29f"]]),Do={class:"base-hover ps-1 pe-1"},Lo={class:"main"},Go=["onClick"],Ro=P({__name:"TimeUnitDropdown",props:{modelValue:{}},emits:["update:modelValue"],setup(u,{emit:g}){const t=u,o=g,d=Object.values(Le);function c(r){o("update:modelValue",r)}return(r,f)=>(s(),x(oe,null,{button:b(()=>[e("div",Do,y(t.modelValue),1)]),popup:b(({hide:m})=>[e("div",Lo,[(s(!0),l(T,null,N(_(d),i=>(s(),l("div",{class:"base-hover option",onClick:a=>{c(i),m()}},y(i),9,Go))),256))])]),_:1}))}});const jo=j(Ro,[["__scopeId","data-v-cc9d0d61"]]),Ao=u=>(X("data-v-a27bea28"),u=u(),Z(),u),Uo=Ao(()=>e("i",{class:"bi bi-three-dots-vertical"},null,-1)),Ho={class:""},No={class:"d-flex ipt"},Bo={class:"ms-2",min:"1"},qo=P({__name:"GroupOptionDropdown",props:{option:{}},emits:["change"],setup(u,{emit:g}){const t=u,o=g,d=z(1),c=z(Le.Year);function r(){t.option.stepSize==d.value&&t.option.stepUnit==c.value||o("change",{stepSize:d.value,stepUnit:c.value})}function f(){d.value=t.option.stepSize??1,c.value=t.option.stepUnit}return q(()=>t.option,f),ue(f),q(d,()=>{(d.value<1||d.value==null||isNaN(d.value))&&(d.value=1)}),(m,i)=>(s(),x(oe,{onHide:r},{button:b(()=>[Uo]),popup:b(({hide:a,focus:n})=>[e("div",Ho,[e("div",No,[e("div",null,[pe(e("input",{type:"number","onUpdate:modelValue":i[0]||(i[0]=p=>d.value=p)},null,512),[[ge,d.value]])]),e("div",Bo,[$(jo,{modelValue:c.value,"onUpdate:modelValue":i[1]||(i[1]=p=>c.value=p),onHide:n},null,8,["modelValue","onHide"])])])])]),_:1}))}});const Ko=j(qo,[["__scopeId","data-v-a27bea28"]]),Qo={class:"d-flex flex-row group-form"},Wo={class:"pt-1 pb-1"},Yo={key:0,class:"bg-medium bg d-flex flex-row m-0 ms-1 p-0 align-items-center"},Xo={key:0,class:"bi bi-chevron-right smaller"},Zo=["onClick"],Jo=["onClick"],ea=["onClick"],ta=["onClick"],sa=["onClick"],oa=["onClick"],aa=["onClick"],na=["onClick"],la=["onClick"],ia={key:5,class:"sm-btn"},ra={key:0,class:"spinner-grow spinner-grow-sm loading ms-1"},da=P({__name:"GroupForm",props:{isLoading:Boolean,manager:ot},setup(u){const g=Q(),t=u;function o(a){t.manager.setGroupOption(a),t.manager.update(!0)}function d(a){t.manager.delGroupOption(a),t.manager.update(!0)}function c(a,n){t.manager.setGroupOption(a,{direction:n}),t.manager.sortGroups(!0)}function r(a,n){t.manager.setGroupOption(a,{type:n}),t.manager.sortGroups(!0)}function f(a,n){t.manager.setGroupOption(a,n),t.manager.update(!0)}const m=I(()=>t.manager.state.groupBy.map(a=>g.properties[a])),i=I(()=>{const a=[];return t.manager.state.groupBy.forEach(n=>{a.push({option:t.manager.state.options[n],property:g.properties[n]})}),a});return(a,n)=>(s(),l("div",Qo,[e("div",Wo,y(a.$t("main.menu.groupby"))+": ",1),m.value.length?(s(),l("div",Yo,[(s(!0),l(T,null,N(i.value,(p,h)=>(s(),l(T,null,[h>0?(s(),l("i",Xo)):w("",!0),e("div",{class:"base-hover m-1 ps-1 pe-1",onClick:k=>d(p.property.id),id:"remove-group-button"},y(p.property.name),9,Zo),p.option.type==_(ie).Size?(s(),x(V,{key:1,message:"main.menu.sort.group_order_nb_tooltip"},{default:b(()=>[p.option.direction==_(se).Ascending?(s(),l("i",{key:0,class:"bi bi-sort-up-alt sm-btn",onClick:k=>r(p.property.id,_(ie).Property)},null,8,Jo)):(s(),l("i",{key:1,class:"bi bi-sort-down sm-btn",onClick:k=>r(p.property.id,_(ie).Property)},null,8,ea))]),_:2},1024)):(s(),x(V,{key:2,message:"main.menu.sort.group_order_az_tooltip"},{default:b(()=>[p.property.type==_(U).number?(s(),l(T,{key:0},[p.option.direction==_(se).Ascending?(s(),l("i",{key:0,class:"bi bi-sort-numeric-up sm-btn",onClick:k=>r(p.property.id,_(ie).Size)},null,8,ta)):(s(),l("i",{key:1,class:"bi bi-sort-numeric-down-alt sm-btn",onClick:k=>r(p.property.id,_(ie).Size)},null,8,sa))],64)):(s(),l(T,{key:1},[p.option.direction==_(se).Ascending?(s(),l("i",{key:0,class:"bi bi-sort-alpha-up sm-btn",onClick:k=>r(p.property.id,_(ie).Size)},null,8,oa)):(s(),l("i",{key:1,class:"bi bi-sort-alpha-down-alt sm-btn",onClick:k=>r(p.property.id,_(ie).Size)},null,8,aa))],64))]),_:2},1024)),p.option.direction==_(se).Ascending?(s(),x(V,{key:3,message:"main.menu.sort.order_asc"},{default:b(()=>[e("i",{class:"bi bi-arrow-up sm-btn",onClick:k=>c(p.property.id,_(se).Descending)},null,8,na)]),_:2},1024)):(s(),x(V,{key:4,message:"main.menu.sort.order_desc"},{default:b(()=>[e("i",{class:"bi bi-arrow-down sm-btn",onClick:k=>c(p.property.id,_(se).Ascending)},null,8,la)]),_:2},1024)),p.property.type==_(U).date?(s(),l("div",ia,[$(Ko,{option:p.option,onChange:k=>f(p.property.id,k)},null,8,["option","onChange"])])):w("",!0)],64))),256)),t.isLoading?(s(),l("i",ra)):w("",!0)])):w("",!0),$(je,{id:"add-group-button","group-ids":t.manager.state.groupBy,onSelect:n[0]||(n[0]=p=>o(p))},null,8,["group-ids"])]))}});const ca=j(da,[["__scopeId","data-v-388718c9"]]),ua={class:"d-flex flex-row sort-form"},pa={class:"pt-1 pb-1"},ma={key:0,class:"d-flex flex-row m-0 p-0 bg-medium bg ms-1 align-items-center"},_a={key:0,class:"bi bi-chevron-right smaller"},va=["onClick"],ha=["onClick"],ga=["onClick"],fa=P({__name:"SortForm",props:{manager:at},setup(u){const g=Q(),t=u,o=I(()=>t.manager.state.sortBy.map(m=>({propertyId:m,direction:t.manager.state.options[m].direction}))),d=I(()=>o.value.map(m=>m.propertyId));function c(m){t.manager.setSort(m),t.manager.update(!0)}function r(m){t.manager.delSort(m),t.manager.update(!0)}function f(m,i){t.manager.setSort(m,{direction:i}),t.manager.update(!0)}return(m,i)=>(s(),l("div",ua,[e("div",pa,y(m.$t("main.menu.sort.title"))+": ",1),o.value.length?(s(),l("div",ma,[(s(!0),l(T,null,N(o.value,(a,n)=>(s(),l(T,null,[n>0?(s(),l("i",_a)):w("",!0),e("div",{class:"me-0 ms-1 ps-1 mt-1 mb-1 pe-1 base-hover",onClick:p=>r(a.propertyId)},y(_(g).properties[a.propertyId].name),9,va),a.direction==_(se).Ascending?(s(),x(V,{key:1,message:"main.menu.sort.order_asc"},{default:b(()=>[e("i",{class:"bi bi-arrow-up sm-btn",onClick:p=>f(a.propertyId,_(se).Descending)},null,8,ha)]),_:2},1024)):(s(),x(V,{key:2,message:"main.menu.sort.order_desc"},{default:b(()=>[e("i",{class:"bi bi-arrow-down sm-btn",onClick:p=>f(a.propertyId,_(se).Ascending)},null,8,ga)]),_:2},1024))],64))),256))])):w("",!0),$(je,{"group-ids":d.value,onSelect:i[0]||(i[0]=a=>c(a))},null,8,["group-ids"])]))}});const ya=j(fa,[["__scopeId","data-v-80dc564a"]]),fe=u=>(X("data-v-ba1876b2"),u=u(),Z(),u),ba=fe(()=>e("i",{class:"bi bi-clock-history me-1"},null,-1)),$a={class:"p-2"},ka={key:0,class:"border mb-1 p-1 text-center text-secondary",style:{"background-color":"#f7f7f7"}},wa={class:"border mb-1 p-1"},xa={class:"me"},Sa=fe(()=>e("span",{class:"sep ms-1 me-1"},null,-1)),Ca={key:0},Ma={key:1},Ia={class:"border mb-1 p-1",style:{"background-color":"#f7f7f7"}},Va={class:"d-flex center justify-content-center"},Fa={key:1,class:"bi bi-arrow-down text-secondary"},za=fe(()=>e("div",{style:{width:"30px"}},null,-1)),Ta={key:3,class:"bi bi-arrow-up text-secondary"},Ea={class:"border mb-1 p-1"},Oa={class:"me"},Pa=fe(()=>e("span",{class:"sep ms-1 me-1"},null,-1)),Da={key:0},La={key:1},Ga={key:1,class:"border mb-1 p-1 text-center text-secondary",style:{"background-color":"#f7f7f7"}},de=5,Ra=P({__name:"HistoryDropdown",emits:[],setup(u,{emit:g}){const t=Q(),o=z(!1),d=I(()=>o.value?{backgroundColor:"blue"}:{backgroundColor:"white"}),c=I(()=>[...t.history.undo].reverse().slice(0,de)),r=I(()=>t.history.redo.slice(Math.max(t.history.redo.length-de,0)));return q(()=>t.onUndo,()=>{console.log("changed"),o.value=!0,setTimeout(()=>o.value=!1,100)}),(f,m)=>c.value.length||r.value.length?(s(),x(oe,{key:0},{button:b(()=>[$(V,{message:"dropdown.history.info"},{default:b(()=>[e("div",{class:"d-flex sb flash",style:Y([{"font-size":"14px"},d.value])},[ba,e("div",null,y(f.$t("dropdown.history.button")),1)],4)]),_:1})]),popup:b(()=>[e("div",$a,[_(t).history.redo.length>de?(s(),l("div",ka," + "+y(_(t).history.redo.length-de),1)):w("",!0),(s(!0),l(T,null,N(r.value,i=>(s(),l("div",wa,[e("span",xa,y(new Date(i.timestamp).toLocaleTimeString("fr-Fr",{hour:"2-digit",minute:"2-digit"})),1),Sa,i.tags?(s(),l("span",Ca,y(i.tags)+" "+y(f.$t("dropdown.history.tags")),1)):w("",!0),i.values?(s(),l("span",Ma,y(i.values)+" "+y(f.$t("dropdown.history.values")),1)):w("",!0)]))),256)),e("div",Ia,[e("div",Va,[c.value.length?(s(),x(V,{key:0,message:"dropdown.history.undo"},{default:b(()=>[e("div",{class:"bi bi-arrow-down sb",onClick:m[0]||(m[0]=(...i)=>_(t).undo&&_(t).undo(...i))})]),_:1})):(s(),l("div",Fa)),za,r.value.length?(s(),x(V,{key:2,message:"dropdown.history.redo"},{default:b(()=>[e("div",{class:"bi bi-arrow-up sb",onClick:m[1]||(m[1]=(...i)=>_(t).redo&&_(t).redo(...i))})]),_:1})):(s(),l("div",Ta))])]),(s(!0),l(T,null,N(c.value,i=>(s(),l("div",Ea,[e("span",Oa,y(new Date(i.timestamp).toLocaleTimeString("fr-Fr",{hour:"2-digit",minute:"2-digit"})),1),Pa,i.tags?(s(),l("span",Da,y(i.tags)+" "+y(f.$t("dropdown.history.tags")),1)):w("",!0),i.values?(s(),l("span",La,y(i.values)+" "+y(f.$t("dropdown.history.values")),1)):w("",!0)]))),256)),_(t).history.undo.length>de?(s(),l("div",Ga," + "+y(_(t).history.undo.length-de),1)):w("",!0)])]),_:1})):w("",!0)}});const ja=j(Ra,[["__scopeId","data-v-ba1876b2"]]),Ie=u=>(X("data-v-6c701a49"),u=u(),Z(),u),Aa=Ie(()=>e("span",{class:"bi bi-arrow-repeat text-warning"},null,-1)),Ua=Ie(()=>e("span",{class:"bi bi-check2-all text-success"},null,-1)),Ha=Ie(()=>e("div",{style:{height:"30px"}},[e("span",{class:"bi bi-check2-all text-success small-valid"}),e("span",{class:"bi bi-arrow-repeat big-arrow text-warning",style:{opacity:"0.3"}})],-1)),Na=P({__name:"ToggleReload",emits:[],setup(u,{emit:g}){const t=re(),o=I(()=>t.getTab().autoReload?2:t.getTabManager().collection.state.isDirty?0:1);function d(){o.value==0?t.getTabManager().collection.update():o.value==1?(t.getTab().autoReload=!0,t.updateTabs()):(t.getTab().autoReload=!1,t.updateTabs())}return(c,r)=>(s(),l("div",{class:"bb font",onClick:d,style:{width:"26px",height:"30px",overflow:"hidde"}},[o.value==0?(s(),x(V,{key:0,message:"btn.reload.dirty",pos:"bottom"},{default:b(()=>[Aa]),_:1})):w("",!0),o.value==1?(s(),x(V,{key:1,message:"btn.reload.valid",pos:"bottom"},{default:b(()=>[Ua]),_:1})):w("",!0),o.value==2?(s(),x(V,{key:2,message:"btn.reload.auto",pos:"bottom"},{default:b(()=>[Ha]),_:1})):w("",!0)]))}});const Ba=j(Na,[["__scopeId","data-v-6c701a49"]]),ye=u=>(X("data-v-6b406850"),u=u(),Z(),u),qa={class:"d-flex flex-row p-2"},Ka=ye(()=>e("div",{class:"bi bi-search float-start bi-sm"},null,-1)),Qa=["placeholder"],Wa={class:"me-5 d-flex"},Ya=ye(()=>e("div",{class:"bi bi-aspect-ratio me-1"},null,-1)),Xa={class:"ms-5",style:{"font-size":"13px"}},Za=["checked"],Ja={class:"ms-1"},en={class:"ms-4"},tn=ye(()=>e("div",{class:"flex-grow-1"},null,-1)),sn=ye(()=>e("a",{href:"https://github.com/CERES-Sorbonne/Panoptic/issues/new/choose",target:"_blank",class:"bi bi-cone-striped",style:{color:"grey"}},null,-1)),on={class:"d-flex flex-wrap content-container ps-2"},an=P({__name:"ContentFilter",props:{tab:nt,computeStatus:Object},emits:["compute-ml","search-images","remove:selected"],setup(u,{emit:g}){const t=u,o=z(""),d=I(()=>Object.keys(t.tab.collection.groupManager.selectedImages.value).map(Number)),c=I(()=>d.value.length);function r(a){const n=a.target.checked;t.tab.collection.groupManager.setSha1Mode(n,!0)}function f(){o.value=t.tab.state.filterState.query}function m(){t.tab.collection.filterManager.setQuery(o.value),t.tab.collection.filterManager.update(!0)}function i(){t.tab.collection.filterManager.setQuery(""),t.tab.collection.filterManager.update(!0)}return ue(f),q(()=>t.tab.collection.filterManager.state.query,f),(a,n)=>(s(),l(T,null,[e("div",qa,[$(V,{icon:!0,message:"main.menu.search_tooltip",iconPos:"left"},{default:b(()=>[e("div",{class:H(["d-flex flex-row search-input me-5",o.value?"border-primary":""])},[Ka,pe(e("input",{type:"text",class:"input-hidden",placeholder:a.$t("main.menu.search"),"onUpdate:modelValue":n[0]||(n[0]=p=>o.value=p),onChange:m},null,40,Qa),[[ge,o.value]]),e("div",{class:"bi-sm base-hover",style:{cursor:"pointer",padding:"0px 2px"},onClick:i},"x")],2)]),_:1}),e("div",Wa,[$(V,{message:"main.menu.grid_tooltip"},{default:b(()=>[e("i",{class:H("bi bi-grid-3x3-gap-fill me-2 btn-icon"+(t.tab.state.display=="tree"?"":" text-secondary")),onClick:n[1]||(n[1]=p=>t.tab.state.display="tree")},null,2)]),_:1}),$(V,{message:"main.menu.table_tooltip"},{default:b(()=>[e("i",{id:"toot",class:H("bi bi-table btn-icon me-2"+(t.tab.state.display=="grid"?"":" text-secondary")),onClick:n[2]||(n[2]=p=>t.tab.state.display="grid")},null,2)]),_:1}),$(V,{message:"main.menu.graph_tooltip"},{default:b(()=>[e("i",{id:"toot",class:H("bi bi-bar-chart btn-icon"+(t.tab.state.display=="graph"?"":" text-secondary")),onClick:n[3]||(n[3]=p=>t.tab.state.display="graph")},null,2)]),_:1})]),$(V,{message:"main.menu.image_size_tooltip",click:!1},{default:b(()=>[Ya]),_:1}),e("div",null,[$(lt,{min:30,max:500,modelValue:t.tab.state.imageSize,"onUpdate:modelValue":n[4]||(n[4]=p=>t.tab.state.imageSize=p)},null,8,["modelValue"])]),e("div",Xa,[$(V,{message:"main.menu.image_mode_tooltip"},{default:b(()=>[e("input",{type:"checkbox",checked:t.tab.collection.groupManager.state.sha1Mode,onChange:r},null,40,Za),e("span",Ja,y(a.$t("main.menu.image_mode")),1)]),_:1})]),e("div",en,[$(ja)]),c.value?(s(),x(it,{key:0,id:"selection-stamp",class:"ms-5","selected-images-ids":d.value,"onRemove:selected":n[5]||(n[5]=p=>t.tab.collection.groupManager.clearSelection())},null,8,["selected-images-ids"])):w("",!0),tn,$(V,{message:"main.menu.issue",class:"bb"},{default:b(()=>[sn]),_:1})]),e("div",on,[$(Ba,{class:"me-1"}),$(zo,{manager:t.tab.collection.filterManager},null,8,["manager"]),$(ca,{"is-loading":t.computeStatus.groups,manager:t.tab.collection.groupManager},null,8,["is-loading","manager"]),$(ya,{manager:t.tab.collection.sortManager},null,8,["manager"])])],64))}});const nn=j(an,[["__scopeId","data-v-6b406850"]]),ln={class:""},rn={class:"d-flex flex-row"},dn=P({__name:"ImageRecomended",props:{pile:Object,size:{type:Number,default:100}},emits:["accept","refuse"],setup(u,{emit:g}){const t=he(),o=u,d=g,c=I(()=>`width: ${o.size}px; height: ${o.size}px;`);I(()=>`max-width: ${o.size-2}px; max-height: ${o.size-1}px;`);const r=I(()=>o.pile.images[0]);return(f,m)=>(s(),l("div",ln,[$(dt,{image:r.value},{default:b(()=>[e("div",{style:Y(c.value),class:"img-container",onClick:m[0]||(m[0]=i=>_(t).showModal(_(ne).IMAGE,{image:r.value}))},[$(rt,{image:r.value,width:o.size-2,height:o.size-1},null,8,["image","width","height"])],4)]),_:1},8,["image"]),e("div",rn,[$(V,{message:"main.recommand.accept"},{default:b(()=>[e("div",{style:Y(["width: "+o.size/2+"px;",{"font-size":"10px"}]),class:"text-center text-success validate clickable unselectable",onClick:m[1]||(m[1]=i=>d("accept",r.value))}," ✓ ",4)]),_:1}),$(V,{message:"main.recommand.refuse"},{default:b(()=>[e("div",{style:Y(["width: "+o.size/2+"px;",{"font-size":"10px"}]),class:"text-center text-danger refuse clickable unselectable",onClick:m[2]||(m[2]=i=>d("refuse",r.value))}," ✕ ",4)]),_:1})])]))}});const cn=j(dn,[["__scopeId","data-v-809d667b"]]),me=u=>(X("data-v-8f1f076a"),u=u(),Z(),u),un={class:"reco-container"},pn={class:"d-flex flex-row m-0 ps-2 center mb-1 mt-0",style:{height:"25px"}},mn=me(()=>e("span",{class:"bi bi-x-lg bb",style:{}},null,-1)),_n=[mn],vn=me(()=>e("div",{class:"b-left pe-1"},null,-1)),hn=me(()=>e("span",{class:"bi bi-arrow-down-circle bb"},null,-1)),gn=[hn],fn=me(()=>e("div",{class:"b-left pe-1"},null,-1)),yn={key:0,class:"bi bi-funnel-fill bb text-primary"},bn={key:1,class:"bi bi-funnel bb"},$n=me(()=>e("div",{class:"b-left pe-1"},null,-1)),kn={class:"text-secondary me-2"},wn={class:"flex-grow-1"},xn={class:"d-flex flex-row"},Sn={key:0,class:"separator"},Cn={class:"d-flex flex-row"},$e=10,Mn=P({__name:"RecommendedMenu",props:{imageSize:{},group:{},width:{},height:{}},emits:["scroll","close","update"],setup(u,{emit:g}){const t=re(),o=Q(),d=ct(),c=u,r=g,f=z(1),m=ce([]),i=ce([]),a=ce([]),n=ce(new Set),p=z(!0);function h(C){let S=i.indexOf(C);S<0||(i.splice(S,1),M())}async function k(C){const S=[],E=[];a.forEach(A=>{if(A.value!=null){const W=o.properties[A.propertyId];let R=A.value;W.type==U.multi_tags?(R=C.properties[A.propertyId]??[],R=[...R,A.value]):W.type==U.tag&&(R=[R]),W.mode==we.id?E.push({instanceId:C.id,propertyId:W.id,value:R}):S.push({propertyId:W.id,sha1:C.sha1,value:R})}}),await o.setPropertyValues(E,S),h(C.sha1)}function v(C){n.add(C.sha1),h(C.sha1)}function M(){m.length=0;const C=i.map(S=>({sha1:S,images:o.sha1Index[S]}));D(C,m,f.value,c.imageSize,c.width)}function D(C,S,E,A,W){let R=W,L=[],F=0;for(let O=0;O<C.length&&!(S.length>=E);O++){let B=C[O];if(n.has(B.sha1))continue;let _e=A+$e;if(F+_e<R){L.push(B),F+=_e;continue}if(L.length==0)throw new Error("Images seems to be to big for the line");S.push(L),S.length<E&&(L=[B],F=_e)}L.length>0&&S.length<E&&S.push(L)}async function K(){if(!c.group)return;console.log("get reco");const C=c.group.images.map(L=>L.id);let S=await d.getSimilarImages({instanceIds:C});if(console.log(S),!S.instances)throw new Error("No instances in ActionResult");let E=[];const A=S.instances.scores??[];if(S.instances.ids)for(let L in S.instances.ids){const F={id:S.instances.ids[L],score:A[L]};E.push(F)}else for(let L in S.instances.sha1s){const F=S.instances.sha1s[L];for(let O of o.sha1Index[F]){const B={id:O.id,score:A[L]};E.push(B)}}if(E.sort((L,F)=>F.score-L.score),p.value){const L=t.getTabManager(),F=new Set(L.collection.groupManager.result.root.images.map(O=>O.id));E=E.filter(O=>F.has(O.id))}const W=Array.from(new Set(E.map(L=>o.instances[L.id].sha1)));a.length=0;let R=c.group;for(;R;)a.push(...R.meta.propertyValues),R=R.parent;i.length=0,i.push(...W),n.clear(),M(),r("update")}function ae(){p.value=!p.value}return ue(K),q(()=>c.group,()=>{K(),n.clear()}),q(()=>c.imageSize,M),q(()=>c.width,M),q(p,K),(C,S)=>(s(),l("div",un,[e("div",pn,[e("div",{class:"text-secondary pe-1",onClick:S[0]||(S[0]=E=>r("close"))},_n),vn,e("div",{class:"text-secondary pe-1",onClick:S[1]||(S[1]=E=>r("scroll",c.group.id))},gn),fn,e("div",{class:"text-secondary pe-1",onClick:ae},[p.value?(s(),l("span",yn)):(s(),l("span",bn))]),$n,$(V,{"icon-pos":"left",message:"main.recommand.tooltip",icon:!0},{default:b(()=>[e("span",kn,y(C.$t("main.recommand.title")),1)]),_:1}),e("div",wn,[e("div",xn,[(s(!0),l(T,null,N(a,(E,A)=>(s(),l(T,null,[$(ut,{class:"",value:E},null,8,["value"]),A<a.length-1?(s(),l("div",Sn)):w("",!0)],64))),256))])])]),e("div",{style:Y("margin-left:"+$e+"px;")},[(s(!0),l(T,null,N(m,E=>(s(),l("div",null,[e("div",Cn,[(s(!0),l(T,null,N(E,A=>(s(),x(cn,{pile:A,size:c.imageSize,onAccept:k,onRefuse:v,style:Y("margin-right:"+$e+"px;")},null,8,["pile","size","style"]))),256))])]))),256))],4)]))}});const In=j(Mn,[["__scopeId","data-v-8f1f076a"]]);const Vn={style:{display:"flex"}},Fn={class:"info"},zn=e("img",{id:"zoomed-image",style:{display:"none",position:"absolute","z-index":"1000",width:"120px",height:"120px","pointer-events":"none"}},null,-1),Tn={__name:"LineChart",props:{chartData:{series:Array,xValues:Array,dataType:U},height:String},setup(u){const g=u,t=z(0),o=z(!1),d={};Object.keys(g.chartData.series).forEach(n=>{d[n]=!1});const c=z({markers:{size:7},legend:{showForSingleSeries:!0,onItemClick:{toggleDataSeries:!1}},xaxis:{type:g.chartData.dataType===U.date?"datetime":"numeric",categories:g.chartData.xValues},chart:{type:"area",stacked:!1,stackOnlyBar:!1,zoom:{type:"x",autoScaleYaxis:!0},animations:{animateGradually:{enabled:!1,delay:150}}},dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{intersect:!0,shared:!1,custom:function({series:n,seriesIndex:p,dataPointIndex:h,w:k}){const v=g.chartData.series[p].data[h];let M='<div style="display: grid; grid-template-columns: repeat(5, 1fr); grid-gap: 5px;">';v.images.forEach((K,ae)=>{ae<10&&(M+=`<div style="width: 75px; height: 75px;"><img src="${K}" style="width: 100%; height: 100%;" /></div>`)}),M+="</div>";let D=`<span style="display: flex; align-items: center; justify-content: center;min-height:40px"><b>${g.chartData.series[p].name} — </b> ${v.y} Images</span>`;return D+=`<div>${M}</div>`,D}}}),r=()=>{c.value.chart.stacked=!c.value.chart.stacked,o.value=!o.value,t.value+=1},f=()=>{let n;c.value.chart.type==="area"?n={chart:{...c.value.chart,type:"bar"}}:n={chart:{...c.value.chart,type:"area"}},c.value={...c.value,...n},t.value+=1},m=(n,p,h)=>{const v=g.chartData.series[p];let M=Math.max(...v.data.map(D=>D.y));if(document.querySelectorAll(".apexcharts-custom-image").forEach(D=>D.remove()),d[p]){d[p]=!1;return}v.data.forEach((D,K)=>{const C=Math.floor(D.y/M*17),S=D.images.slice(0,C),E=`circle[index="${p}"][j="${K}"]`,A=document.querySelector(E),W=parseFloat(A.getAttribute("cx"));S.forEach((R,L)=>{const F=document.createElement("img");F.src=R,F.width=40,F.height=40,F.style.position="absolute";let O=W+40/1.5,B=65+L*40;F.style.left=`${O}px`,F.style.bottom=`${B}px`,F.classList.add("apexcharts-custom-image"),F.addEventListener("mouseover",_e=>i(O,B,R)),F.addEventListener("mouseout",a),n.el.appendChild(F)})}),Object.keys(d).forEach(D=>d[D]=!1),d[p]=!0};function i(n,p,h){const k=document.getElementById("zoomed-image");k.style.left=`${n+120*1.5}px`,k.src=h,k.style.bottom=`${p}px`,k.style.display="block"}function a(){const n=document.getElementById("zoomed-image");n.style.display="none"}return console.log("test"),(n,p)=>{const h=Pe("apexchart");return s(),l(T,null,[e("div",Vn,[e("button",{class:"mt-2",onClick:f},y(c.value.chart.type==="area"?n.$t("main.graph-view.histo"):n.$t("main.graph-view.curve")),1),g.chartData.series.length>1?(s(),l("button",{key:0,class:"mt-2",style:{"margin-left":"1em"},onClick:r},y(o.value?n.$t("main.graph-view.over"):n.$t("main.graph-view.stack")),1)):w("",!0)]),(s(),x(h,{style:{position:"relative"},key:t.value,height:g.height,type:c.value.chart.type,options:c.value,series:g.chartData.series,onLegendClick:m},null,8,["height","type","options","series"])),e("i",Fn,y(n.$t("main.graph-view.info")),1),zn],64)}}},En={key:1},On=P({__name:"GraphView",props:{collection:{},height:{}},emits:[],setup(u,{emit:g}){const t=Q(),o=u,d=z(""),c=z(f());function r(){const m=new Set;let i=o.collection.groupManager.getGroupIterator();for(;i;){const a=i.group;if(a.id===0||a.meta.propertyValues&&a.meta.propertyValues[0].value==null){i=i.nextGroup();continue}for(let n of a.children)m.add(n.meta.propertyValues[0].value);a.children.forEach(()=>i=i.nextGroup()),i=i.nextGroup()}return m}function f(){const m={};let i,a=o.collection.groupManager.state.groupBy;if(a.length===0){d.value="Choose at least one date or numeric value to group the images by";return}const n=t.properties[a[0]],p=n.type;if(a.length>2){d.value="Only max two levels of grouping are supported";return}else if(a.length===1)m[n.name]={name:n.name,data:[]};else if(i=Array.from(r()),i.length>20){d.value="Too many curves to draw, select a subgrouping with less than 20 possible values";return}if(p!==U.number&&p!==U.date){d.value="First level of grouping needs to be a date or a numeric property";return}let h=o.collection.groupManager.getGroupIterator();const k=[];for(;h;){const v=h.group;if(v.id===0||v.meta.propertyValues&&v.meta.propertyValues[0].value==null){h=h.nextGroup();continue}let M=v.meta.propertyValues[0];const D=p===U.date?new Date(M.value).getTime():M.value;if(k.push(D),n.name in m)m[n.name].data.push({x:D,y:v.images.length,images:v.images.slice(0,20).map(K=>K.urlSmall)});else{const K=v.children.map(C=>C.meta.propertyValues[0].value),ae=i.filter(C=>!K.includes(C));for(let C of v.children){const S=C.meta.propertyValues[0].value;if(m[S]===void 0){let E=S;S in t.tags&&(E=t.tags[S].value),m[S]={data:[],name:E}}m[C.meta.propertyValues[0].value].data.push({x:D,y:C.images.length,images:C.images.slice(0,20).map(E=>E.urlSmall)})}for(let C of ae){if(m[C]===void 0){let S=C;C in t.tags&&(S=t.tags[C].value),m[C]={data:[],name:S}}m[C].data.push({x:D,y:0,images:[]})}v.children.forEach(()=>h=h.nextGroup())}h=h.nextGroup()}return d.value="",{series:Object.values(m),xValues:k,dataType:p}}return o.collection.groupManager.onChange.addListener(()=>c.value=f()),(m,i)=>(s(),l("div",{class:"",style:Y({height:o.height+"px"})},[d.value===""?(s(),x(Tn,{key:0,chartData:c.value,height:o.height-50+"px"},null,8,["chartData","height"])):(s(),l("span",En,y(d.value),1))],4))}}),Pn={key:0,class:"m-0 p-0"},Dn={key:0,style:{"margin-left":"10px"}},Ln=P({__name:"MainView",props:{tabId:Number,height:Number},setup(u){const g=re(),t=g.getTabManager(),o=u,d=z({}),c=z(!0),r=z(null),f=z(null),m=z(null),i=z(0),a=z(0),n=ce({groups:!1}),p=I(()=>t.getVisibleProperties());function h(){r.value&&f.value?i.value=o.height-r.value.clientHeight-f.value.clientHeight-5:r.value?i.value=o.height-r.value.clientHeight-5:i.value=0}t.collection.groupManager.onChange.addListener(()=>{m.value&&t.state.display=="tree"&&m.value.computeLines()});function k(M){d.value=t.collection.groupManager.result.index[M],ee(()=>h())}function v(){d.value={},ee(()=>h())}return ue(()=>{a.value=r.value.clientWidth,window.addEventListener("resize",()=>{ee(()=>{var M;a.value=((M=r.value)==null?void 0:M.clientWidth)??a.value})})}),q(()=>t.state.imageSize,()=>ee(h)),q(()=>o.height,async()=>{await ee(h)}),q(t.state,M=>{g.updateTabs()},{deep:!0}),q(()=>o.tabId,async()=>{c.value=!1,await ee(),c.value=!0}),(M,D)=>(s(),l(T,null,[e("div",{id:"main-content",ref_key:"filterElem",ref:r},[$(nn,{tab:_(t),"compute-status":n},null,8,["tab","compute-status"])],512),e("div",{ref_key:"boxElem",ref:f,class:"m-0 p-0"},[d.value.id?(s(),l("div",Pn,[$(In,{group:d.value,"image-size":_(t).state.imageSize,width:a.value,height:50,onClose:v,onScroll:m.value.scrollTo,onUpdate:D[0]||(D[0]=K=>ee(()=>h()))},null,8,["group","image-size","width","onScroll"])])):w("",!0)],512),a.value>0&&i.value>0&&c.value?(s(),l("div",Dn,[_(t).state.display=="tree"?(s(),x(pt,{key:0,"group-manager":_(t).collection.groupManager,"image-size":_(t).state.imageSize,height:i.value-0,properties:p.value,"hide-if-modal":!0,"selected-images":_(t).collection.groupManager.selectedImages,ref_key:"imageList",ref:m,width:a.value-25,onRecommend:k},null,8,["group-manager","image-size","height","properties","selected-images","width"])):w("",!0),_(t).state.display=="grid"?(s(),l("div",{key:1,style:Y({width:a.value-12+"px"}),class:"p-0 m-0 grid-container"},[$(mt,{manager:_(t).collection.groupManager,height:i.value-15,width:a.value-40,"selected-properties":p.value,class:"p-0 m-0","show-images":!0,"selected-images":_(t).collection.groupManager.selectedImages,ref_key:"imageList",ref:m,"hide-if-modal":!0},null,8,["manager","height","width","selected-properties","selected-images"])],4)):w("",!0),_(t).state.display=="graph"?(s(),x(On,{key:2,collection:_(t).collection,height:i.value-15},null,8,["collection","height"])):w("",!0)])):w("",!0)],64))}});const Gn=j(Ln,[["__scopeId","data-v-d39b32cf"]]),Rn={class:"d-flex d-row",style:{cursor:"pointer"}},jn=["onMouseenter","onMouseleave"],An=["onClick"],Un=["onClick"],Hn=["onClick"],Nn=["onSubmit"],Bn=["onKeydown","onUpdate:modelValue"],qn=e("span",{class:"bi bi-plus"},null,-1),Kn=[qn],Qn={class:"lang"},Wn=e("i",{class:"bi bi-translate",style:{"margin-right":"0.5rem"}},null,-1),Yn=["value"],Xn=P({__name:"TabNav",props:{reRender:Function},setup(u){const g=re(),t=z(-1),o=z(""),d=z(null),c=u;function r(h){g.data.selectedTabId==h||m(),g.selectTab(h)}function f(h){t.value=h,o.value=g.data.tabs[h].name,ee(()=>d.value[0].focus())}function m(){t.value=-1,o.value=""}function i(h){g.addTab("New Tab")}async function a(h){confirm("Are you sure to delete Tab: "+h.name)&&await g.removeTab(h.id)}const n=ce({});z(-1);const p=["fr","en"];return(h,k)=>(s(),l("nav",null,[e("div",Rn,[(s(!0),l(T,null,N(_(g).data.tabs,v=>(s(),l("div",{class:"d-flex d-row me-2",onMouseenter:M=>n[v.id]=!0,onMouseleave:M=>n[v.id]=!1},[t.value!=v.id?(s(),l(T,{key:0},[$(V,{message:"main.menu.rename_tab_tooltip"},{default:b(()=>[e("i",{onClick:M=>f(v.id),class:H(["bi bi-pencil me-1 tab-icon hover-light",n[v.id]&&_(g).data.selectedTabId==v.id?"":"hidden"]),style:{"font-size":"10px"}},null,10,An)]),_:2},1024),e("div",{class:H(["tab-button",v.id==_(g).data.selectedTabId?" active":""]),onClick:M=>r(v.id)},[e("span",null,y(v.name),1)],10,Un),$(V,{message:"main.menu.delete_tab_tooltip"},{default:b(()=>[e("i",{onClick:M=>a(v),class:H(["btn-icon bi bi-x tab-icon hover-light",n[v.id]?"":"hidden"]),style:{"font-size":"15px"}},null,10,Hn)]),_:2},1024)],64)):(s(),l("div",{key:1,class:H(["tab-button",v.id==_(g).data.selectedTabId?" active":""])},[e("form",{onSubmit:Oe(m,["stop","prevent"])},[pe(e("input",{onFocusout:m,onKeydown:_t(m,["escape"]),type:"text",class:"text-input","onUpdate:modelValue":M=>v.name=M,ref_for:!0,ref_key:"inputElem",ref:d},null,40,Bn),[[ge,v.name]])],40,Nn)],2))],40,jn))),256)),$(V,{message:"main.menu.add_tab_tooltip"},{default:b(()=>[e("button",{class:"tab-icon hover-light ps-1 pe-1",onClick:i,id:"add-tab-button"},Kn)]),_:1}),e("div",Qn,[Wn,pe(e("select",{"onUpdate:modelValue":k[0]||(k[0]=v=>h.$i18n.locale=v),onChange:k[1]||(k[1]=v=>c.reRender())},[(s(),l(T,null,N(p,(v,M)=>e("option",{key:`Lang${M}`,value:v},y(v.toUpperCase()),9,Yn)),64))],544),[[vt,h.$i18n.locale]])])])]))}});const Ae=u=>(X("data-v-6131c225"),u=u(),Z(),u),Zn={class:"d-flex flex-row m-0 p-0 overflow-hidden"},Jn={class:"w-100"},el={key:0,class:"custom-hr"},tl={key:1,class:"loading"},sl={class:"text-center"},ol={key:2,class:"loading"},al=Ae(()=>e("i",{class:"spinner-border",role:"status"},null,-1)),nl=Ae(()=>e("span",{class:"ms-1"},"Loading...",-1)),ll=[al,nl],il=P({__name:"PanopticView",setup(u){const g=re(),t=Q(),o=he(),d=z(null),c=z(null),r=z(window.innerHeight),f=z(!1),m=I(()=>{var v;return r.value-(((v=c.value)==null?void 0:v.clientHeight)??0)}),i=I(()=>{var v;return(v=d.value)==null?void 0:v.filteredImages.map(M=>M.id)});let a=navigator.userAgent.indexOf("Mac OS X")!==-1;ue(async()=>{o.isProjectLoaded||ze.push("/"),ee(()=>{window.addEventListener("resize",n),n()}),window.addEventListener("keydown",v=>{v.key=="Control"&&(G.ctrl=!0),v.key=="Alt"&&(a&&(G.ctrl=!0),G.alt=!0),v.key=="Shift"&&(G.shift=!0),v.key=="ArrowLeft"&&(G.left=!0),v.key=="ArrowRight"&&(G.right=!0,console.log("keeeyy")),v.key=="Z"&&G.ctrl&&t.redo(),v.key=="z"&&G.ctrl&&t.undo()}),window.addEventListener("keyup",v=>{v.key=="Control"&&(G.ctrl=!1),v.key=="Alt"&&(a&&(G.ctrl=!1),G.alt=!1),v.key=="Shift"&&(G.shift=!1),v.key=="ArrowLeft"&&(G.left=!1),v.key=="ArrowRight"&&(G.right=!1)}),window.addEventListener("mousemove",v=>{G.ctrl=v.ctrlKey,G.alt=v.altKey,G.shift=v.shiftKey,a&&(G.ctrl=G.ctrl||G.alt)})}),ht(()=>{window.removeEventListener("resize",n)});function n(){r.value=window.innerHeight,f.value=!0}function p(){o.showModal(ne.EXPORT,i)}function h(){g.rerender()}function k(){ze.push("/")}return(v,M)=>(s(),l(T,null,[d.value&&!d.value.imageList?(s(),x(gt,{key:0,tutorial:"project"})):w("",!0),(s(),l("div",{id:"panoptic",key:_(g).status.renderNb},[e("div",Zn,[_(g).status.loaded?(s(),l(T,{key:0},[e("div",null,[$(Gs,{onExport:M[0]||(M[0]=D=>p())})]),e("div",Jn,[e("div",{class:"ms-3",ref_key:"navElem",ref:c},[$(Xn,{"re-render":h})],512),f.value?(s(),l("div",el)):w("",!0),$(Gn,{"tab-id":_(g).data.selectedTabId,height:m.value,ref_key:"mainViewRef",ref:d},null,8,["tab-id","height"])])],64)):_(o).isProjectLoaded?(s(),l("div",ol,ll)):(s(),l("div",tl,[e("div",sl,[e("div",null,y(v.$t("main.status.no_project")),1),e("div",{class:"bi bi-house p-3",onClick:k,style:{"font-size":"50px",cursor:"pointer"}})])]))])]))],64))}});const cl=j(il,[["__scopeId","data-v-6131c225"]]);export{cl as default};
