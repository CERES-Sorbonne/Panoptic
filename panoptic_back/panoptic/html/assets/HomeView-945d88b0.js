import{d as U,u as O,r as b,c as $,a,b as e,t as r,e as y,w as x,v as C,n as M,M as L,o as n,g as H,_ as F,F as P,f as K,h,i as E,j as W,k as Q,l as X,m as z,p as A,q as D,s as Y,x as G,D as Z,P as ee}from"./index-1299f404.js";import{_ as te}from"./Tutorial-72f45a71.js";const se={class:""},le={class:"mb-3"},ne={class:"d-flex text-start input mb-2"},oe={class:"info"},ae={key:0},ie={key:1,class:"text-placeholder"},re={class:"d-flex text-start input"},ue={class:"info"},de={class:"flex-grow-1 value text-dim"},ce={class:"d-flex mt-2"},pe=U({__name:"Create",emits:["cancel","create"],setup(S,{emit:l}){const g=O(),c=l,v=b(""),o=b(""),u=$(()=>v.value!=""&&o.value!="");function f(_){_&&(v.value=_)}function p(){g.showModal(L.FOLDERSELECTION,{callback:f,mode:"create"})}return(_,m)=>(n(),a("div",se,[e("h3",le,r(_.$t("main.home.create_title")),1),e("div",ne,[e("div",oe,r(_.$t("main.home.label.folder")),1),e("div",{class:"flex-grow-1 value text-dim",style:{cursor:"pointer"},onClick:p},[v.value!=""?(n(),a("span",ae,r(v.value),1)):(n(),a("span",ie,r(_.$t("main.home.label.path_placeholder")),1))]),e("div",{id:"select-folder",class:"folder",style:{cursor:"pointer"},onClick:m[0]||(m[0]=k=>{p(),y(H)()})},m[4]||(m[4]=[e("i",{class:"bi bi-folder"},null,-1)]))]),e("div",re,[e("div",ue,r(_.$t("main.home.label.name")),1),e("div",de,[x(e("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=k=>o.value=k),placeholder:"project_name",style:{width:"100%"}},null,512),[[C,o.value]])])]),e("div",ce,[m[5]||(m[5]=e("div",{class:"flex-grow-1"},null,-1)),e("div",{class:"btn-grey hover-grey",onClick:m[2]||(m[2]=k=>c("cancel"))},r(_.$t("main.home.label.cancel")),1),e("div",{id:"confirm-create",class:M(["ms-2",u.value?"btn-blue":"btn-grey text-dim"]),onClick:m[3]||(m[3]=k=>{c("create",{path:v.value,name:o.value}),y(H)()})},r(_.$t("main.home.label.create")),3)])]))}});const me=F(pe,[["__scopeId","data-v-9d2b8ee6"]]),ve={class:"create-option d-flex"},_e={class:"flex-grow-1"},he={class:"create-title m-0"},ge={class:"create-explanation"},fe={class:"create-option d-flex"},be={class:"flex-grow-1"},ye={class:"create-title m-0"},$e={class:"create-explanation"},ke=U({__name:"Options",emits:["create","import"],setup(S,{emit:l}){const g=O(),c=l;function v(u){u&&c("import",u)}function o(){g.showModal(L.FOLDERSELECTION,{callback:v,mode:"import"})}return(u,f)=>(n(),a(P,null,[e("div",ve,[e("div",_e,[e("h6",he,r(u.$t("main.home.projects.create")),1),e("span",ge,r(u.$t("main.home.projects.create_details")),1)]),e("div",{id:"create-project",class:"create-btn highlight",onClick:f[0]||(f[0]=p=>{c("create"),y(H)()})},r(u.$t("main.home.projects.create_button")),1)]),e("div",fe,[e("div",be,[e("h6",ye,r(u.$t("main.home.projects.import")),1),e("span",$e,r(u.$t("main.home.projects.import_details")),1)]),e("div",{class:"create-btn",onClick:o},r(u.$t("main.home.projects.import_button")),1)])],64))}});const we=F(ke,[["__scopeId","data-v-45a6c858"]]),xe="/assets/duck-0f72bec4.svg";const B="ArrowUpArrowUpArrowDownArrowDownArrowLeftArrowRightArrowLeftArrowRightba",Ce={__name:"Egg",setup(S){let l="",g=b(-1100),c="";return window.addEventListener("keydown",async function(v){l+=v.key,B.slice(0,l.length)!==l&&(l=""),l.length===B.length&&(l===B&&(c="",g.value=-50,setTimeout(()=>{c="active",g.value=-100},1500)),l="")}),(v,o)=>(n(),a("div",{id:"duck-container",style:K({right:y(g).toString()+"vh"}),class:M(y(c))},o[0]||(o[0]=[e("img",{alt:"Duck",class:"logo",src:xe,style:{height:"100vh"}},null,-1)]),6))}},Pe=F(Ce,[["__scopeId","data-v-0f098a42"]]),Ee={style:{"font-size":"20px"},class:"mb-1"},Me={key:0,class:"d-flex"},Le={key:2,style:{position:"relative",top:"7px"},class:"spinner-border spinner-border-sm text-primary ms-1",role:"status"},Fe={class:"visually-hidden"},Se={key:1,class:"d-flex"},je={key:2,style:{position:"relative",top:"7px"},class:"spinner-border spinner-border-sm text-primary ms-1",role:"status"},Ie={class:"visually-hidden"},Ve={key:2,class:"text-warning"},Ne=U({__name:"PluginForm",emits:["cancel"],setup(S,{expose:l,emit:g}){const c=O(),v=g;l({setPanopticMl:i});const o=b("github"),u=b(""),f=b(""),p=b(""),_=b(!1),m=$(()=>c.data.plugins.map(t=>t.name)),k=$(()=>!(p.value==""||m.value.includes(p.value))),w=$(()=>o.value=="github"&&u.value.length>0||o.value=="local"&&f.value.length>0),j=$(()=>w.value&&k.value),I=$(()=>w.value&&m.value.includes(p.value)?"main.home.plugins.error_name_not_unique":w.value?"main.home.plugins.require_unique_name":o.value=="github"?"main.home.plugins.require_url":"main.home.plugins.require_folder");function R(t){if(!t)return;f.value=t;let s=t.split("/"),d=s[s.length-1]||s[s.length-2];d&&(p.value=d)}function T(){c.showModal(L.FOLDERSELECTION,{callback:R})}function q(){if(o.value=="github"&&p.value==""){const t=u.value.split("/"),s=t[t.length-1],d=s.endsWith(".git")?s.slice(0,-4):s;p.value=d}}async function V(){_.value=!0,await W();const t={pluginName:p.value};o.value=="github"&&(t.gitUrl=u.value),o.value=="local"&&(t.path=f.value),await c.addPlugin(t),_.value=!1,v("cancel")}function i(){o.value="github",u.value="https://github.com/CERES-Sorbonne/PanopticML",p.value="PanopticML"}return(t,s)=>(n(),a("div",null,[e("div",Ee,[e("i",{class:M(["bi bi-github rounded bbb me-1",o.value=="github"?"selected":""]),onClick:s[0]||(s[0]=d=>o.value="github")},null,2),e("i",{class:M(["bi bi-folder rounded bbb me-1",o.value=="local"?"selected":""]),onClick:s[1]||(s[1]=d=>o.value="local")},null,2)]),o.value=="github"?(n(),a("div",Me,[s[7]||(s[7]=e("i",{class:"bi bi-github me-2 ms-1",style:{"font-size":"19px"}},null,-1)),x(e("input",{type:"url","onUpdate:modelValue":s[2]||(s[2]=d=>u.value=d),placeholder:"Enter git url",style:{width:"250px"}},null,512),[[C,u.value]]),w.value?x((n(),a("input",{key:0,"onUpdate:modelValue":s[3]||(s[3]=d=>p.value=d),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2",onFocus:q},null,544)),[[C,p.value]]):h("",!0),j.value?(n(),a("div",{key:1,class:"bbb ms-2",onClick:V},r(t.$t("main.home.plugins.install")),1)):h("",!0),_.value?(n(),a("div",Le,[e("span",Fe,r(t.$t("main.home.plugins.load")),1)])):h("",!0)])):h("",!0),o.value=="local"?(n(),a("div",Se,[e("div",{class:"bbb pe-2 me-2",style:{"white-space":"nowrap"},onClick:T},s[8]||(s[8]=[e("i",{class:"bi bi-folder me-2 ms-1"},null,-1),E("Select")])),x(e("input",{type:"url","onUpdate:modelValue":s[4]||(s[4]=d=>f.value=d),placeholder:"Folder path",style:{width:"180px"}},null,512),[[C,f.value]]),w.value?x((n(),a("input",{key:0,"onUpdate:modelValue":s[5]||(s[5]=d=>p.value=d),type:"text",placeholder:"plugin unique name",style:{width:"150px"},class:"ms-2"},null,512)),[[C,p.value]]):h("",!0),j.value?(n(),a("div",{key:1,class:"bbb ms-2",onClick:V},r(t.$t("main.home.plugins.install")),1)):h("",!0),_.value?(n(),a("div",je,[e("span",Ie,r(t.$t("main.home.plugins.load")),1)])):h("",!0)])):h("",!0),e("div",{class:M(["mt-2 mb-2",I.value.includes(".error")?"text-danger":""])},r(t.$t(I.value)),3),o.value!="github"||o.value=="github"&&!u.value.includes("github.com/CERES-Sorbonne")?(n(),a("div",Ve,r(t.$t("main.home.plugins.warning")),1)):h("",!0),e("div",null,[e("div",{class:"bbb mt-2 text-center",style:{width:"70px"},onClick:s[6]||(s[6]=d=>v("cancel"))},"Cancel")])]))}});const Ae=F(Ne,[["__scopeId","data-v-8b26e035"]]),De={key:0},Ue={class:"window2 d-flex"},Oe={key:0,class:"project-menu"},Re={class:"d-flex"},Te=["onClick"],qe={class:"m-0"},ze={class:"m-0 p-0 text-wrap text-break dimmed-2",style:{"font-size":"13px"}},Be={class:"project-option flex-shrink-0"},He={class:"text-start p-1"},We=["onClick"],Ge={class:"mt-1"},Je=["checked","onChange"],Ke={key:1,class:"flex-grow-1"},Qe={class:"d-flex flex-column main-menu justify-content-center"},Xe={class:"icon"},Ye={class:"lang"},Ze=["value"],et={id:"main-menu",class:"create-menu mt-5 pt-5"},tt={class:"mt-5 plugin-preview"},st={class:"text-center"},lt={key:0,class:"text-center"},nt={class:"flex-grow-1 plugin-preview",style:{"overflow-y":"auto"}},ot={key:1},at={class:"ps-1"},it=["onClick"],rt={key:2,class:"text-center mt-5 w-100"},ut=U({__name:"HomeView",setup(S){const l=O(),g=b(0),c=b(!1),v=b(null),o=b(!0),u=["fr","en"],f=$(()=>Array.isArray(l.data.status.projects)&&l.data.status.projects.length>0),p=$(()=>!f.value&&l.data.init),_=$(()=>!f.value&&l.data.init&&l.openModalId!==L.FIRSTMODAL),m=$(()=>l.data.plugins.some(i=>i.sourceUrl&&i.sourceUrl.includes("https://github.com/CERES-Sorbonne/PanopticML"))),k=$(()=>{const i={};return l.data.status.projects.forEach(t=>{i[t.path]={},l.data.plugins.forEach(s=>i[t.path][s.name]=!0),l.data.status.ignoredPlugins[t.path]&&l.data.status.ignoredPlugins[t.path].forEach(s=>{i[t.path][s]=!1})}),i});function w(i){return i.replaceAll("-","â€‘")}function j(i){i.path&&i.name&&l.createProject(i.path,i.name)}function I(i){l.importProject(i)}function R(i){l.delPlugin(i)}async function T(){c.value=!0,await W(),v.value.setPanopticMl()}async function q(){o.value=!1,await W(),o.value=!0}async function V(i,t,s){await l.updateIgnorePlugin(i,t,!s)}return Q(()=>{l.isProjectLoaded&&X.push("/view"),p.value&&l.showModal(L.FIRSTMODAL)}),(i,t)=>o.value?(n(),a("div",De,[z(Pe),_.value?(n(),A(te,{key:0})):h("",!0),e("div",Ue,[f.value?(n(),a("div",Oe,[(n(!0),a(P,null,D(y(l).data.status.projects,s=>(n(),a("div",Re,[e("div",{class:"project flex-grow-1 overflow-hidden",onClick:d=>y(l).loadProject(s.path)},[e("h5",qe,r(s.name),1),e("div",ze,r(w(s.path)),1)],8,Te),e("div",Be,[z(Z,null,{button:G(()=>t[5]||(t[5]=[e("div",{style:{position:"relative",top:"10px"}},[e("i",{class:"bb bi bi-three-dots-vertical"})],-1)])),popup:G(({hide:d})=>[e("div",He,[e("div",{onClick:N=>{y(l).deleteProject(s.path),d()},class:"bb"},t[6]||(t[6]=[e("i",{class:"bi bi-trash me-1"},null,-1),E("delete ")]),8,We),t[7]||(t[7]=e("div",{style:{"border-top":"1px solid var(--border-color)",width:"100%"},class:"mt-1"},null,-1)),(n(!0),a(P,null,D(y(l).data.plugins,N=>(n(),a("div",Ge,[e("input",{type:"checkbox",class:"me-1",checked:k.value[s.path][N.name],onChange:J=>V(s.path,N.name,J.target.checked)},null,40,Je),E(r(N.name),1)]))),256))])]),_:2},1024)])]))),256))])):h("",!0),y(l).data.init?(n(),a("div",Ke,[e("div",Qe,[e("div",null,[e("div",Xe,[z(ee)]),t[9]||(t[9]=e("h1",{class:"m-0 p-0"},"Panoptic",-1)),t[10]||(t[10]=e("h6",{class:"dimmed-2"},"Version 0.4",-1)),e("div",Ye,[t[8]||(t[8]=e("i",{class:"bi bi-translate",style:{"margin-right":"0.5rem"}},null,-1)),x(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.$i18n.locale=s),onChange:q},[(n(),a(P,null,D(u,(s,d)=>e("option",{key:`Lang${d}`,value:s},r(s.toUpperCase()),9,Ze)),64))],544),[[Y,i.$i18n.locale]])])]),e("div",et,[g.value==0?(n(),A(we,{key:0,onCreate:t[1]||(t[1]=s=>g.value=1),onImport:I})):h("",!0),g.value==1?(n(),A(me,{key:1,onCancel:t[2]||(t[2]=s=>g.value=0),onCreate:j})):h("",!0)]),e("div",tt,[e("h5",st,[t[11]||(t[11]=E(" Plugins ")),e("span",{class:"sb bi bi-plus",style:{position:"relative",top:"1px"},onClick:t[3]||(t[3]=s=>c.value=!0)})]),m.value?h("",!0):(n(),a("div",lt,[e("span",{class:"bb ms-1 me-1",onClick:T},[t[12]||(t[12]=e("i",{class:"bi bi-lightbulb"},null,-1)),E(" "+r(i.$t("main.home.plugins.install_panoptic_ml")),1)])]))]),e("div",nt,[c.value?(n(),A(Ae,{key:0,onCancel:t[4]||(t[4]=s=>c.value=!1),ref_key:"pluginFormElem",ref:v},null,512)):(n(),a("div",ot,[(n(!0),a(P,null,D(y(l).data.plugins,s=>(n(),a("div",at,[e("span",{onClick:d=>R(s.path),class:"bi bi-x base-hover"},null,8,it),e("span",null,r(s.name),1)]))),256))]))])])])):(n(),a("div",rt,t[13]||(t[13]=[e("p",null,"Waiting for Server...",-1)])))])])):h("",!0)}});const pt=F(ut,[["__scopeId","data-v-c98c58bc"]]);export{pt as default};
