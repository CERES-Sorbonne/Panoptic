import{d as D,V as Ue,u as he,W as re,B as K,r as I,c as V,X as Q,o as s,a as l,b as e,q as k,Y as ke,t as b,i as x,w as pe,v as ge,e as _,Z as Ee,M as ne,z as $,$ as F,a0 as we,s as S,a1 as Oe,n as H,S as U,a2 as Se,j as te,a3 as He,p as X,f as Z,_ as j,D as oe,a4 as Ne,a5 as Ce,a6 as Pe,F as T,x as N,h as Y,a7 as be,a8 as Ve,g as xe,a9 as Be,aa as Fe,ab as qe,ac as Qe,L as Ke,ad as We,ae as Ye,O as Xe,R as Ze,Q as Je,af as et,ag as tt,ah as st,ai as De,l as ue,k as ee,aj as Le,ak as ot,al as ie,am as se,an as at,ao as nt,ap as lt,aq as it,ar as rt,as as dt,at as ct,au as ce,av as ut,aw as pt,ax as mt,ay as _t,y as vt,m as ze,C as G,az as ht}from"./index-9c28c371.js";import{_ as gt}from"./Tutorial-513a3a94.js";const ve={},le=u=>(X("data-v-fde3194e"),u=u(),Z(),u),ft={class:"d-flex flex-row"},yt={key:1,class:"d-flex",style:{width:"150px"}},bt={class:"flex-grow-1"},$t={key:1,style:{"padding-top":"1px"}},kt=le(()=>e("i",{class:"bi bi-arrows-fullscreen"},null,-1)),wt={style:{width:"20px","margin-top":"2px"},class:"text-center"},xt=le(()=>e("i",{class:"bi bi-link-45deg"},null,-1)),St={class:"text-center",style:{width:"20px","margin-top":"2px"}},Ct=le(()=>e("i",{class:"bi bi-chevron-down"},null,-1)),Mt=le(()=>e("i",{class:"bi bi-chevron-right"},null,-1)),It={key:0,class:"ms-3 pt-1"},Vt=le(()=>e("i",{class:"bi bi-funnel-fill me-2"},null,-1)),Ft=le(()=>e("i",{class:"bi bi-filter me-2"},null,-1)),zt=le(()=>e("i",{class:"bi bi-collection me-2"},null,-1)),Tt=le(()=>e("i",{class:"bi bi-trash me-2"},null,-1)),Et={key:1},Ot=D({__name:"PropertyOptions",props:{property:Object},setup(u){const{t:h}=Ue({useScope:"global"}),t=he(),o=re(),d=K(),c=o.getTabManager(),r=u,g=I(!1),m=I(!1),i=I(""),a=I(!1),n=V(()=>o.getTab()),p=V(()=>n.value.visibleProperties[r.property.id]==!0),v=V(()=>c.collection.filterManager.state.filter.filters.some(z=>!z.isGroup&&z.propertyId==r.property.id)),w=V(()=>c.collection.groupManager.state.groupBy.includes(r.property.id)),f=V(()=>c.collection.sortManager.state.sortBy.includes(r.property.id)),y=V(()=>{if(v.value)return c.collection.filterManager.state.filter.filters.find(z=>!z.isGroup&&z.propertyId==r.property.id).id}),E=()=>c.collection.filterManager,B=V(()=>c.getSha1Mode());function ae(){p.value?c.setVisibleProperty(r.property.id,!1):c.setVisibleProperty(r.property.id,!0)}function M(){g.value?g.value=!1:(g.value=!0,i.value=r.property.name),m.value=!1}function C(){r.property.type!=U.tag&&r.property.type!=U.multi_tags||(m.value?m.value=!1:m.value=!0,g.value=!1)}function O(){f.value?c.collection.sortManager.delSort(r.property.id):c.collection.sortManager.setSort(r.property.id),c.collection.sortManager.update(!0)}function A(){w.value?c.collection.groupManager.delGroupOption(r.property.id):c.collection.groupManager.setGroupOption(r.property.id),c.collection.groupManager.update(!0)}function W(){confirm(h("common.properties.delete")+": "+r.property.name+" ?   "+r.property.id)&&d.deleteProperty(r.property.id)}async function R(){i.value!=""&&(await d.updateProperty(r.property.id,i.value),M())}function L(){const z=E();v.value?(z.deleteFilter(y.value),ve.filter.hide()):(z.addNewFilter(r.property.id),ve.filter.show())}return Q(()=>r.property,()=>{g.value=!1}),(z,P)=>(s(),l("div",{class:H(a.value?"hover-light":"")},[e("div",ft,[g.value?x("",!0):(s(),l("div",{key:0,class:"option-holder hover-light btn-icon",style:{width:"150px"},onClick:M},[k(ke,{type:r.property.type,class:"me-2 btn-icon",onMouseenter:P[0]||(P[0]=q=>a.value=!0),onMouseleave:P[1]||(P[1]=q=>a.value=!1)},null,8,["type"]),e("span",null,b(r.property.name),1)])),g.value?(s(),l("div",yt,[e("div",null,[e("i",{class:"btn-icon me-1 bi bi-x-lg",style:{padding:"2px"},onClick:M,onMouseenter:P[2]||(P[2]=q=>a.value=!0),onMouseleave:P[3]||(P[3]=q=>a.value=!1)},null,32)]),e("div",bt,[r.property.id>=0?pe((s(),l("input",{key:0,style:{position:"relative",top:"1px"},type:"text",class:"text-input","onUpdate:modelValue":P[4]||(P[4]=q=>i.value=q),onChange:R},null,544)),[[ge,i.value]]):(s(),l("span",$t,[k(ke,{type:r.property.type,class:"me-2 btn-icon"},null,8,["type"]),e("span",null,b(r.property.name),1)]))])])):x("",!0),_(Ee)(r.property.type)?(s(),l("div",{key:2,style:{width:"20px","margin-top":"2px",cursor:"pointer"},class:"text-center",onClick:P[5]||(P[5]=q=>_(t).showModal(_(ne).TAG,{propId:r.property.id}))},[k(F,{click:!1,message:"main.nav.properties.open_tags"},{default:$(()=>[kt]),_:1})])):x("",!0),e("div",wt,[r.property.mode==_(we).id?(s(),S(F,{key:0,click:!1,message:"main.nav.properties.linked_property_tooltip"},{default:$(()=>[xt]),_:1})):x("",!0)]),e("div",{style:{width:"20px","margin-top":"2px"},onClick:ae,class:"btn-icon text-center"},[B.value&&r.property.mode==_(we).id?(s(),S(F,{key:0,message:"main.nav.properties.hidden_property_tooltip"},{default:$(()=>[e("span",{class:"bi bi-eye-slash",onClick:P[6]||(P[6]=Oe(()=>{},["stop"]))})]),_:1})):(s(),S(F,{key:1,pos:"right",message:"main.nav.properties.hide_property_tooltip"},{default:$(()=>[e("span",{class:H("bi bi-eye text-"+(p.value?"primary":"secondary"))},null,2)]),_:1}))]),e("div",St,[r.property.type==_(U).tag||r.property.type==_(U).multi_tags?(s(),l("div",{key:0,onClick:C,style:{cursor:"pointer"}},[m.value?(s(),S(F,{key:0,message:"main.nav.properties.collapse_property_tooltip"},{default:$(()=>[Ct]),_:1})):(s(),S(F,{key:1,message:"main.nav.properties.expand_property_tooltip"},{default:$(()=>[Mt]),_:1}))])):x("",!0)])]),e("div",null,[g.value?(s(),l("div",It,[u.property.id!=_(Se).folders?(s(),l("div",{key:0,class:H(["options hover-light",v.value?" text-primary":""]),onClick:L},[e("div",null,[Vt,te(b(z.$t("main.menu.filters")),1)])],2)):x("",!0),e("div",{class:H(["options hover-light",f.value?" text-primary":""]),onClick:O},[Ft,te(b(z.$t("main.menu.sort.title")),1)],2),e("div",{class:H(["options hover-light",w.value?" text-primary":""]),onClick:A},[zt,te(b(z.$t("main.menu.groupby")),1)],2),r.property.id>=0?(s(),l("div",{key:1,class:"options hover-light",onClick:W},[Tt,te(b(z.$t("main.nav.properties.delete_property")),1)])):x("",!0)])):m.value?(s(),l("div",Et,[k(He,{property:r.property,"can-create":!0,"can-customize":!0,"can-delete":!0,"can-link":!0},null,8,["property"])])):x("",!0)])],2))}});const Te=j(Ot,[["__scopeId","data-v-fde3194e"]]),Pt=e("i",{class:"bi bi-three-dots base-hover"},null,-1),Dt={class:"text-nowrap"},Lt=["onClick"],Gt=e("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),Rt=e("div",{class:"custom-hr"},null,-1),jt=["onClick"],At=e("i",{class:"bi bi-trash me-1"},null,-1),Ut=D({__name:"FolderOptionDropdown",props:{folder:{}},setup(u){const h=K(),t=u;function o(){h.reImportFolder(t.folder.id)}function d(){confirm(Ne.global.t("main.nav.folders.del_alert"))&&h.deleteFolder(t.folder.id)}return(c,r)=>(s(),S(oe,{teleport:!0},{button:$(()=>[Pt]),popup:$(({hide:g})=>[e("div",Dt,[e("div",{class:"p-2 bb",onClick:m=>{o(),g()}},[Gt,te("Re import")],8,Lt),Rt,e("div",{class:"bb p-2",onClick:m=>{d(),g()}},[At,te(b(c.$t("main.nav.folders.del")),1)],8,jt)])]),_:1}))}}),Ht=["onMouseenter"],Nt=["onClick"],Bt={class:"text-secondary"},qt=["onClick"],Qt=D({__name:"FolderList2",props:{folders:Array,visibleFolders:Object,filterManager:Ce,root:{type:Boolean,default:!0}},setup(u){const h=K(),t=u,o=I(null),d=V(()=>{let a={};const n=new Set(t.filterManager.state.folders);return t.folders.map(p=>p.id).forEach(p=>{n.has(p)&&(a[p]=!0)}),a}),c=V(()=>{let a={};return t.folders.map(n=>n.id).forEach(n=>{t.visibleFolders[n]&&(a[n]=!0)}),a}),r=V(()=>{let a={};return t.folders.forEach(n=>{let p=[];d.value[n.id]&&p.push("selected"),a[n.id]=p.join(" ")}),a});function g(a){let n=t.visibleFolders;n[a]?delete n[a]:n[a]=!0}function m(a){let n=new Set(t.filterManager.state.folders);const p=n.has(a),v=h.folders[a].parent!=null&&n.has(h.folders[a].parent);p&&!v?(n.delete(a),be(a).forEach(w=>n.delete(w.id))):(i(a,n),n.add(a),be(a).forEach(w=>n.add(w.id)),Ve(h.folders[a]).forEach(w=>n.delete(w.id))),t.filterManager.setFolders(Array.from(n)),t.filterManager.update(!0)}function i(a,n){const p=Ve(h.folders[a]);let v;for(let w of p)if(n.has(w.id))v=w;else break;v!=null&&be(v.id).forEach(w=>n.delete(w.id))}return(a,n)=>{const p=Pe("FolderList2",!0);return s(),l("ul",{class:H(t.root?"tree":""),style:Y(t.root?"padding-left:0px;":"")},[(s(!0),l(T,null,N(u.folders,v=>(s(),l("li",{style:Y(t.root?"padding-left:0px;":""),class:"no-break",onMouseenter:w=>o.value=v.id,onMouseleave:n[0]||(n[0]=w=>o.value=null)},[e("summary",{class:H(r.value[v.id]),onClick:w=>m(v.id)},[te(b(v.name)+" ",1),e("span",Bt,b(v.count),1)],10,Nt),v.children&&v.children.length>0?(s(),l("i",{key:0,onClick:w=>g(v.id),class:H("bi bi-chevron-"+(c.value[v.id]?"down":"right")+" ms-2 btn-icon"),style:{"font-size":"9px"}},null,10,qt)):x("",!0),e("span",{class:H(o.value===v.id?"visible-option":"invisible-option")},[k(Ut,{folder:v,style:{display:"inline-block"}},null,8,["folder"])],2),v.children&&v.children.length>0&&c.value[v.id]?(s(),S(p,{key:1,folders:v.children,root:!1,"visible-folders":t.visibleFolders,"filter-manager":t.filterManager},null,8,["folders","visible-folders","filter-manager"])):x("",!0)],44,Ht))),256))],6)}}});const Kt=j(Qt,[["__scopeId","data-v-069cc964"]]),Wt={class:"text-center"},Yt={class:"w-100 text-center",style:{"font-size":"10px"}},Xt={key:0,class:"progress",role:"progressbar","aria-label":"Example 1px high","aria-valuemin":"0","aria-valuemax":"100",style:{height:"1px"}},Zt=D({__name:"TaskStatus",props:{task:{}},setup(u){const h=u,t=V(()=>h.task.total-h.task.remain-h.task.computing),o=V(()=>h.task.total);return(d,c)=>(s(),l("div",Wt,[te(b(h.task.name)+" ",1),e("div",Yt,b(t.value)+" / "+b(o.value)+" "+b(d.$t("main.nav.tasks.done")),1),o.value>0?(s(),l("div",Xt,[e("div",{class:"progress-bar",style:Y(`width: ${t.value/o.value*100}%`)},null,4)])):x("",!0)]))}}),J=u=>(X("data-v-a5725e66"),u=u(),Z(),u),Jt={class:"menu overflow-scroll"},es={class:""},ts={class:"m-0",style:{padding:"4px 0px 4px 8px"}},ss={class:"d-flex align-items-center",style:{"font-size":"15px","line-height":"14px"}},os=J(()=>e("i",{class:"bi bi-gear"},null,-1)),as=[os],ns=J(()=>e("i",{class:"bi bi-arrow-left-right"},null,-1)),ls=[ns],is=J(()=>e("div",{class:"custom-hr"},null,-1)),rs={class:"ps-2 pe-2",style:{"padding-bottom":"9.5px"}},ds={class:"d-flex align-items-center"},cs=J(()=>e("i",{class:"bi bi-plus"},null,-1)),us={style:{"max-height":"300px",overflow:"auto"}},ps={key:0,id:"import"},ms=J(()=>e("div",{class:"custom-hr"},null,-1)),_s={class:"pt-1 pb-2"},vs={class:"d-flex align-items-center ps-2 pe-2",style:{height:"30px"}},hs=J(()=>e("div",{class:"custom-hr"},null,-1)),gs={key:0,class:"ps-2 pe-2"},fs={class:"p-1"},ys={key:0,class:"custom-hr"},bs=J(()=>e("div",{class:"custom-hr"},null,-1)),$s={class:"p-2 mt-0"},ks={class:"d-flex"},ws=J(()=>e("span",{class:"flex-grow-1"},null,-1)),xs={key:0,class:"spinner-grow spinner-grow-sm float-end",style:{width:"10px",height:"10px","margin-top":"5px"}},Ss=J(()=>e("span",{class:"sr-only"},null,-1)),Cs=[Ss],Ms={key:1,class:"bb me-1"},Is={class:"bb me-2"},Vs={key:0,class:"mt-2"},Fs={key:0,class:"property-item"},zs=J(()=>e("div",{class:"property-item m-0 p-0"},null,-1)),Ts=J(()=>e("i",{class:"bi bi-plus btn-icon float-start",style:{"font-size":"25px"}},null,-1)),Es=J(()=>e("div",{class:"custom-hr"},null,-1)),Os={class:"p-2 mt-0"},Ps={key:0,class:"mt-2"},Ds={key:0,class:"property-item"},Ls=D({__name:"Menu",emits:["export"],setup(u,{emit:h}){const t=re(),o=K(),d=he(),c=t.getTabManager(),r=I(!1),g=I(!1),m=async p=>{d.showModal(ne.IMPORT)},i=V(()=>t.backendStatus.tasks.filter(p=>!p.done));function a(){d.showModal(ne.FOLDERSELECTION,{callback:n,mode:"images"})}function n(p){p&&o.addFolder(p)}return Q(()=>t.status.import.to_import,()=>r.value=!0),(p,v)=>{var w;return s(),l("div",Jt,[e("div",es,[e("div",null,[e("div",ts,[e("div",ss,[e("div",{class:"flex-grow-1 text-capitalize overflow-hidden",onClick:v[0]||(v[0]=()=>{})},b((w=_(d).data.status.selectedProject)==null?void 0:w.name),1),e("div",{class:"base-hover p-1",onClick:v[1]||(v[1]=f=>_(d).showModal(_(ne).SETTINGS))},as),e("div",{class:"base-hover p-1",style:{"margin-right":"6px"},onClick:v[2]||(v[2]=f=>_(d).closeProject())},ls)])]),is,e("div",rs,[e("div",ds,[e("div",null,[e("b",null,b(p.$t("main.nav.folders.title")),1)]),e("div",{id:"add_folder",class:"ms-auto plus",onClick:v[3]||(v[3]=f=>{a(),_(xe)()})},[k(F,{message:"main.nav.folders.add"},{default:$(()=>[cs]),_:1})])]),e("div",us,[_(t).getTab()?(s(),S(Kt,{key:0,folders:_(o).folderRoots,"filter-manager":_(c).collection.filterManager,"visible-folders":_(c).state.visibleFolders},null,8,["folders","filter-manager","visible-folders"])):x("",!0)])]),i.value&&i.value.length?(s(),l("div",ps,[ms,e("div",_s,[e("div",vs,[e("div",null,[e("b",null,b(p.$t("main.nav.tasks.title")),1)])]),hs,_(t).backendStatus?(s(),l("div",gs,[(s(!0),l(T,null,N(i.value,(f,y)=>(s(),l("div",fs,[y?(s(),l("div",ys)):x("",!0),k(Zt,{task:f},null,8,["task"])]))),256))])):x("",!0)])])):x("",!0),bs,e("div",$s,[e("div",ks,[k(F,{message:"main.nav.properties.properties_tooltip",pos:"top",icon:!0},{default:$(()=>[e("b",null,b(p.$t("main.nav.properties.title")),1)]),_:1}),ws,g.value?(s(),l("span",xs,Cs)):(s(),l("span",Ms,[k(F,{pos:"right",message:"main.nav.properties.import_properties_tooltip"},{default:$(()=>[e("i",{class:"bi bi-box-arrow-in-up text-secondary",style:{position:"relative",top:"0px","font-size":"15px"},onClick:m})]),_:1})])),e("span",Is,[k(F,{pos:"right",message:"main.nav.properties.export_properties_tooltip"},{default:$(()=>[e("i",{class:"bi bi-box-arrow-up text-secondary",style:{position:"relative",top:"0px","font-size":"15px"},onClick:v[4]||(v[4]=f=>_(d).showModal(_(ne).EXPORT,void 0))})]),_:1})])]),_(t).status.loaded?(s(),l("div",Vs,[(s(!0),l(T,null,N(_(o).properties,f=>(s(),l(T,null,[f.id>=0?(s(),l("div",Fs,[k(Te,{property:f},null,8,["property"])])):x("",!0)],64))),256)),zs,e("div",{id:"add-property",onClick:v[5]||(v[5]=f=>{_(d).showModal(_(ne).PROPERTY,void 0),_(xe)()}),class:"btn-icon base-hover mt-1",style:{"line-height":"25px"}},[Ts,e("span",null,b(p.$t("main.nav.properties.add_property")),1)])])):x("",!0)]),Es,e("div",Os,[k(F,{message:"main.nav.computed.computed_tooltip",icon:!0},{default:$(()=>[e("b",null,b(p.$t("main.nav.computed.title")),1)]),_:1}),_(t).status.loaded?(s(),l("div",Ps,[(s(!0),l(T,null,N(_(o).properties,f=>(s(),l(T,null,[f.id<0&&f.id!=_(Be)?(s(),l("div",Ds,[k(F,{pos:"bottom",message:"main.nav.computed."+Math.abs(f.id).toString()+"_tooltip"},{default:$(()=>[k(Te,{property:f},null,8,["property"])]),_:2},1032,["message"])])):x("",!0)],64))),256))])):x("",!0)])])])])}}});const Gs=j(Ls,[["__scopeId","data-v-a5725e66"]]),Rs={class:"p-0 hover-light ps-1 bb",style:{width:"50px"}},js={class:""},As=["onClick"],Us=e("hr",{class:"m-0 p-0 mt-1 mb-1"},null,-1),Hs=D({__name:"FilterGroupOperator",props:{modelValue:{}},emits:["update:modelValue"],setup(u,{emit:h}){const t=u,o=h;function d(c){o("update:modelValue",c)}return(c,r)=>(s(),S(oe,null,{button:$(()=>[e("div",Rs,[e("span",js,b(c.$t("modals.filters."+t.modelValue)),1)])]),popup:$(({hide:g})=>[e("div",{class:"ps-2 pt-1 pb-1 pe-2",onClick:g},[e("div",{class:"base-btn",onClick:r[0]||(r[0]=m=>d(_(Fe).and))},b(c.$t("modals.filters.and")),1),Us,e("div",{class:"base-btn",onClick:r[1]||(r[1]=m=>d(_(Fe).or))},b(c.$t("modals.filters.or")),1)],8,As)]),_:1}))}}),Ns=["disabled"],Bs={class:"m-0 p-1"},qs=["onClick"],Qs=D({__name:"OperatorChoice",props:{propertyId:{},modelValue:{},disabled:{type:Boolean}},emits:["hide","update:modelValue"],setup(u,{emit:h}){const t=K(),o=u,d=h,c=V(()=>t.properties[o.propertyId]),r=V(()=>qe(c.value.type));async function g(m){d("update:modelValue",m)}return(m,i)=>(s(),S(oe,{onHide:i[0]||(i[0]=a=>d("hide")),placement:"bottom"},{button:$(()=>[e("div",{class:"text-nowrap sb ps-1 pe-1",disabled:o.disabled},[e("span",null,b(m.$t("modals.filters.operators."+o.modelValue)),1)],8,Ns)]),popup:$(({hide:a})=>[e("div",Bs,[(s(!0),l(T,null,N(r.value,n=>(s(),l("div",{class:"hover-light p-1 rounded",style:{cursor:"pointer"},onClick:p=>{g(n),a()}},[e("a",null,b(m.$t("modals.filters.operators."+n)),1)],8,qs))),256))])]),_:1}))}});const Ks=j(Qs,[["__scopeId","data-v-21b8bb8e"]]),Ws={class:"d-flex text-nowrap overflow-hidden",style:{"font-size":"14px"}},Ys=D({__name:"FilterValueInput",props:{modelValue:{},property:{},width:{}},emits:["update:modelValue"],setup(u,{emit:h}){const t=u,o=h;function d(c){o("update:modelValue",c)}return(c,r)=>(s(),l("div",Ws,[_(Ee)(c.property.type)?(s(),S(Qe,{key:0,"model-value":t.modelValue,"onUpdate:modelValue":d,"no-wrap":!0,"auto-focus":!0,"can-create":!0,"can-customize":!0,property:t.property,teleport:!1,width:t.width,class:"sb"},null,8,["model-value","property","width"])):t.property.type==_(U).color?(s(),S(Ke,{key:1,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,rounded:!0,"min-height":22,teleport:!1,offset:2,class:"sb"},null,8,["model-value","width"])):t.property.type==_(U).number?(s(),S(We,{key:2,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,height:26,"input-offset":0,class:"sb"},null,8,["model-value","width"])):t.property.type==_(U).url?(s(),S(Ye,{key:3,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,offset:-22,class:"sb"},null,8,["model-value","width"])):t.property.type==_(U).checkbox?(s(),S(Xe,{key:4,"model-value":t.modelValue,"onUpdate:modelValue":d,label:t.property.name,width:t.width,class:"sb"},null,8,["model-value","label","width"])):t.property.type==_(U).date?(s(),S(Ze,{key:5,"model-value":t.modelValue,teleport:!1,"onUpdate:modelValue":d,width:t.width,class:"sb"},null,8,["model-value","width"])):(s(),S(Je,{key:6,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,offset:-22,class:"sb"},null,8,["model-value","width"]))]))}}),Xs={class:"p-0 m-0 ps-2"},Zs=D({__name:"FilterRow",props:{manager:{},filter:{}},emits:[],setup(u,{emit:h}){const t=K(),o=u,d=V(()=>t.properties[o.filter.propertyId]),c=V(()=>tt(o.filter.operator));function r(i){o.manager.updateFilter(o.filter.id,{operator:i})}function g(i){o.manager.updateFilter(o.filter.id,{value:i})}function m(i){o.manager.updateFilter(o.filter.id,{propertyId:i.id})}return(i,a)=>(s(),l(T,null,[e("td",Xs,[k(et,{"model-value":d.value,"onUpdate:modelValue":m},null,8,["model-value"])]),e("td",null,[k(Ks,{"property-id":d.value.id,"model-value":o.filter.operator,"onUpdate:modelValue":r},null,8,["property-id","model-value"])]),e("td",null,[c.value?(s(),S(Ys,{key:0,"model-value":o.filter.value,"onUpdate:modelValue":g,property:d.value,width:140,style:{width:"150px"},class:""},null,8,["model-value","property"])):x("",!0)])],64))}}),Js={style:{"max-height":"500px",overflow:"auto"}},Ge=D({__name:"AddFilterBtn",props:{group:{},manager:{}},emits:[],setup(u,{emit:h}){const t=u;function o(d){t.manager.addNewFilter(d,t.group.id),ve.filter.show()}return(d,c)=>(s(),S(oe,{placement:"auto"},{button:$(()=>[st(d.$slots,"default")]),popup:$(({hide:r})=>[e("div",Js,[k(De,{onSelect:g=>{o(g),r()},"ignore-ids":[_(Se).folders]},null,8,["onSelect","ignore-ids"])])]),_:3}))}}),Me=u=>(X("data-v-e644f737"),u=u(),Z(),u),eo={class:"filter-group"},to={class:"table table-sm"},so={style:{height:"33px"}},oo={class:""},ao={key:0,class:"m-0 p-0"},no={key:2,class:"text-secondary"},lo={class:"border rounded"},io={class:""},ro=["onClick"],co=Me(()=>e("i",{class:"bi bi-trash"},null,-1)),uo=[co],po={class:"d-flex text-secondary ms-2"},mo={class:"add-options hover-light"},_o=Me(()=>e("i",{class:"bi bi-plus"},null,-1)),vo=Me(()=>e("i",{class:"bi bi-plus"},null,-1)),ho=D({__name:"FilterGroup",props:{filter:{},manager:{},parent:{}},emits:["delete"],setup(u,{emit:h}){K();const t=u,o=V(()=>t.filter),d=V(()=>o.value.filters),c=V(()=>{let i=255-(o.value.depth+1)*5;return`background: rgb(${i},${i},${i});`});function r(i){t.manager.deleteFilter(i.id)}function g(i){t.manager.addNewFilterGroup(i)}function m(i,a){t.manager.updateFilterGroup(i,a)}return(i,a)=>(s(),l("div",eo,[e("table",to,[(s(!0),l(T,null,N(d.value,(n,p)=>(s(),l("tr",so,[e("td",oo,[p==0?(s(),l("div",ao,b(i.$t("modals.filters.where")),1)):p==1?(s(),S(Hs,{key:1,"model-value":o.value.groupOperator,"onUpdate:modelValue":a[0]||(a[0]=v=>m(o.value.id,v))},null,8,["model-value"])):(s(),l("span",no,b(i.$t("modals.filters."+o.value.groupOperator)),1))]),n.propertyId!==void 0?(s(),S(Zs,{key:0,filter:n,manager:t.manager},null,8,["filter","manager"])):(s(),l("td",{key:1,colspan:"3",style:Y(c.value)},[e("div",lo,[k(Re,{filter:n,manager:t.manager},null,8,["filter","manager"])])],4)),e("td",io,[e("span",{class:"base-btn",onClick:v=>r(n)},uo,8,ro)])]))),256))]),e("div",po,[k(Ge,{group:t.filter,manager:t.manager},{default:$(()=>[e("div",mo,[_o,te(b(i.$t("modals.filters.new_filter")),1)])]),_:1},8,["group","manager"]),e("div",{class:"add-options hover-light",onClick:a[1]||(a[1]=n=>g(o.value.id))},[vo,te(b(i.$t("modals.filters.new_group")),1)])])]))}});const Re=j(ho,[["__scopeId","data-v-e644f737"]]),go=u=>(X("data-v-56cd3bdb"),u=u(),Z(),u),fo={key:0,class:"d-flex flex-row m-0 ms-1 p-1 bg hover-light bg-medium",style:{cursor:"pointer"}},yo={key:0},bo=go(()=>e("span",{class:"text-primary"},"Text Query",-1)),$o={key:0,class:"or-separator"},ko={key:0,class:"or-separator"},wo={key:0,class:"m-1 p-1"},xo=D({__name:"MainFilterDropdown",props:{manager:Ce},emits:["update:modelValue"],setup(u,{emit:h}){const t=K(),o=u,d=I(null),c=I(null),r=V(()=>{let m=g(o.manager.state.filter),i={};return m.forEach(a=>i[a.propertyId]=a),Object.values(i)});function g(m){let i=[];for(let a of m.filters)a.isGroup?i.push(...g(a)):i.push(a);return i}return Q(()=>o.manager.state.filter.filters,()=>{o.manager.state.filter.filters.length==0&&c.value.hide()}),ue(async()=>{await ee(),ve.filter=c.value}),(m,i)=>(s(),S(oe,{ref_key:"dropdownElem",ref:c,placement:"top-start"},{button:$(()=>[e("div",null,[r.value.length||o.manager.state.query?(s(),l("div",fo,[o.manager.state.query?(s(),l("div",yo,[bo,r.value.length?(s(),l("span",$o,"|")):x("",!0)])):x("",!0),(s(!0),l(T,null,N(r.value,(a,n)=>(s(),l("div",null,[n>0?(s(),l("span",ko,"|")):x("",!0),a.propertyId==_(Se).id?(s(),S(ke,{key:1,type:_(t).properties[a.propertyId].type,style:{"margin-right":"2px"}},null,8,["type"])):x("",!0),e("span",null,b(_(t).properties[a.propertyId].name),1)]))),256))])):x("",!0)])]),popup:$(()=>[e("div",{class:"m-0 p-0",ref_key:"popupElem",ref:d},[Object.keys(_(t).properties).length>0?(s(),l("div",wo,[k(Re,{filter:o.manager.state.filter,manager:o.manager,parent:d.value},null,8,["filter","manager","parent"])])):x("",!0)],512)]),_:1},512))}});const So=j(xo,[["__scopeId","data-v-56cd3bdb"]]),Co=u=>(X("data-v-cc2f25ec"),u=u(),Z(),u),Mo={class:"d-flex flex-row filter-form"},Io={class:"pt-1 pb-1"},Vo=Co(()=>e("span",{class:"base-hover plus-btn text-secondary"},[e("i",{class:"bi bi-plus"})],-1)),Fo=D({__name:"FilterForm",props:{manager:Ce},setup(u){const h=u;return(t,o)=>(s(),l("div",Mo,[e("div",Io,b(t.$t("main.menu.filters"))+": ",1),k(So,{manager:h.manager},null,8,["manager"]),k(Ge,{manager:h.manager,group:h.manager.state.filter,class:"p-1"},{default:$(()=>[Vo]),_:1},8,["manager","group"])]))}});const zo=j(Fo,[["__scopeId","data-v-cc2f25ec"]]),To=u=>(X("data-v-012e1f38"),u=u(),Z(),u),Eo=To(()=>e("div",{class:"text-secondary p-1"},[e("span",{class:"base-hover plus-btn"},[e("i",{class:"bi bi-plus"})])],-1)),Oo={class:"p-1",style:{"max-height":"400px","overflow-y":"scroll"}},Po=D({__name:"PropertyDropdown",props:{groupIds:Array},emits:["select"],setup(u,{emit:h}){const t=u,o=h,d=I(null);return(c,r)=>(s(),S(oe,{ref_key:"dropdownElem",ref:d,"auto-focus":!1},{button:$(()=>[Eo]),popup:$(()=>[e("div",Oo,[k(De,{onClick:r[0]||(r[0]=g=>_(xe)()),onSelect:r[1]||(r[1]=g=>{o("select",g),d.value.hide()}),"ignore-ids":t.groupIds},null,8,["ignore-ids"])])]),_:1},512))}});const je=j(Po,[["__scopeId","data-v-012e1f38"]]),Do={class:"base-hover ps-1 pe-1"},Lo={class:"main"},Go=["onClick"],Ro=D({__name:"TimeUnitDropdown",props:{modelValue:{}},emits:["update:modelValue"],setup(u,{emit:h}){const t=u,o=h,d=Object.values(Le);function c(r){o("update:modelValue",r)}return(r,g)=>(s(),S(oe,null,{button:$(()=>[e("div",Do,b(t.modelValue),1)]),popup:$(({hide:m})=>[e("div",Lo,[(s(!0),l(T,null,N(_(d),i=>(s(),l("div",{class:"base-hover option",onClick:a=>{c(i),m()}},b(i),9,Go))),256))])]),_:1}))}});const jo=j(Ro,[["__scopeId","data-v-ce3e3774"]]),Ao=u=>(X("data-v-78b647dc"),u=u(),Z(),u),Uo=Ao(()=>e("i",{class:"bi bi-three-dots-vertical"},null,-1)),Ho={class:""},No={class:"d-flex ipt"},Bo={class:"ms-2",min:"1"},qo=D({__name:"GroupOptionDropdown",props:{option:{}},emits:["change"],setup(u,{emit:h}){const t=u,o=h,d=I(1),c=I(Le.Year);function r(){t.option.stepSize==d.value&&t.option.stepUnit==c.value||o("change",{stepSize:d.value,stepUnit:c.value})}function g(){d.value=t.option.stepSize??1,c.value=t.option.stepUnit}return Q(()=>t.option,g),ue(g),Q(d,()=>{(d.value<1||d.value==null||isNaN(d.value))&&(d.value=1)}),(m,i)=>(s(),S(oe,{onHide:r},{button:$(()=>[Uo]),popup:$(({hide:a,focus:n})=>[e("div",Ho,[e("div",No,[e("div",null,[pe(e("input",{type:"number","onUpdate:modelValue":i[0]||(i[0]=p=>d.value=p)},null,512),[[ge,d.value]])]),e("div",Bo,[k(jo,{modelValue:c.value,"onUpdate:modelValue":i[1]||(i[1]=p=>c.value=p),onHide:n},null,8,["modelValue","onHide"])])])])]),_:1}))}});const Qo=j(qo,[["__scopeId","data-v-78b647dc"]]),Ko={class:"d-flex flex-row group-form"},Wo={class:"pt-1 pb-1"},Yo={key:0,class:"bg-medium bg d-flex flex-row m-0 ms-1 p-0 align-items-center"},Xo={key:0,class:"bi bi-chevron-right smaller"},Zo=["onClick"],Jo=["onClick"],ea=["onClick"],ta=["onClick"],sa=["onClick"],oa=["onClick"],aa=["onClick"],na=["onClick"],la=["onClick"],ia={key:5,class:"sm-btn"},ra={key:0,class:"spinner-grow spinner-grow-sm loading ms-1"},da=D({__name:"GroupForm",props:{isLoading:Boolean,manager:ot},setup(u){const h=K(),t=u;function o(a){t.manager.setGroupOption(a),t.manager.update(!0)}function d(a){t.manager.delGroupOption(a),t.manager.update(!0)}function c(a,n){t.manager.setGroupOption(a,{direction:n}),t.manager.sortGroups(!0)}function r(a,n){t.manager.setGroupOption(a,{type:n}),t.manager.sortGroups(!0)}function g(a,n){t.manager.setGroupOption(a,n),t.manager.update(!0)}const m=V(()=>t.manager.state.groupBy.map(a=>h.properties[a])),i=V(()=>{const a=[];return t.manager.state.groupBy.forEach(n=>{a.push({option:t.manager.state.options[n],property:h.properties[n]})}),a});return(a,n)=>(s(),l("div",Ko,[e("div",Wo,b(a.$t("main.menu.groupby"))+": ",1),m.value.length?(s(),l("div",Yo,[(s(!0),l(T,null,N(i.value,(p,v)=>(s(),l(T,null,[v>0?(s(),l("i",Xo)):x("",!0),e("div",{class:"base-hover m-1 ps-1 pe-1",onClick:w=>d(p.property.id),id:"remove-group-button"},b(p.property.name),9,Zo),p.option.type==_(ie).Size?(s(),S(F,{key:1,message:"main.menu.sort.group_order_nb_tooltip"},{default:$(()=>[p.option.direction==_(se).Ascending?(s(),l("i",{key:0,class:"bi bi-sort-up-alt sm-btn",onClick:w=>r(p.property.id,_(ie).Property)},null,8,Jo)):(s(),l("i",{key:1,class:"bi bi-sort-down sm-btn",onClick:w=>r(p.property.id,_(ie).Property)},null,8,ea))]),_:2},1024)):(s(),S(F,{key:2,message:"main.menu.sort.group_order_az_tooltip"},{default:$(()=>[p.property.type==_(U).number?(s(),l(T,{key:0},[p.option.direction==_(se).Ascending?(s(),l("i",{key:0,class:"bi bi-sort-numeric-up sm-btn",onClick:w=>r(p.property.id,_(ie).Size)},null,8,ta)):(s(),l("i",{key:1,class:"bi bi-sort-numeric-down-alt sm-btn",onClick:w=>r(p.property.id,_(ie).Size)},null,8,sa))],64)):(s(),l(T,{key:1},[p.option.direction==_(se).Ascending?(s(),l("i",{key:0,class:"bi bi-sort-alpha-up sm-btn",onClick:w=>r(p.property.id,_(ie).Size)},null,8,oa)):(s(),l("i",{key:1,class:"bi bi-sort-alpha-down-alt sm-btn",onClick:w=>r(p.property.id,_(ie).Size)},null,8,aa))],64))]),_:2},1024)),p.option.direction==_(se).Ascending?(s(),S(F,{key:3,message:"main.menu.sort.order_asc"},{default:$(()=>[e("i",{class:"bi bi-arrow-up sm-btn",onClick:w=>c(p.property.id,_(se).Descending)},null,8,na)]),_:2},1024)):(s(),S(F,{key:4,message:"main.menu.sort.order_desc"},{default:$(()=>[e("i",{class:"bi bi-arrow-down sm-btn",onClick:w=>c(p.property.id,_(se).Ascending)},null,8,la)]),_:2},1024)),p.property.type==_(U).date?(s(),l("div",ia,[k(Qo,{option:p.option,onChange:w=>g(p.property.id,w)},null,8,["option","onChange"])])):x("",!0)],64))),256)),t.isLoading?(s(),l("i",ra)):x("",!0)])):x("",!0),k(je,{id:"add-group-button","group-ids":t.manager.state.groupBy,onSelect:n[0]||(n[0]=p=>o(p))},null,8,["group-ids"])]))}});const ca=j(da,[["__scopeId","data-v-dcec9b5d"]]),ua={class:"d-flex flex-row sort-form"},pa={class:"pt-1 pb-1"},ma={key:0,class:"d-flex flex-row m-0 p-0 bg-medium bg ms-1 align-items-center"},_a={key:0,class:"bi bi-chevron-right smaller"},va=["onClick"],ha=["onClick"],ga=["onClick"],fa=D({__name:"SortForm",props:{manager:at},setup(u){const h=K(),t=u,o=V(()=>t.manager.state.sortBy.map(m=>({propertyId:m,direction:t.manager.state.options[m].direction}))),d=V(()=>o.value.map(m=>m.propertyId));function c(m){t.manager.setSort(m),t.manager.update(!0)}function r(m){t.manager.delSort(m),t.manager.update(!0)}function g(m,i){t.manager.setSort(m,{direction:i}),t.manager.update(!0)}return(m,i)=>(s(),l("div",ua,[e("div",pa,b(m.$t("main.menu.sort.title"))+": ",1),o.value.length?(s(),l("div",ma,[(s(!0),l(T,null,N(o.value,(a,n)=>(s(),l(T,null,[n>0?(s(),l("i",_a)):x("",!0),e("div",{class:"me-0 ms-1 ps-1 mt-1 mb-1 pe-1 base-hover",onClick:p=>r(a.propertyId)},b(_(h).properties[a.propertyId].name),9,va),a.direction==_(se).Ascending?(s(),S(F,{key:1,message:"main.menu.sort.order_asc"},{default:$(()=>[e("i",{class:"bi bi-arrow-up sm-btn",onClick:p=>g(a.propertyId,_(se).Descending)},null,8,ha)]),_:2},1024)):(s(),S(F,{key:2,message:"main.menu.sort.order_desc"},{default:$(()=>[e("i",{class:"bi bi-arrow-down sm-btn",onClick:p=>g(a.propertyId,_(se).Ascending)},null,8,ga)]),_:2},1024))],64))),256))])):x("",!0),k(je,{"group-ids":d.value,onSelect:i[0]||(i[0]=a=>c(a))},null,8,["group-ids"])]))}});const ya=j(fa,[["__scopeId","data-v-4e00ef99"]]),fe=u=>(X("data-v-a37327b6"),u=u(),Z(),u),ba=fe(()=>e("i",{class:"bi bi-clock-history me-1"},null,-1)),$a={class:"p-2"},ka={key:0,class:"border mb-1 p-1 text-center text-secondary",style:{"background-color":"#f7f7f7"}},wa={class:"border mb-1 p-1"},xa={class:"me"},Sa=fe(()=>e("span",{class:"sep ms-1 me-1"},null,-1)),Ca={key:0},Ma={key:1},Ia={class:"border mb-1 p-1",style:{"background-color":"#f7f7f7"}},Va={class:"d-flex center justify-content-center"},Fa={key:1,class:"bi bi-arrow-down text-secondary"},za=fe(()=>e("div",{style:{width:"30px"}},null,-1)),Ta={key:3,class:"bi bi-arrow-up text-secondary"},Ea={class:"border mb-1 p-1"},Oa={class:"me"},Pa=fe(()=>e("span",{class:"sep ms-1 me-1"},null,-1)),Da={key:0},La={key:1},Ga={key:1,class:"border mb-1 p-1 text-center text-secondary",style:{"background-color":"#f7f7f7"}},de=5,Ra=D({__name:"HistoryDropdown",emits:[],setup(u,{emit:h}){const t=K(),o=I(!1),d=V(()=>o.value?{backgroundColor:"blue"}:{backgroundColor:"white"}),c=V(()=>[...t.history.undo].reverse().slice(0,de)),r=V(()=>t.history.redo.slice(Math.max(t.history.redo.length-de,0)));return Q(()=>t.onUndo,()=>{console.log("changed"),o.value=!0,setTimeout(()=>o.value=!1,100)}),(g,m)=>c.value.length||r.value.length?(s(),S(oe,{key:0},{button:$(()=>[k(F,{message:"dropdown.history.info"},{default:$(()=>[e("div",{class:"d-flex sb flash",style:Y([{"font-size":"14px"},d.value])},[ba,e("div",null,b(g.$t("dropdown.history.button")),1)],4)]),_:1})]),popup:$(()=>[e("div",$a,[_(t).history.redo.length>de?(s(),l("div",ka," + "+b(_(t).history.redo.length-de),1)):x("",!0),(s(!0),l(T,null,N(r.value,i=>(s(),l("div",wa,[e("span",xa,b(new Date(i.timestamp).toLocaleTimeString("fr-Fr",{hour:"2-digit",minute:"2-digit"})),1),Sa,i.tags?(s(),l("span",Ca,b(i.tags)+" "+b(g.$t("dropdown.history.tags")),1)):x("",!0),i.values?(s(),l("span",Ma,b(i.values)+" "+b(g.$t("dropdown.history.values")),1)):x("",!0)]))),256)),e("div",Ia,[e("div",Va,[c.value.length?(s(),S(F,{key:0,message:"dropdown.history.undo"},{default:$(()=>[e("div",{class:"bi bi-arrow-down sb",onClick:m[0]||(m[0]=(...i)=>_(t).undo&&_(t).undo(...i))})]),_:1})):(s(),l("div",Fa)),za,r.value.length?(s(),S(F,{key:2,message:"dropdown.history.redo"},{default:$(()=>[e("div",{class:"bi bi-arrow-up sb",onClick:m[1]||(m[1]=(...i)=>_(t).redo&&_(t).redo(...i))})]),_:1})):(s(),l("div",Ta))])]),(s(!0),l(T,null,N(c.value,i=>(s(),l("div",Ea,[e("span",Oa,b(new Date(i.timestamp).toLocaleTimeString("fr-Fr",{hour:"2-digit",minute:"2-digit"})),1),Pa,i.tags?(s(),l("span",Da,b(i.tags)+" "+b(g.$t("dropdown.history.tags")),1)):x("",!0),i.values?(s(),l("span",La,b(i.values)+" "+b(g.$t("dropdown.history.values")),1)):x("",!0)]))),256)),_(t).history.undo.length>de?(s(),l("div",Ga," + "+b(_(t).history.undo.length-de),1)):x("",!0)])]),_:1})):x("",!0)}});const ja=j(Ra,[["__scopeId","data-v-a37327b6"]]),Ie=u=>(X("data-v-9411b625"),u=u(),Z(),u),Aa=Ie(()=>e("span",{class:"bi bi-arrow-repeat text-warning"},null,-1)),Ua=Ie(()=>e("span",{class:"bi bi-check2-all text-success"},null,-1)),Ha=Ie(()=>e("div",{style:{height:"30px"}},[e("span",{class:"bi bi-check2-all text-success small-valid"}),e("span",{class:"bi bi-arrow-repeat big-arrow text-warning",style:{opacity:"0.3"}})],-1)),Na=D({__name:"ToggleReload",emits:[],setup(u,{emit:h}){const t=re(),o=V(()=>t.getTab().autoReload?2:t.getTabManager().collection.state.isDirty?0:1);function d(){o.value==0?t.getTabManager().collection.update():o.value==1?(t.getTab().autoReload=!0,t.updateTabs()):(t.getTab().autoReload=!1,t.updateTabs())}return(c,r)=>(s(),l("div",{class:"bb font",onClick:d,style:{width:"26px",height:"30px",overflow:"hidde"}},[o.value==0?(s(),S(F,{key:0,message:"btn.reload.dirty",pos:"bottom"},{default:$(()=>[Aa]),_:1})):x("",!0),o.value==1?(s(),S(F,{key:1,message:"btn.reload.valid",pos:"bottom"},{default:$(()=>[Ua]),_:1})):x("",!0),o.value==2?(s(),S(F,{key:2,message:"btn.reload.auto",pos:"bottom"},{default:$(()=>[Ha]),_:1})):x("",!0)]))}});const Ba=j(Na,[["__scopeId","data-v-9411b625"]]),ye=u=>(X("data-v-3f54024a"),u=u(),Z(),u),qa={class:"d-flex flex-row p-2"},Qa=ye(()=>e("div",{class:"bi bi-search float-start bi-sm"},null,-1)),Ka=["placeholder"],Wa={class:"me-5 d-flex"},Ya=ye(()=>e("div",{class:"bi bi-aspect-ratio me-1"},null,-1)),Xa={class:"ms-5",style:{"font-size":"13px"}},Za=["checked"],Ja={class:"ms-1"},en={class:"ms-4"},tn=ye(()=>e("div",{class:"flex-grow-1"},null,-1)),sn=ye(()=>e("a",{href:"https://github.com/CERES-Sorbonne/Panoptic/issues/new/choose",target:"_blank",class:"bi bi-cone-striped",style:{color:"grey"}},null,-1)),on={class:"d-flex flex-wrap content-container ps-2"},an=D({__name:"ContentFilter",props:{tab:nt,computeStatus:Object},emits:["compute-ml","search-images","remove:selected"],setup(u,{emit:h}){const t=u,o=I(""),d=V(()=>Object.keys(t.tab.collection.groupManager.selectedImages.value).map(Number)),c=V(()=>d.value.length);function r(a){const n=a.target.checked;t.tab.collection.groupManager.setSha1Mode(n,!0)}function g(){o.value=t.tab.state.filterState.query}function m(){t.tab.collection.filterManager.setQuery(o.value),t.tab.collection.filterManager.update(!0)}function i(){t.tab.collection.filterManager.setQuery(""),t.tab.collection.filterManager.update(!0)}return ue(g),Q(()=>t.tab.collection.filterManager.state.query,g),(a,n)=>(s(),l(T,null,[e("div",qa,[k(F,{icon:!0,message:"main.menu.search_tooltip",iconPos:"left"},{default:$(()=>[e("div",{class:H(["d-flex flex-row search-input me-5",o.value?"border-primary":""])},[Qa,pe(e("input",{type:"text",class:"input-hidden",placeholder:a.$t("main.menu.search"),"onUpdate:modelValue":n[0]||(n[0]=p=>o.value=p),onChange:m},null,40,Ka),[[ge,o.value]]),e("div",{class:"bi-sm base-hover",style:{cursor:"pointer",padding:"0px 2px"},onClick:i},"x")],2)]),_:1}),e("div",Wa,[k(F,{message:"main.menu.grid_tooltip"},{default:$(()=>[e("i",{class:H("bi bi-grid-3x3-gap-fill me-2 btn-icon"+(t.tab.state.display=="tree"?"":" text-secondary")),onClick:n[1]||(n[1]=p=>t.tab.state.display="tree")},null,2)]),_:1}),k(F,{message:"main.menu.table_tooltip"},{default:$(()=>[e("i",{id:"toot",class:H("bi bi-table btn-icon me-2"+(t.tab.state.display=="grid"?"":" text-secondary")),onClick:n[2]||(n[2]=p=>t.tab.state.display="grid")},null,2)]),_:1}),k(F,{message:"main.menu.graph_tooltip"},{default:$(()=>[e("i",{id:"toot",class:H("bi bi-bar-chart btn-icon"+(t.tab.state.display=="graph"?"":" text-secondary")),onClick:n[3]||(n[3]=p=>t.tab.state.display="graph")},null,2)]),_:1})]),k(F,{message:"main.menu.image_size_tooltip",click:!1},{default:$(()=>[Ya]),_:1}),e("div",null,[k(lt,{min:30,max:500,modelValue:t.tab.state.imageSize,"onUpdate:modelValue":n[4]||(n[4]=p=>t.tab.state.imageSize=p)},null,8,["modelValue"])]),e("div",Xa,[k(F,{message:"main.menu.image_mode_tooltip"},{default:$(()=>[e("input",{type:"checkbox",checked:t.tab.collection.groupManager.state.sha1Mode,onChange:r},null,40,Za),e("span",Ja,b(a.$t("main.menu.image_mode")),1)]),_:1})]),e("div",en,[k(ja)]),c.value?(s(),S(it,{key:0,id:"selection-stamp",class:"ms-5","selected-images-ids":d.value,"onRemove:selected":n[5]||(n[5]=p=>t.tab.collection.groupManager.clearSelection())},null,8,["selected-images-ids"])):x("",!0),tn,k(F,{message:"main.menu.issue",class:"bb"},{default:$(()=>[sn]),_:1})]),e("div",on,[k(Ba,{class:"me-1"}),k(zo,{manager:t.tab.collection.filterManager},null,8,["manager"]),k(ca,{"is-loading":t.computeStatus.groups,manager:t.tab.collection.groupManager},null,8,["is-loading","manager"]),k(ya,{manager:t.tab.collection.sortManager},null,8,["manager"])])],64))}});const nn=j(an,[["__scopeId","data-v-3f54024a"]]),ln={class:""},rn={class:"d-flex flex-row"},dn=D({__name:"ImageRecomended",props:{pile:Object,size:{type:Number,default:100}},emits:["accept","refuse"],setup(u,{emit:h}){const t=he(),o=u,d=h,c=V(()=>`width: ${o.size}px; height: ${o.size}px;`);V(()=>`max-width: ${o.size-2}px; max-height: ${o.size-1}px;`);const r=V(()=>o.pile.images[0]);return(g,m)=>(s(),l("div",ln,[k(dt,{image:r.value},{default:$(()=>[e("div",{style:Y(c.value),class:"img-container",onClick:m[0]||(m[0]=i=>_(t).showModal(_(ne).IMAGE,{image:r.value}))},[k(rt,{image:r.value,width:o.size-2,height:o.size-1},null,8,["image","width","height"])],4)]),_:1},8,["image"]),e("div",rn,[k(F,{message:"main.recommand.accept"},{default:$(()=>[e("div",{style:Y(["width: "+o.size/2+"px;",{"font-size":"10px"}]),class:"text-center text-success validate clickable unselectable",onClick:m[1]||(m[1]=i=>d("accept",r.value))}," ✓ ",4)]),_:1}),k(F,{message:"main.recommand.refuse"},{default:$(()=>[e("div",{style:Y(["width: "+o.size/2+"px;",{"font-size":"10px"}]),class:"text-center text-danger refuse clickable unselectable",onClick:m[2]||(m[2]=i=>d("refuse",r.value))}," ✕ ",4)]),_:1})])]))}});const cn=j(dn,[["__scopeId","data-v-2ff8fded"]]),me=u=>(X("data-v-9744de99"),u=u(),Z(),u),un={class:"reco-container"},pn={class:"d-flex flex-row m-0 ps-2 center mb-1 mt-0",style:{height:"25px"}},mn=me(()=>e("span",{class:"bi bi-x-lg bb",style:{}},null,-1)),_n=[mn],vn=me(()=>e("div",{class:"b-left pe-1"},null,-1)),hn=me(()=>e("span",{class:"bi bi-arrow-down-circle bb"},null,-1)),gn=[hn],fn=me(()=>e("div",{class:"b-left pe-1"},null,-1)),yn={key:0,class:"bi bi-funnel-fill bb text-primary"},bn={key:1,class:"bi bi-funnel bb"},$n=me(()=>e("div",{class:"b-left pe-1"},null,-1)),kn={class:"text-secondary me-2"},wn={class:"flex-grow-1"},xn={class:"d-flex flex-row"},Sn={key:0,class:"separator"},Cn={class:"d-flex flex-row"},$e=10,Mn=D({__name:"RecommendedMenu",props:{imageSize:{},group:{},width:{},height:{}},emits:["scroll","close","update"],setup(u,{emit:h}){const t=re(),o=K(),d=ct(),c=u,r=h,g=I(1),m=ce([]),i=ce([]),a=ce([]),n=ce(new Set),p=I(!0);function v(M){let C=i.indexOf(M);C<0||(i.splice(C,1),y())}async function w(M){const C=[],O=[];a.forEach(A=>{if(A.value!=null){const W=o.properties[A.propertyId];let R=A.value;W.type==U.multi_tags?(R=M.properties[A.propertyId]??[],R=[...R,A.value]):W.type==U.tag&&(R=[R]),W.mode==we.id?O.push({instanceId:M.id,propertyId:W.id,value:R}):C.push({propertyId:W.id,sha1:M.sha1,value:R})}}),await o.setPropertyValues(O,C),v(M.sha1)}function f(M){n.add(M.sha1),v(M.sha1)}function y(){m.length=0;const M=i.map(C=>({sha1:C,images:o.sha1Index[C]}));E(M,m,g.value,c.imageSize,c.width)}function E(M,C,O,A,W){let R=W,L=[],z=0;for(let P=0;P<M.length&&!(C.length>=O);P++){let q=M[P];if(n.has(q.sha1))continue;let _e=A+$e;if(z+_e<R){L.push(q),z+=_e;continue}if(L.length==0)throw new Error("Images seems to be to big for the line");C.push(L),C.length<O&&(L=[q],z=_e)}L.length>0&&C.length<O&&C.push(L)}async function B(){if(!c.group)return;console.log("get reco");const M=c.group.images.map(L=>L.id);let C=await d.getSimilarImages({instanceIds:M});if(console.log(C),!C.instances)throw new Error("No instances in ActionResult");let O=[];const A=C.instances.scores??[];if(C.instances.ids)for(let L in C.instances.ids){const z={id:C.instances.ids[L],score:A[L]};O.push(z)}else for(let L in C.instances.sha1s){const z=C.instances.sha1s[L];for(let P of o.sha1Index[z]){const q={id:P.id,score:A[L]};O.push(q)}}if(O.sort((L,z)=>z.score-L.score),p.value){const L=t.getTabManager(),z=new Set(L.collection.groupManager.result.root.images.map(P=>P.id));O=O.filter(P=>z.has(P.id))}const W=Array.from(new Set(O.map(L=>o.instances[L.id].sha1)));a.length=0;let R=c.group;for(;R;)a.push(...R.meta.propertyValues),R=R.parent;i.length=0,i.push(...W),n.clear(),y(),r("update")}function ae(){p.value=!p.value}return ue(B),Q(()=>c.group,()=>{B(),n.clear()}),Q(()=>c.imageSize,y),Q(()=>c.width,y),Q(p,B),(M,C)=>(s(),l("div",un,[e("div",pn,[e("div",{class:"text-secondary pe-1",onClick:C[0]||(C[0]=O=>r("close"))},_n),vn,e("div",{class:"text-secondary pe-1",onClick:C[1]||(C[1]=O=>r("scroll",c.group.id))},gn),fn,e("div",{class:"text-secondary pe-1",onClick:ae},[p.value?(s(),l("span",yn)):(s(),l("span",bn))]),$n,k(F,{"icon-pos":"left",message:"main.recommand.tooltip",icon:!0},{default:$(()=>[e("span",kn,b(M.$t("main.recommand.title")),1)]),_:1}),e("div",wn,[e("div",xn,[(s(!0),l(T,null,N(a,(O,A)=>(s(),l(T,null,[k(ut,{class:"",value:O},null,8,["value"]),A<a.length-1?(s(),l("div",Sn)):x("",!0)],64))),256))])])]),e("div",{style:Y("margin-left:"+$e+"px;")},[(s(!0),l(T,null,N(m,O=>(s(),l("div",null,[e("div",Cn,[(s(!0),l(T,null,N(O,A=>(s(),S(cn,{pile:A,size:c.imageSize,onAccept:w,onRefuse:f,style:Y("margin-right:"+$e+"px;")},null,8,["pile","size","style"]))),256))])]))),256))],4)]))}});const In=j(Mn,[["__scopeId","data-v-9744de99"]]);const Vn={style:{display:"flex"}},Fn={class:"info"},zn=e("img",{id:"zoomed-image",style:{display:"none",position:"absolute","z-index":"1000",width:"120px",height:"120px","pointer-events":"none"}},null,-1),Tn={__name:"LineChart",props:{chartData:{series:Array,xValues:Array,dataType:U},height:String},setup(u){const h=u,t=I(0),o=I(!1),d={};Object.keys(h.chartData.series).forEach(n=>{d[n]=!1});const c=I({markers:{size:7},legend:{showForSingleSeries:!0,onItemClick:{toggleDataSeries:!1}},xaxis:{type:h.chartData.dataType===U.date?"datetime":"numeric",categories:h.chartData.xValues},chart:{type:"area",stacked:!1,stackOnlyBar:!1,zoom:{type:"x",autoScaleYaxis:!0},animations:{animateGradually:{enabled:!1,delay:150}}},dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{intersect:!0,shared:!1,custom:function({series:n,seriesIndex:p,dataPointIndex:v,w}){const f=h.chartData.series[p].data[v];let y='<div style="display: grid; grid-template-columns: repeat(5, 1fr); grid-gap: 5px;">';f.images.forEach((B,ae)=>{ae<10&&(y+=`<div style="width: 75px; height: 75px;"><img src="${B}" style="width: 100%; height: 100%;" /></div>`)}),y+="</div>";let E=`<span style="display: flex; align-items: center; justify-content: center;min-height:40px"><b>${h.chartData.series[p].name} — </b> ${f.y} Images</span>`;return E+=`<div>${y}</div>`,E}}}),r=()=>{c.value.chart.stacked=!c.value.chart.stacked,o.value=!o.value,t.value+=1},g=()=>{let n;c.value.chart.type==="area"?n={chart:{...c.value.chart,type:"bar"}}:n={chart:{...c.value.chart,type:"area"}},c.value={...c.value,...n},t.value+=1},m=(n,p,v)=>{const f=h.chartData.series[p];let y=Math.max(...f.data.map(E=>E.y));if(document.querySelectorAll(".apexcharts-custom-image").forEach(E=>E.remove()),d[p]){d[p]=!1;return}f.data.forEach((E,B)=>{const M=Math.floor(E.y/y*17),C=E.images.slice(0,M),O=`circle[index="${p}"][j="${B}"]`,A=document.querySelector(O),W=parseFloat(A.getAttribute("cx"));C.forEach((R,L)=>{const z=document.createElement("img");z.src=R,z.width=40,z.height=40,z.style.position="absolute";let P=W+40/1.5,q=65+L*40;z.style.left=`${P}px`,z.style.bottom=`${q}px`,z.classList.add("apexcharts-custom-image"),z.addEventListener("mouseover",_e=>i(P,q,R)),z.addEventListener("mouseout",a),n.el.appendChild(z)})}),Object.keys(d).forEach(E=>d[E]=!1),d[p]=!0};function i(n,p,v){const w=document.getElementById("zoomed-image");w.style.left=`${n+120*1.5}px`,w.src=v,w.style.bottom=`${p}px`,w.style.display="block"}function a(){const n=document.getElementById("zoomed-image");n.style.display="none"}return console.log("test"),(n,p)=>{const v=Pe("apexchart");return s(),l(T,null,[e("div",Vn,[e("button",{class:"mt-2",onClick:g},b(c.value.chart.type==="area"?n.$t("main.graph-view.histo"):n.$t("main.graph-view.curve")),1),h.chartData.series.length>1?(s(),l("button",{key:0,class:"mt-2",style:{"margin-left":"1em"},onClick:r},b(o.value?n.$t("main.graph-view.over"):n.$t("main.graph-view.stack")),1)):x("",!0)]),(s(),S(v,{style:{position:"relative"},key:t.value,height:h.height,type:c.value.chart.type,options:c.value,series:h.chartData.series,onLegendClick:m},null,8,["height","type","options","series"])),e("i",Fn,b(n.$t("main.graph-view.info")),1),zn],64)}}},En={key:1},On=D({__name:"GraphView",props:{collection:{},height:{}},emits:[],setup(u,{emit:h}){const t=K(),o=u,d=I(""),c=I(g());function r(){const m=new Set;let i=o.collection.groupManager.getGroupIterator();for(;i;){const a=i.group;if(a.id===0||a.meta.propertyValues&&a.meta.propertyValues[0].value==null){i=i.nextGroup();continue}for(let n of a.children)m.add(n.meta.propertyValues[0].value);a.children.forEach(()=>i=i.nextGroup()),i=i.nextGroup()}return m}function g(){const m={};let i,a=o.collection.groupManager.state.groupBy;if(a.length===0){d.value="Choose at least one date or numeric value to group the images by";return}const n=t.properties[a[0]],p=n.type;if(a.length>2){d.value="Only max two levels of grouping are supported";return}else if(a.length===1)m[n.name]={name:n.name,data:[]};else if(i=Array.from(r()),i.length>20){d.value="Too many curves to draw, select a subgrouping with less than 20 possible values";return}if(p!==U.number&&p!==U.date){d.value="First level of grouping needs to be a date or a numeric property";return}let v=o.collection.groupManager.getGroupIterator();const w=[];for(;v;){const f=v.group;if(f.id===0||f.meta.propertyValues&&f.meta.propertyValues[0].value==null){v=v.nextGroup();continue}let y=f.meta.propertyValues[0];const E=p===U.date?new Date(y.value).getTime():y.value;if(w.push(E),n.name in m)m[n.name].data.push({x:E,y:f.images.length,images:f.images.slice(0,20).map(B=>B.urlSmall)});else{const B=f.children.map(M=>M.meta.propertyValues[0].value),ae=i.filter(M=>!B.includes(M));for(let M of f.children){const C=M.meta.propertyValues[0].value;if(m[C]===void 0){let O=C;C in t.tags&&(O=t.tags[C].value),m[C]={data:[],name:O}}m[M.meta.propertyValues[0].value].data.push({x:E,y:M.images.length,images:M.images.slice(0,20).map(O=>O.urlSmall)})}for(let M of ae){if(m[M]===void 0){let C=M;M in t.tags&&(C=t.tags[M].value),m[M]={data:[],name:C}}m[M].data.push({x:E,y:0,images:[]})}f.children.forEach(()=>v=v.nextGroup())}v=v.nextGroup()}return d.value="",{series:Object.values(m),xValues:w,dataType:p}}return o.collection.groupManager.onChange.addListener(()=>c.value=g()),(m,i)=>(s(),l("div",{class:"",style:Y({height:o.height+"px"})},[d.value===""?(s(),S(Tn,{key:0,chartData:c.value,height:o.height-50+"px"},null,8,["chartData","height"])):(s(),l("span",En,b(d.value),1))],4))}}),Pn={key:0,class:"m-0 p-0"},Dn={key:0,style:{"margin-left":"10px"}},Ln=D({__name:"MainView",props:{tabId:Number,height:Number},setup(u){const h=re(),t=h.getTabManager(),o=u,d=I({}),c=I(!0),r=I(null),g=I(null),m=I(null),i=I(0),a=I(0),n=ce({groups:!1}),p=V(()=>t.getVisibleProperties());function v(){r.value&&g.value?i.value=o.height-r.value.clientHeight-g.value.clientHeight-5:r.value?i.value=o.height-r.value.clientHeight-5:i.value=0}t.collection.groupManager.onChange.addListener(()=>{m.value&&t.state.display=="tree"&&m.value.computeLines()});function w(y){d.value=t.collection.groupManager.result.index[y],ee(()=>v())}function f(){d.value={},ee(()=>v())}return ue(()=>{a.value=r.value.clientWidth,window.addEventListener("resize",()=>{ee(()=>{var y;a.value=((y=r.value)==null?void 0:y.clientWidth)??a.value})})}),Q(()=>t.state.imageSize,()=>ee(v)),Q(()=>o.height,async()=>{await ee(v)}),Q(t.state,y=>{h.updateTabs()},{deep:!0}),Q(()=>o.tabId,async()=>{c.value=!1,await ee(),c.value=!0}),(y,E)=>(s(),l(T,null,[e("div",{id:"main-content",ref_key:"filterElem",ref:r},[k(nn,{tab:_(t),"compute-status":n},null,8,["tab","compute-status"])],512),e("div",{ref_key:"boxElem",ref:g,class:"m-0 p-0"},[d.value.id?(s(),l("div",Pn,[k(In,{group:d.value,"image-size":_(t).state.imageSize,width:a.value,height:50,onClose:f,onScroll:m.value.scrollTo,onUpdate:E[0]||(E[0]=B=>ee(()=>v()))},null,8,["group","image-size","width","onScroll"])])):x("",!0)],512),a.value>0&&i.value>0&&c.value?(s(),l("div",Dn,[_(t).state.display=="tree"?(s(),S(pt,{key:0,"group-manager":_(t).collection.groupManager,"image-size":_(t).state.imageSize,height:i.value-0,properties:p.value,"hide-if-modal":!0,"selected-images":_(t).collection.groupManager.selectedImages,ref_key:"imageList",ref:m,width:a.value-25,onRecommend:w},null,8,["group-manager","image-size","height","properties","selected-images","width"])):x("",!0),_(t).state.display=="grid"?(s(),l("div",{key:1,style:Y({width:a.value-12+"px"}),class:"p-0 m-0 grid-container"},[k(mt,{manager:_(t).collection.groupManager,height:i.value-15,width:a.value-40,"selected-properties":p.value,class:"p-0 m-0","show-images":!0,"selected-images":_(t).collection.groupManager.selectedImages,ref_key:"imageList",ref:m,"hide-if-modal":!0},null,8,["manager","height","width","selected-properties","selected-images"])],4)):x("",!0),_(t).state.display=="graph"?(s(),S(On,{key:2,collection:_(t).collection,height:i.value-15},null,8,["collection","height"])):x("",!0)])):x("",!0)],64))}});const Gn=j(Ln,[["__scopeId","data-v-8d18a136"]]),Rn={class:"d-flex d-row",style:{cursor:"pointer"}},jn=["onMouseenter","onMouseleave"],An=["onClick"],Un=["onClick"],Hn=["onClick"],Nn=["onSubmit"],Bn=["onKeydown","onUpdate:modelValue"],qn=e("span",{class:"bi bi-plus"},null,-1),Qn=[qn],Kn={class:"lang"},Wn=e("i",{class:"bi bi-translate",style:{"margin-right":"0.5rem"}},null,-1),Yn=["value"],Xn=D({__name:"TabNav",props:{reRender:Function},setup(u){const h=re(),t=I(-1),o=I(""),d=I(null),c=u;function r(v){h.data.selectedTabId==v||m(),h.selectTab(v)}function g(v){t.value=v,o.value=h.data.tabs[v].name,ee(()=>d.value[0].focus())}function m(){t.value=-1,o.value=""}function i(v){h.addTab("New Tab")}async function a(v){confirm("Are you sure to delete Tab: "+v.name)&&await h.removeTab(v.id)}const n=ce({});I(-1);const p=["fr","en"];return(v,w)=>(s(),l("nav",null,[e("div",Rn,[(s(!0),l(T,null,N(_(h).data.tabs,f=>(s(),l("div",{class:"d-flex d-row me-2",onMouseenter:y=>n[f.id]=!0,onMouseleave:y=>n[f.id]=!1},[t.value!=f.id?(s(),l(T,{key:0},[k(F,{message:"main.menu.rename_tab_tooltip"},{default:$(()=>[e("i",{onClick:y=>g(f.id),class:H(["bi bi-pencil me-1 tab-icon hover-light",n[f.id]&&_(h).data.selectedTabId==f.id?"":"hidden"]),style:{"font-size":"10px"}},null,10,An)]),_:2},1024),e("div",{class:H(["tab-button",f.id==_(h).data.selectedTabId?" active":""]),onClick:y=>r(f.id)},[e("span",null,b(f.name),1)],10,Un),k(F,{message:"main.menu.delete_tab_tooltip"},{default:$(()=>[e("i",{onClick:y=>a(f),class:H(["btn-icon bi bi-x tab-icon hover-light",n[f.id]?"":"hidden"]),style:{"font-size":"15px"}},null,10,Hn)]),_:2},1024)],64)):(s(),l("div",{key:1,class:H(["tab-button",f.id==_(h).data.selectedTabId?" active":""])},[e("form",{onSubmit:Oe(m,["stop","prevent"])},[pe(e("input",{onFocusout:m,onKeydown:_t(m,["escape"]),type:"text",class:"text-input","onUpdate:modelValue":y=>f.name=y,ref_for:!0,ref_key:"inputElem",ref:d},null,40,Bn),[[ge,f.name]])],40,Nn)],2))],40,jn))),256)),k(F,{message:"main.menu.add_tab_tooltip"},{default:$(()=>[e("button",{class:"tab-icon hover-light ps-1 pe-1",onClick:i,id:"add-tab-button"},Qn)]),_:1}),e("div",Kn,[Wn,pe(e("select",{"onUpdate:modelValue":w[0]||(w[0]=f=>v.$i18n.locale=f),onChange:w[1]||(w[1]=f=>c.reRender())},[(s(),l(T,null,N(p,(f,y)=>e("option",{key:`Lang${y}`,value:f},b(f.toUpperCase()),9,Yn)),64))],544),[[vt,v.$i18n.locale]])])])]))}});const Ae=u=>(X("data-v-ef872353"),u=u(),Z(),u),Zn={key:0},Jn={class:"d-flex flex-row m-0 p-0 overflow-hidden"},el={class:"w-100"},tl={key:0,class:"custom-hr"},sl={key:1,class:"loading"},ol={class:"text-center"},al={key:2,class:"loading"},nl=Ae(()=>e("i",{class:"spinner-border",role:"status"},null,-1)),ll=Ae(()=>e("span",{class:"ms-1"},"Loading...",-1)),il=[nl,ll],rl=D({__name:"PanopticView",setup(u){const h=re(),t=K(),o=he(),d=I(null),c=I(null),r=I(window.innerHeight),g=I(!1),m=I(!0),i=V(()=>{var y;return r.value-(((y=c.value)==null?void 0:y.clientHeight)??0)}),a=V(()=>{var y;return(y=d.value)==null?void 0:y.filteredImages.map(E=>E.id)});let n=navigator.userAgent.indexOf("Mac OS X")!==-1;async function p(){m.value=!1,await ee(),m.value=!0}ue(async()=>{o.isProjectLoaded||ze.push("/"),ee(()=>{window.addEventListener("resize",v),v()}),window.addEventListener("keydown",y=>{y.key=="Control"&&(G.ctrl=!0),y.key=="Alt"&&(n&&(G.ctrl=!0),G.alt=!0),y.key=="Shift"&&(G.shift=!0),y.key=="ArrowLeft"&&(G.left=!0),y.key=="ArrowRight"&&(G.right=!0,console.log("keeeyy")),y.key=="Z"&&G.ctrl&&t.redo(),y.key=="z"&&G.ctrl&&t.undo()}),window.addEventListener("keyup",y=>{y.key=="Control"&&(G.ctrl=!1),y.key=="Alt"&&(n&&(G.ctrl=!1),G.alt=!1),y.key=="Shift"&&(G.shift=!1),y.key=="ArrowLeft"&&(G.left=!1),y.key=="ArrowRight"&&(G.right=!1)}),window.addEventListener("mousemove",y=>{G.ctrl=y.ctrlKey,G.alt=y.altKey,G.shift=y.shiftKey,n&&(G.ctrl=G.ctrl||G.alt)})}),ht(()=>{window.removeEventListener("resize",v)});function v(){r.value=window.innerHeight,g.value=!0}function w(){o.showModal(ne.EXPORT,a)}function f(){ze.push("/")}return(y,E)=>m.value?(s(),l("div",Zn,[d.value&&!d.value.imageList?(s(),S(gt,{key:0,tutorial:"project"})):x("",!0),(s(),l("div",{id:"panoptic",key:_(h).status.renderNb},[e("div",Jn,[_(h).status.loaded?(s(),l(T,{key:0},[e("div",null,[k(Gs,{onExport:E[0]||(E[0]=B=>w())})]),e("div",el,[e("div",{class:"ms-3",ref_key:"navElem",ref:c},[k(Xn,{"re-render":p})],512),g.value?(s(),l("div",tl)):x("",!0),k(Gn,{"tab-id":_(h).data.selectedTabId,height:i.value,ref_key:"mainViewRef",ref:d},null,8,["tab-id","height"])])],64)):_(o).isProjectLoaded?(s(),l("div",al,il)):(s(),l("div",sl,[e("div",ol,[e("div",null,b(y.$t("main.status.no_project")),1),e("div",{class:"bi bi-house p-3",onClick:f,style:{"font-size":"50px",cursor:"pointer"}})])]))])]))])):x("",!0)}});const ul=j(rl,[["__scopeId","data-v-ef872353"]]);export{ul as default};
