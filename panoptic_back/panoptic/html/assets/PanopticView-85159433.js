import{d as P,u as ge,L as le,y as K,r as T,c as V,O as B,o as s,a as l,b as e,q as b,Q as ke,t as $,h as w,w as pe,v as fe,e as m,S as Ee,M as ne,s as y,V as F,W as we,l as x,X as Oe,n as H,P as U,Y as Se,i as te,Z as Ue,p as Y,f as X,_ as j,D as oe,$ as He,a0 as Ce,a1 as Pe,F as E,m as N,a2 as W,a3 as be,a4 as Ve,g as xe,a5 as Ne,a6 as Fe,a7 as Be,a8 as qe,I as Ke,a9 as Qe,aa as We,J as Ye,R as Xe,K as Ze,ab as Je,ac as et,ad as tt,ae as De,j as ue,af as ee,ag as Le,ah as st,ai as re,aj as se,ak as ot,al as at,am as nt,an as lt,ao as it,ap as rt,aq as dt,ar as ce,as as ct,at as ut,au as pt,av as mt,aw as _t,k as ze,z as L,ax as ht}from"./index-47576483.js";import{_ as vt}from"./Tutorial-9afa0ffc.js";const ve={},ie=c=>(Y("data-v-1cbe6b81"),c=c(),X(),c),gt={class:"d-flex flex-row"},ft={key:1,class:"d-flex",style:{width:"150px"}},yt={class:"flex-grow-1"},bt={key:1,style:{"padding-top":"1px"}},$t=ie(()=>e("i",{class:"bi bi-arrows-fullscreen"},null,-1)),kt={style:{width:"20px","margin-top":"2px"},class:"text-center"},wt=ie(()=>e("i",{class:"bi bi-link-45deg"},null,-1)),xt={class:"text-center",style:{width:"20px","margin-top":"2px"}},St=ie(()=>e("i",{class:"bi bi-chevron-down"},null,-1)),Ct=ie(()=>e("i",{class:"bi bi-chevron-right"},null,-1)),Mt={key:0,class:"ms-3 pt-1"},It=ie(()=>e("i",{class:"bi bi-funnel-fill me-2"},null,-1)),Vt=ie(()=>e("i",{class:"bi bi-filter me-2"},null,-1)),Ft=ie(()=>e("i",{class:"bi bi-collection me-2"},null,-1)),zt=ie(()=>e("i",{class:"bi bi-trash me-2"},null,-1)),Tt={key:1},Et=P({__name:"PropertyOptions",props:{property:Object},setup(c){const g=ge(),t=le(),o=K(),d=t.getTabManager(),a=c,_=T(!1),f=T(!1),p=T(""),r=T(!1),i=V(()=>t.getTab()),n=V(()=>i.value.visibleProperties[a.property.id]==!0),u=V(()=>d.collection.filterManager.state.filter.filters.some(z=>!z.isGroup&&z.propertyId==a.property.id)),v=V(()=>d.collection.groupManager.state.groupBy.includes(a.property.id)),k=V(()=>d.collection.sortManager.state.sortBy.includes(a.property.id)),h=V(()=>{if(u.value)return d.collection.filterManager.state.filter.filters.find(z=>!z.isGroup&&z.propertyId==a.property.id).id}),C=()=>d.collection.filterManager,D=V(()=>d.getSha1Mode());function q(){n.value?d.setVisibleProperty(a.property.id,!1):d.setVisibleProperty(a.property.id,!0)}function J(){_.value?_.value=!1:(_.value=!0,p.value=a.property.name),f.value=!1}function M(){a.property.type!=U.tag&&a.property.type!=U.multi_tags||(f.value?f.value=!1:f.value=!0,_.value=!1)}function S(){k.value?d.collection.sortManager.delSort(a.property.id):d.collection.sortManager.setSort(a.property.id),d.collection.sortManager.update(!0)}function O(){v.value?d.collection.groupManager.delGroupOption(a.property.id):d.collection.groupManager.setGroupOption(a.property.id),d.collection.groupManager.update(!0)}function A(){confirm("Supprimer la propriété: "+a.property.name+" ?   "+a.property.id)&&o.deleteProperty(a.property.id)}async function Q(){p.value!=""&&(await o.updateProperty(a.property.id,p.value),J())}function G(){const z=C();u.value?(z.deleteFilter(h.value),ve.filter.hide()):(z.addNewFilter(a.property.id),ve.filter.show())}return B(()=>a.property,()=>{_.value=!1}),(z,I)=>(s(),l("div",{class:H(r.value?"hover-light":"")},[e("div",gt,[_.value?w("",!0):(s(),l("div",{key:0,class:"option-holder hover-light btn-icon",style:{width:"150px"},onClick:J},[b(ke,{type:a.property.type,class:"me-2 btn-icon",onMouseenter:I[0]||(I[0]=R=>r.value=!0),onMouseleave:I[1]||(I[1]=R=>r.value=!1)},null,8,["type"]),e("span",null,$(a.property.name),1)])),_.value?(s(),l("div",ft,[e("div",null,[e("i",{class:"btn-icon me-1 bi bi-x-lg",style:{padding:"2px"},onClick:J,onMouseenter:I[2]||(I[2]=R=>r.value=!0),onMouseleave:I[3]||(I[3]=R=>r.value=!1)},null,32)]),e("div",yt,[a.property.id>=0?pe((s(),l("input",{key:0,style:{position:"relative",top:"1px"},type:"text",class:"text-input","onUpdate:modelValue":I[4]||(I[4]=R=>p.value=R),onChange:Q},null,544)),[[fe,p.value]]):(s(),l("span",bt,[b(ke,{type:a.property.type,class:"me-2 btn-icon"},null,8,["type"]),e("span",null,$(a.property.name),1)]))])])):w("",!0),m(Ee)(a.property.type)?(s(),l("div",{key:2,style:{width:"20px","margin-top":"2px",cursor:"pointer"},class:"text-center",onClick:I[5]||(I[5]=R=>m(g).showModal(m(ne).TAG,{propId:a.property.id}))},[b(F,{click:!1,message:"main.nav.properties.open_tags"},{default:y(()=>[$t]),_:1})])):w("",!0),e("div",kt,[a.property.mode==m(we).id?(s(),x(F,{key:0,click:!1,message:"main.nav.properties.linked_property_tooltip"},{default:y(()=>[wt]),_:1})):w("",!0)]),e("div",{style:{width:"20px","margin-top":"2px"},onClick:q,class:"btn-icon text-center"},[D.value&&a.property.mode==m(we).id?(s(),x(F,{key:0,message:"main.nav.properties.hidden_property_tooltip"},{default:y(()=>[e("span",{class:"bi bi-eye-slash",onClick:I[6]||(I[6]=Oe(()=>{},["stop"]))})]),_:1})):(s(),x(F,{key:1,pos:"right",message:"main.nav.properties.hide_property_tooltip"},{default:y(()=>[e("span",{class:H("bi bi-eye text-"+(n.value?"primary":"secondary"))},null,2)]),_:1}))]),e("div",xt,[a.property.type==m(U).tag||a.property.type==m(U).multi_tags?(s(),l("div",{key:0,onClick:M,style:{cursor:"pointer"}},[f.value?(s(),x(F,{key:0,message:"main.nav.properties.collapse_property_tooltip"},{default:y(()=>[St]),_:1})):(s(),x(F,{key:1,message:"main.nav.properties.expand_property_tooltip"},{default:y(()=>[Ct]),_:1}))])):w("",!0)])]),e("div",null,[_.value?(s(),l("div",Mt,[c.property.id!=m(Se).folders?(s(),l("div",{key:0,class:H(["options hover-light",u.value?" text-primary":""]),onClick:G},[e("div",null,[It,te($(z.$t("main.menu.filters")),1)])],2)):w("",!0),e("div",{class:H(["options hover-light",k.value?" text-primary":""]),onClick:S},[Vt,te($(z.$t("main.menu.sort.title")),1)],2),e("div",{class:H(["options hover-light",v.value?" text-primary":""]),onClick:O},[Ft,te($(z.$t("main.menu.groupby")),1)],2),a.property.id>=0?(s(),l("div",{key:1,class:"options hover-light",onClick:A},[zt,te($(z.$t("main.nav.properties.delete_property")),1)])):w("",!0)])):f.value?(s(),l("div",Tt,[b(Ue,{property:a.property,"can-create":!0,"can-customize":!0,"can-delete":!0,"can-link":!0},null,8,["property"])])):w("",!0)])],2))}});const Te=j(Et,[["__scopeId","data-v-1cbe6b81"]]),Ot=e("i",{class:"bi bi-three-dots base-hover"},null,-1),Pt={class:"text-nowrap"},Dt=["onClick"],Lt=e("i",{class:"bi bi-arrow-clockwise me-1"},null,-1),Gt=e("div",{class:"custom-hr"},null,-1),Rt=["onClick"],jt=e("i",{class:"bi bi-trash me-1"},null,-1),At=P({__name:"FolderOptionDropdown",props:{folder:{}},setup(c){const g=K(),t=c;function o(){g.reImportFolder(t.folder.id)}function d(){confirm(He.global.t("main.nav.folders.del_alert"))&&g.deleteFolder(t.folder.id)}return(a,_)=>(s(),x(oe,{teleport:!0},{button:y(()=>[Ot]),popup:y(({hide:f})=>[e("div",Pt,[e("div",{class:"p-2 bb",onClick:p=>{o(),f()}},[Lt,te("Re import")],8,Dt),Gt,e("div",{class:"bb p-2",onClick:p=>{d(),f()}},[jt,te($(a.$t("main.nav.folders.del")),1)],8,Rt)])]),_:1}))}}),Ut=["onMouseenter"],Ht=["onClick"],Nt={class:"text-secondary"},Bt=["onClick"],qt=P({__name:"FolderList2",props:{folders:Array,visibleFolders:Object,filterManager:Ce,root:{type:Boolean,default:!0}},setup(c){const g=K(),t=c,o=T(null),d=V(()=>{let i={};const n=new Set(t.filterManager.state.folders);return t.folders.map(u=>u.id).forEach(u=>{n.has(u)&&(i[u]=!0)}),i}),a=V(()=>{let i={};return t.folders.map(n=>n.id).forEach(n=>{t.visibleFolders[n]&&(i[n]=!0)}),i}),_=V(()=>{let i={};return t.folders.forEach(n=>{let u=[];d.value[n.id]&&u.push("selected"),i[n.id]=u.join(" ")}),i});function f(i){let n=t.visibleFolders;n[i]?delete n[i]:n[i]=!0}function p(i){let n=new Set(t.filterManager.state.folders);const u=n.has(i),v=g.folders[i].parent!=null&&n.has(g.folders[i].parent);u&&!v?(n.delete(i),be(i).forEach(k=>n.delete(k.id))):(r(i,n),n.add(i),be(i).forEach(k=>n.add(k.id)),Ve(g.folders[i]).forEach(k=>n.delete(k.id))),t.filterManager.setFolders(Array.from(n)),t.filterManager.update(!0)}function r(i,n){const u=Ve(g.folders[i]);let v;for(let k of u)if(n.has(k.id))v=k;else break;v!=null&&be(v.id).forEach(k=>n.delete(k.id))}return(i,n)=>{const u=Pe("FolderList2",!0);return s(),l("ul",{class:H(t.root?"tree":""),style:W(t.root?"padding-left:0px;":"")},[(s(!0),l(E,null,N(c.folders,v=>(s(),l("li",{style:W(t.root?"padding-left:0px;":""),class:"no-break",onMouseenter:k=>o.value=v.id,onMouseleave:n[0]||(n[0]=k=>o.value=null)},[e("summary",{class:H(_.value[v.id]),onClick:k=>p(v.id)},[te($(v.name)+" ",1),e("span",Nt,$(v.count),1)],10,Ht),v.children&&v.children.length>0?(s(),l("i",{key:0,onClick:k=>f(v.id),class:H("bi bi-chevron-"+(a.value[v.id]?"down":"right")+" ms-2 btn-icon"),style:{"font-size":"9px"}},null,10,Bt)):w("",!0),e("span",{class:H(o.value===v.id?"visible-option":"invisible-option")},[b(At,{folder:v,style:{display:"inline-block"}},null,8,["folder"])],2),v.children&&v.children.length>0&&a.value[v.id]?(s(),x(u,{key:1,folders:v.children,root:!1,"visible-folders":t.visibleFolders,"filter-manager":t.filterManager},null,8,["folders","visible-folders","filter-manager"])):w("",!0)],44,Ut))),256))],6)}}});const Kt=j(qt,[["__scopeId","data-v-940ffff5"]]),Qt={class:"text-center"},Wt={class:"w-100 text-center",style:{"font-size":"10px"}},Yt={key:0,class:"progress",role:"progressbar","aria-label":"Example 1px high","aria-valuemin":"0","aria-valuemax":"100",style:{height:"1px"}},Xt=P({__name:"TaskStatus",props:{task:{}},setup(c){const g=c,t=V(()=>g.task.total-g.task.remain-g.task.computing),o=V(()=>g.task.total);return(d,a)=>(s(),l("div",Qt,[te($(g.task.name)+" ",1),e("div",Wt,$(t.value)+" / "+$(o.value)+" "+$(d.$t("main.nav.tasks.done")),1),o.value>0?(s(),l("div",Yt,[e("div",{class:"progress-bar",style:W(`width: ${t.value/o.value*100}%`)},null,4)])):w("",!0)]))}}),Z=c=>(Y("data-v-375e91a5"),c=c(),X(),c),Zt={class:"menu overflow-scroll"},Jt={class:""},es={class:"m-0",style:{padding:"4px 0px 4px 8px"}},ts={class:"d-flex align-items-center",style:{"font-size":"15px","line-height":"14px"}},ss=Z(()=>e("i",{class:"bi bi-gear"},null,-1)),os=[ss],as=Z(()=>e("i",{class:"bi bi-arrow-left-right"},null,-1)),ns=[as],ls=Z(()=>e("div",{class:"custom-hr"},null,-1)),is={class:"ps-2 pe-2",style:{"padding-bottom":"9.5px"}},rs={class:"d-flex align-items-center"},ds=Z(()=>e("i",{class:"bi bi-plus"},null,-1)),cs={style:{"max-height":"300px",overflow:"auto"}},us={key:0,id:"import"},ps=Z(()=>e("div",{class:"custom-hr"},null,-1)),ms={class:"pt-1 pb-2"},_s={class:"d-flex align-items-center ps-2 pe-2",style:{height:"30px"}},hs=Z(()=>e("div",{class:"custom-hr"},null,-1)),vs={key:0,class:"ps-2 pe-2"},gs={class:"p-1"},fs={key:0,class:"custom-hr"},ys=Z(()=>e("div",{class:"custom-hr"},null,-1)),bs={class:"p-2 mt-0"},$s={class:"d-flex"},ks=Z(()=>e("span",{class:"flex-grow-1"},null,-1)),ws={key:0,class:"spinner-grow spinner-grow-sm float-end",style:{width:"10px",height:"10px","margin-top":"5px"}},xs=Z(()=>e("span",{class:"sr-only"},null,-1)),Ss=[xs],Cs={key:1,class:"bb me-1"},Ms={class:"bb me-2"},Is={key:0,class:"mt-2"},Vs={key:0,class:"property-item"},Fs=Z(()=>e("div",{class:"property-item m-0 p-0"},null,-1)),zs=Z(()=>e("i",{class:"bi bi-plus btn-icon float-start",style:{"font-size":"25px"}},null,-1)),Ts=Z(()=>e("div",{class:"custom-hr"},null,-1)),Es={class:"p-2 mt-0"},Os={key:0,class:"mt-2"},Ps={key:0,class:"property-item"},Ds=P({__name:"Menu",emits:["export"],setup(c,{emit:g}){const t=le(),o=K(),d=ge(),a=t.getTabManager(),_=T(!1),f=T(!1),p=async u=>{d.showModal(ne.IMPORT)},r=V(()=>t.backendStatus.tasks.filter(u=>!u.done));function i(){d.showModal(ne.FOLDERSELECTION,{callback:n,mode:"images"})}function n(u){u&&o.addFolder(u)}return B(()=>t.status.import.to_import,()=>_.value=!0),(u,v)=>{var k;return s(),l("div",Zt,[e("div",Jt,[e("div",null,[e("div",es,[e("div",ts,[e("div",{class:"flex-grow-1 text-capitalize overflow-hidden",onClick:v[0]||(v[0]=()=>{})},$((k=m(d).data.status.selectedProject)==null?void 0:k.name),1),e("div",{class:"base-hover p-1",onClick:v[1]||(v[1]=h=>m(d).showModal(m(ne).SETTINGS))},os),e("div",{class:"base-hover p-1",style:{"margin-right":"6px"},onClick:v[2]||(v[2]=h=>m(d).closeProject())},ns)])]),ls,e("div",is,[e("div",rs,[e("div",null,[e("b",null,$(u.$t("main.nav.folders.title")),1)]),e("div",{id:"add_folder",class:"ms-auto plus",onClick:v[3]||(v[3]=h=>{i(),m(xe)()})},[b(F,{message:"main.nav.folders.add"},{default:y(()=>[ds]),_:1})])]),e("div",cs,[m(t).getTab()?(s(),x(Kt,{key:0,folders:m(o).folderRoots,"filter-manager":m(a).collection.filterManager,"visible-folders":m(a).state.visibleFolders},null,8,["folders","filter-manager","visible-folders"])):w("",!0)])]),r.value&&r.value.length?(s(),l("div",us,[ps,e("div",ms,[e("div",_s,[e("div",null,[e("b",null,$(u.$t("main.nav.tasks.title")),1)])]),hs,m(t).backendStatus?(s(),l("div",vs,[(s(!0),l(E,null,N(r.value,(h,C)=>(s(),l("div",gs,[C?(s(),l("div",fs)):w("",!0),b(Xt,{task:h},null,8,["task"])]))),256))])):w("",!0)])])):w("",!0),ys,e("div",bs,[e("div",$s,[b(F,{message:"main.nav.properties.properties_tooltip",pos:"top",icon:!0},{default:y(()=>[e("b",null,$(u.$t("main.nav.properties.title")),1)]),_:1}),ks,f.value?(s(),l("span",ws,Ss)):(s(),l("span",Cs,[b(F,{pos:"right",message:"main.nav.properties.import_properties_tooltip"},{default:y(()=>[e("i",{class:"bi bi-box-arrow-in-up text-secondary",style:{position:"relative",top:"0px","font-size":"15px"},onClick:p})]),_:1})])),e("span",Ms,[b(F,{pos:"right",message:"main.nav.properties.export_properties_tooltip"},{default:y(()=>[e("i",{class:"bi bi-box-arrow-up text-secondary",style:{position:"relative",top:"0px","font-size":"15px"},onClick:v[4]||(v[4]=h=>m(d).showModal(m(ne).EXPORT,void 0))})]),_:1})])]),m(t).status.loaded?(s(),l("div",Is,[(s(!0),l(E,null,N(m(o).properties,h=>(s(),l(E,null,[h.id>=0?(s(),l("div",Vs,[b(Te,{property:h},null,8,["property"])])):w("",!0)],64))),256)),Fs,e("div",{id:"add-property",onClick:v[5]||(v[5]=h=>{m(d).showModal(m(ne).PROPERTY,void 0),m(xe)()}),class:"btn-icon base-hover mt-1",style:{"line-height":"25px"}},[zs,e("span",null,$(u.$t("main.nav.properties.add_property")),1)])])):w("",!0)]),Ts,e("div",Es,[b(F,{message:"main.nav.computed.computed_tooltip",icon:!0},{default:y(()=>[e("b",null,$(u.$t("main.nav.computed.title")),1)]),_:1}),m(t).status.loaded?(s(),l("div",Os,[(s(!0),l(E,null,N(m(o).properties,h=>(s(),l(E,null,[h.id<0&&h.id!=m(Ne)?(s(),l("div",Ps,[b(F,{pos:"bottom",message:"main.nav.computed."+Math.abs(h.id).toString()+"_tooltip"},{default:y(()=>[b(Te,{property:h},null,8,["property"])]),_:2},1032,["message"])])):w("",!0)],64))),256))])):w("",!0)])])])])}}});const Ls=j(Ds,[["__scopeId","data-v-375e91a5"]]),Gs={class:"p-0 hover-light ps-1 bb",style:{width:"50px"}},Rs={class:""},js=["onClick"],As=e("hr",{class:"m-0 p-0 mt-1 mb-1"},null,-1),Us=P({__name:"FilterGroupOperator",props:{modelValue:{}},emits:["update:modelValue"],setup(c,{emit:g}){const t=c,o=g;function d(a){o("update:modelValue",a)}return(a,_)=>(s(),x(oe,null,{button:y(()=>[e("div",Gs,[e("span",Rs,$(a.$t("modals.filters."+t.modelValue)),1)])]),popup:y(({hide:f})=>[e("div",{class:"ps-2 pt-1 pb-1 pe-2",onClick:f},[e("div",{class:"base-btn",onClick:_[0]||(_[0]=p=>d(m(Fe).and))},$(a.$t("modals.filters.and")),1),As,e("div",{class:"base-btn",onClick:_[1]||(_[1]=p=>d(m(Fe).or))},$(a.$t("modals.filters.or")),1)],8,js)]),_:1}))}}),Hs=["disabled"],Ns={class:"m-0 p-1"},Bs=["onClick"],qs=P({__name:"OperatorChoice",props:{propertyId:{},modelValue:{},disabled:{type:Boolean}},emits:["hide","update:modelValue"],setup(c,{emit:g}){const t=K(),o=c,d=g,a=V(()=>t.properties[o.propertyId]),_=V(()=>Be(a.value.type));async function f(p){d("update:modelValue",p)}return(p,r)=>(s(),x(oe,{onHide:r[0]||(r[0]=i=>d("hide")),placement:"bottom"},{button:y(()=>[e("div",{class:"text-nowrap sb ps-1 pe-1",disabled:o.disabled},[e("span",null,$(p.$t("modals.filters.operators."+o.modelValue)),1)],8,Hs)]),popup:y(({hide:i})=>[e("div",Ns,[(s(!0),l(E,null,N(_.value,n=>(s(),l("div",{class:"hover-light p-1 rounded",style:{cursor:"pointer"},onClick:u=>{f(n),i()}},[e("a",null,$(p.$t("modals.filters.operators."+n)),1)],8,Bs))),256))])]),_:1}))}});const Ks=j(qs,[["__scopeId","data-v-0b3d97be"]]),Qs={class:"d-flex text-nowrap overflow-hidden",style:{"font-size":"14px"}},Ws=P({__name:"FilterValueInput",props:{modelValue:{},property:{},width:{}},emits:["update:modelValue"],setup(c,{emit:g}){const t=c,o=g;function d(a){o("update:modelValue",a)}return(a,_)=>(s(),l("div",Qs,[m(Ee)(a.property.type)?(s(),x(qe,{key:0,"model-value":t.modelValue,"onUpdate:modelValue":d,"no-wrap":!0,"auto-focus":!0,"can-create":!0,"can-customize":!0,property:t.property,teleport:!1,width:t.width,class:"sb"},null,8,["model-value","property","width"])):t.property.type==m(U).color?(s(),x(Ke,{key:1,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,rounded:!0,"min-height":22,teleport:!1,offset:2,class:"sb"},null,8,["model-value","width"])):t.property.type==m(U).number?(s(),x(Qe,{key:2,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,height:26,"input-offset":0,class:"sb"},null,8,["model-value","width"])):t.property.type==m(U).url?(s(),x(We,{key:3,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,offset:-22,class:"sb"},null,8,["model-value","width"])):t.property.type==m(U).checkbox?(s(),x(Ye,{key:4,"model-value":t.modelValue,"onUpdate:modelValue":d,label:t.property.name,width:t.width,class:"sb"},null,8,["model-value","label","width"])):t.property.type==m(U).date?(s(),x(Xe,{key:5,"model-value":t.modelValue,teleport:!1,"onUpdate:modelValue":d,width:t.width,class:"sb"},null,8,["model-value","width"])):(s(),x(Ze,{key:6,"model-value":t.modelValue,"onUpdate:modelValue":d,width:t.width,offset:-22,class:"sb"},null,8,["model-value","width"]))]))}}),Ys={class:"p-0 m-0 ps-2"},Xs=P({__name:"FilterRow",props:{manager:{},filter:{}},emits:[],setup(c,{emit:g}){const t=K(),o=c,d=V(()=>t.properties[o.filter.propertyId]),a=V(()=>et(o.filter.operator));function _(r){o.manager.updateFilter(o.filter.id,{operator:r})}function f(r){o.manager.updateFilter(o.filter.id,{value:r})}function p(r){o.manager.updateFilter(o.filter.id,{propertyId:r.id})}return(r,i)=>(s(),l(E,null,[e("td",Ys,[b(Je,{"model-value":d.value,"onUpdate:modelValue":p},null,8,["model-value"])]),e("td",null,[b(Ks,{"property-id":d.value.id,"model-value":o.filter.operator,"onUpdate:modelValue":_},null,8,["property-id","model-value"])]),e("td",null,[a.value?(s(),x(Ws,{key:0,"model-value":o.filter.value,"onUpdate:modelValue":f,property:d.value,width:140,style:{width:"150px"},class:""},null,8,["model-value","property"])):w("",!0)])],64))}}),Zs={style:{"max-height":"500px",overflow:"auto"}},Ge=P({__name:"AddFilterBtn",props:{group:{},manager:{}},emits:[],setup(c,{emit:g}){const t=c;function o(d){t.manager.addNewFilter(d,t.group.id),ve.filter.show()}return(d,a)=>(s(),x(oe,{placement:"auto"},{button:y(()=>[tt(d.$slots,"default")]),popup:y(({hide:_})=>[e("div",Zs,[b(De,{onSelect:f=>{o(f),_()},"ignore-ids":[m(Se).folders]},null,8,["onSelect","ignore-ids"])])]),_:3}))}}),Me=c=>(Y("data-v-cbadcac5"),c=c(),X(),c),Js={class:"filter-group"},eo={class:"table table-sm"},to={style:{height:"33px"}},so={class:""},oo={key:0,class:"m-0 p-0"},ao={key:2,class:"text-secondary"},no={class:"border rounded"},lo={class:""},io=["onClick"],ro=Me(()=>e("i",{class:"bi bi-trash"},null,-1)),co=[ro],uo={class:"d-flex text-secondary ms-2"},po={class:"add-options hover-light"},mo=Me(()=>e("i",{class:"bi bi-plus"},null,-1)),_o=Me(()=>e("i",{class:"bi bi-plus"},null,-1)),ho=P({__name:"FilterGroup",props:{filter:{},manager:{},parent:{}},emits:["delete"],setup(c,{emit:g}){K();const t=c,o=V(()=>t.filter),d=V(()=>o.value.filters),a=V(()=>{let r=255-(o.value.depth+1)*5;return`background: rgb(${r},${r},${r});`});function _(r){t.manager.deleteFilter(r.id)}function f(r){t.manager.addNewFilterGroup(r)}function p(r,i){t.manager.updateFilterGroup(r,i)}return(r,i)=>(s(),l("div",Js,[e("table",eo,[(s(!0),l(E,null,N(d.value,(n,u)=>(s(),l("tr",to,[e("td",so,[u==0?(s(),l("div",oo,$(r.$t("modals.filters.where")),1)):u==1?(s(),x(Us,{key:1,"model-value":o.value.groupOperator,"onUpdate:modelValue":i[0]||(i[0]=v=>p(o.value.id,v))},null,8,["model-value"])):(s(),l("span",ao,$(r.$t("modals.filters."+o.value.groupOperator)),1))]),n.propertyId!==void 0?(s(),x(Xs,{key:0,filter:n,manager:t.manager},null,8,["filter","manager"])):(s(),l("td",{key:1,colspan:"3",style:W(a.value)},[e("div",no,[b(Re,{filter:n,manager:t.manager},null,8,["filter","manager"])])],4)),e("td",lo,[e("span",{class:"base-btn",onClick:v=>_(n)},co,8,io)])]))),256))]),e("div",uo,[b(Ge,{group:t.filter,manager:t.manager},{default:y(()=>[e("div",po,[mo,te($(r.$t("modals.filters.new_filter")),1)])]),_:1},8,["group","manager"]),e("div",{class:"add-options hover-light",onClick:i[1]||(i[1]=n=>f(o.value.id))},[_o,te($(r.$t("modals.filters.new_group")),1)])])]))}});const Re=j(ho,[["__scopeId","data-v-cbadcac5"]]),vo=c=>(Y("data-v-7dbca090"),c=c(),X(),c),go={key:0,class:"d-flex flex-row m-0 ms-1 p-1 bg hover-light bg-medium",style:{cursor:"pointer"}},fo={key:0},yo=vo(()=>e("span",{class:"text-primary"},"Text Query",-1)),bo={key:0,class:"or-separator"},$o={key:0,class:"or-separator"},ko={key:0,class:"m-1 p-1"},wo=P({__name:"MainFilterDropdown",props:{manager:Ce},emits:["update:modelValue"],setup(c,{emit:g}){const t=K(),o=c,d=T(null),a=T(null),_=V(()=>{let p=f(o.manager.state.filter),r={};return p.forEach(i=>r[i.propertyId]=i),Object.values(r)});function f(p){let r=[];for(let i of p.filters)i.isGroup?r.push(...f(i)):r.push(i);return r}return B(()=>o.manager.state.filter.filters,()=>{o.manager.state.filter.filters.length==0&&a.value.hide()}),ue(async()=>{await ee(),ve.filter=a.value}),(p,r)=>(s(),x(oe,{ref_key:"dropdownElem",ref:a,placement:"top-start"},{button:y(()=>[e("div",null,[_.value.length||o.manager.state.query?(s(),l("div",go,[o.manager.state.query?(s(),l("div",fo,[yo,_.value.length?(s(),l("span",bo,"|")):w("",!0)])):w("",!0),(s(!0),l(E,null,N(_.value,(i,n)=>(s(),l("div",null,[n>0?(s(),l("span",$o,"|")):w("",!0),i.propertyId==m(Se).id?(s(),x(ke,{key:1,type:m(t).properties[i.propertyId].type,style:{"margin-right":"2px"}},null,8,["type"])):w("",!0),e("span",null,$(m(t).properties[i.propertyId].name),1)]))),256))])):w("",!0)])]),popup:y(()=>[e("div",{class:"m-0 p-0",ref_key:"popupElem",ref:d},[Object.keys(m(t).properties).length>0?(s(),l("div",ko,[b(Re,{filter:o.manager.state.filter,manager:o.manager,parent:d.value},null,8,["filter","manager","parent"])])):w("",!0)],512)]),_:1},512))}});const xo=j(wo,[["__scopeId","data-v-7dbca090"]]),So=c=>(Y("data-v-aad7b24a"),c=c(),X(),c),Co={class:"d-flex flex-row filter-form"},Mo={class:"pt-1 pb-1"},Io=So(()=>e("span",{class:"base-hover plus-btn text-secondary"},[e("i",{class:"bi bi-plus"})],-1)),Vo=P({__name:"FilterForm",props:{manager:Ce},setup(c){const g=c;return(t,o)=>(s(),l("div",Co,[e("div",Mo,$(t.$t("main.menu.filters"))+": ",1),b(xo,{manager:g.manager},null,8,["manager"]),b(Ge,{manager:g.manager,group:g.manager.state.filter,class:"p-1"},{default:y(()=>[Io]),_:1},8,["manager","group"])]))}});const Fo=j(Vo,[["__scopeId","data-v-aad7b24a"]]),zo=c=>(Y("data-v-2f10e29f"),c=c(),X(),c),To=zo(()=>e("div",{class:"text-secondary p-1"},[e("span",{class:"base-hover plus-btn"},[e("i",{class:"bi bi-plus"})])],-1)),Eo={class:"p-1",style:{"max-height":"400px","overflow-y":"scroll"}},Oo=P({__name:"PropertyDropdown",props:{groupIds:Array},emits:["select"],setup(c,{emit:g}){const t=c,o=g,d=T(null);return(a,_)=>(s(),x(oe,{ref_key:"dropdownElem",ref:d,"auto-focus":!1},{button:y(()=>[To]),popup:y(()=>[e("div",Eo,[b(De,{onClick:_[0]||(_[0]=f=>m(xe)()),onSelect:_[1]||(_[1]=f=>{o("select",f),d.value.hide()}),"ignore-ids":t.groupIds},null,8,["ignore-ids"])])]),_:1},512))}});const je=j(Oo,[["__scopeId","data-v-2f10e29f"]]),Po={class:"base-hover ps-1 pe-1"},Do={class:"main"},Lo=["onClick"],Go=P({__name:"TimeUnitDropdown",props:{modelValue:{}},emits:["update:modelValue"],setup(c,{emit:g}){const t=c,o=g,d=Object.values(Le);function a(_){o("update:modelValue",_)}return(_,f)=>(s(),x(oe,null,{button:y(()=>[e("div",Po,$(t.modelValue),1)]),popup:y(({hide:p})=>[e("div",Do,[(s(!0),l(E,null,N(m(d),r=>(s(),l("div",{class:"base-hover option",onClick:i=>{a(r),p()}},$(r),9,Lo))),256))])]),_:1}))}});const Ro=j(Go,[["__scopeId","data-v-cc9d0d61"]]),jo=c=>(Y("data-v-a27bea28"),c=c(),X(),c),Ao=jo(()=>e("i",{class:"bi bi-three-dots-vertical"},null,-1)),Uo={class:""},Ho={class:"d-flex ipt"},No={class:"ms-2",min:"1"},Bo=P({__name:"GroupOptionDropdown",props:{option:{}},emits:["change"],setup(c,{emit:g}){const t=c,o=g,d=T(1),a=T(Le.Year);function _(){t.option.stepSize==d.value&&t.option.stepUnit==a.value||o("change",{stepSize:d.value,stepUnit:a.value})}function f(){d.value=t.option.stepSize??1,a.value=t.option.stepUnit}return B(()=>t.option,f),ue(f),B(d,()=>{(d.value<1||d.value==null||isNaN(d.value))&&(d.value=1)}),(p,r)=>(s(),x(oe,{onHide:_},{button:y(()=>[Ao]),popup:y(({hide:i,focus:n})=>[e("div",Uo,[e("div",Ho,[e("div",null,[pe(e("input",{type:"number","onUpdate:modelValue":r[0]||(r[0]=u=>d.value=u)},null,512),[[fe,d.value]])]),e("div",No,[b(Ro,{modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=u=>a.value=u),onHide:n},null,8,["modelValue","onHide"])])])])]),_:1}))}});const qo=j(Bo,[["__scopeId","data-v-a27bea28"]]),Ko={class:"d-flex flex-row group-form"},Qo={class:"pt-1 pb-1"},Wo={key:0,class:"bg-medium bg d-flex flex-row m-0 ms-1 p-0 align-items-center"},Yo={key:0,class:"bi bi-chevron-right smaller"},Xo=["onClick"],Zo=["onClick"],Jo=["onClick"],ea=["onClick"],ta=["onClick"],sa=["onClick"],oa=["onClick"],aa=["onClick"],na=["onClick"],la={key:5,class:"sm-btn"},ia={key:0,class:"spinner-grow spinner-grow-sm loading ms-1"},ra=P({__name:"GroupForm",props:{isLoading:Boolean,manager:st},setup(c){const g=K(),t=c;function o(i){t.manager.setGroupOption(i),t.manager.update(!0)}function d(i){t.manager.delGroupOption(i),t.manager.update(!0)}function a(i,n){t.manager.setGroupOption(i,{direction:n}),t.manager.sortGroups(!0)}function _(i,n){t.manager.setGroupOption(i,{type:n}),t.manager.sortGroups(!0)}function f(i,n){t.manager.setGroupOption(i,n),t.manager.update(!0)}const p=V(()=>t.manager.state.groupBy.map(i=>g.properties[i])),r=V(()=>{const i=[];return t.manager.state.groupBy.forEach(n=>{i.push({option:t.manager.state.options[n],property:g.properties[n]})}),i});return(i,n)=>(s(),l("div",Ko,[e("div",Qo,$(i.$t("main.menu.groupby"))+": ",1),p.value.length?(s(),l("div",Wo,[(s(!0),l(E,null,N(r.value,(u,v)=>(s(),l(E,null,[v>0?(s(),l("i",Yo)):w("",!0),e("div",{class:"base-hover m-1 ps-1 pe-1",onClick:k=>d(u.property.id),id:"remove-group-button"},$(u.property.name),9,Xo),u.option.type==m(re).Size?(s(),x(F,{key:1,message:"main.menu.sort.group_order_nb_tooltip"},{default:y(()=>[u.option.direction==m(se).Ascending?(s(),l("i",{key:0,class:"bi bi-sort-up-alt sm-btn",onClick:k=>_(u.property.id,m(re).Property)},null,8,Zo)):(s(),l("i",{key:1,class:"bi bi-sort-down sm-btn",onClick:k=>_(u.property.id,m(re).Property)},null,8,Jo))]),_:2},1024)):(s(),x(F,{key:2,message:"main.menu.sort.group_order_az_tooltip"},{default:y(()=>[u.property.type==m(U).number?(s(),l(E,{key:0},[u.option.direction==m(se).Ascending?(s(),l("i",{key:0,class:"bi bi-sort-numeric-up sm-btn",onClick:k=>_(u.property.id,m(re).Size)},null,8,ea)):(s(),l("i",{key:1,class:"bi bi-sort-numeric-down-alt sm-btn",onClick:k=>_(u.property.id,m(re).Size)},null,8,ta))],64)):(s(),l(E,{key:1},[u.option.direction==m(se).Ascending?(s(),l("i",{key:0,class:"bi bi-sort-alpha-up sm-btn",onClick:k=>_(u.property.id,m(re).Size)},null,8,sa)):(s(),l("i",{key:1,class:"bi bi-sort-alpha-down-alt sm-btn",onClick:k=>_(u.property.id,m(re).Size)},null,8,oa))],64))]),_:2},1024)),u.option.direction==m(se).Ascending?(s(),x(F,{key:3,message:"main.menu.sort.order_asc"},{default:y(()=>[e("i",{class:"bi bi-arrow-up sm-btn",onClick:k=>a(u.property.id,m(se).Descending)},null,8,aa)]),_:2},1024)):(s(),x(F,{key:4,message:"main.menu.sort.order_desc"},{default:y(()=>[e("i",{class:"bi bi-arrow-down sm-btn",onClick:k=>a(u.property.id,m(se).Ascending)},null,8,na)]),_:2},1024)),u.property.type==m(U).date?(s(),l("div",la,[b(qo,{option:u.option,onChange:k=>f(u.property.id,k)},null,8,["option","onChange"])])):w("",!0)],64))),256)),t.isLoading?(s(),l("i",ia)):w("",!0)])):w("",!0),b(je,{id:"add-group-button","group-ids":t.manager.state.groupBy,onSelect:n[0]||(n[0]=u=>o(u))},null,8,["group-ids"])]))}});const da=j(ra,[["__scopeId","data-v-388718c9"]]),ca={class:"d-flex flex-row sort-form"},ua={class:"pt-1 pb-1"},pa={key:0,class:"d-flex flex-row m-0 p-0 bg-medium bg ms-1 align-items-center"},ma={key:0,class:"bi bi-chevron-right smaller"},_a=["onClick"],ha=["onClick"],va=["onClick"],ga=P({__name:"SortForm",props:{manager:ot},setup(c){const g=K(),t=c,o=V(()=>t.manager.state.sortBy.map(p=>({propertyId:p,direction:t.manager.state.options[p].direction}))),d=V(()=>o.value.map(p=>p.propertyId));function a(p){t.manager.setSort(p),t.manager.update(!0)}function _(p){t.manager.delSort(p),t.manager.update(!0)}function f(p,r){t.manager.setSort(p,{direction:r}),t.manager.update(!0)}return(p,r)=>(s(),l("div",ca,[e("div",ua,$(p.$t("main.menu.sort.title"))+": ",1),o.value.length?(s(),l("div",pa,[(s(!0),l(E,null,N(o.value,(i,n)=>(s(),l(E,null,[n>0?(s(),l("i",ma)):w("",!0),e("div",{class:"me-0 ms-1 ps-1 mt-1 mb-1 pe-1 base-hover",onClick:u=>_(i.propertyId)},$(m(g).properties[i.propertyId].name),9,_a),i.direction==m(se).Ascending?(s(),x(F,{key:1,message:"main.menu.sort.order_asc"},{default:y(()=>[e("i",{class:"bi bi-arrow-up sm-btn",onClick:u=>f(i.propertyId,m(se).Descending)},null,8,ha)]),_:2},1024)):(s(),x(F,{key:2,message:"main.menu.sort.order_desc"},{default:y(()=>[e("i",{class:"bi bi-arrow-down sm-btn",onClick:u=>f(i.propertyId,m(se).Ascending)},null,8,va)]),_:2},1024))],64))),256))])):w("",!0),b(je,{"group-ids":d.value,onSelect:r[0]||(r[0]=i=>a(i))},null,8,["group-ids"])]))}});const fa=j(ga,[["__scopeId","data-v-80dc564a"]]),ye=c=>(Y("data-v-ba1876b2"),c=c(),X(),c),ya=ye(()=>e("i",{class:"bi bi-clock-history me-1"},null,-1)),ba={class:"p-2"},$a={key:0,class:"border mb-1 p-1 text-center text-secondary",style:{"background-color":"#f7f7f7"}},ka={class:"border mb-1 p-1"},wa={class:"me"},xa=ye(()=>e("span",{class:"sep ms-1 me-1"},null,-1)),Sa={key:0},Ca={key:1},Ma={class:"border mb-1 p-1",style:{"background-color":"#f7f7f7"}},Ia={class:"d-flex center justify-content-center"},Va={key:1,class:"bi bi-arrow-down text-secondary"},Fa=ye(()=>e("div",{style:{width:"30px"}},null,-1)),za={key:3,class:"bi bi-arrow-up text-secondary"},Ta={class:"border mb-1 p-1"},Ea={class:"me"},Oa=ye(()=>e("span",{class:"sep ms-1 me-1"},null,-1)),Pa={key:0},Da={key:1},La={key:1,class:"border mb-1 p-1 text-center text-secondary",style:{"background-color":"#f7f7f7"}},de=5,Ga=P({__name:"HistoryDropdown",emits:[],setup(c,{emit:g}){const t=K(),o=T(!1),d=V(()=>o.value?{backgroundColor:"blue"}:{backgroundColor:"white"}),a=V(()=>[...t.history.undo].reverse().slice(0,de)),_=V(()=>t.history.redo.slice(Math.max(t.history.redo.length-de,0)));return B(()=>t.onUndo,()=>{console.log("changed"),o.value=!0,setTimeout(()=>o.value=!1,100)}),(f,p)=>a.value.length||_.value.length?(s(),x(oe,{key:0},{button:y(()=>[b(F,{message:"dropdown.history.info"},{default:y(()=>[e("div",{class:"d-flex sb flash",style:W([{"font-size":"14px"},d.value])},[ya,e("div",null,$(f.$t("dropdown.history.button")),1)],4)]),_:1})]),popup:y(()=>[e("div",ba,[m(t).history.redo.length>de?(s(),l("div",$a," + "+$(m(t).history.redo.length-de),1)):w("",!0),(s(!0),l(E,null,N(_.value,r=>(s(),l("div",ka,[e("span",wa,$(new Date(r.timestamp).toLocaleTimeString("fr-Fr",{hour:"2-digit",minute:"2-digit"})),1),xa,r.tags?(s(),l("span",Sa,$(r.tags)+" "+$(f.$t("dropdown.history.tags")),1)):w("",!0),r.values?(s(),l("span",Ca,$(r.values)+" "+$(f.$t("dropdown.history.values")),1)):w("",!0)]))),256)),e("div",Ma,[e("div",Ia,[a.value.length?(s(),x(F,{key:0,message:"dropdown.history.undo"},{default:y(()=>[e("div",{class:"bi bi-arrow-down sb",onClick:p[0]||(p[0]=(...r)=>m(t).undo&&m(t).undo(...r))})]),_:1})):(s(),l("div",Va)),Fa,_.value.length?(s(),x(F,{key:2,message:"dropdown.history.redo"},{default:y(()=>[e("div",{class:"bi bi-arrow-up sb",onClick:p[1]||(p[1]=(...r)=>m(t).redo&&m(t).redo(...r))})]),_:1})):(s(),l("div",za))])]),(s(!0),l(E,null,N(a.value,r=>(s(),l("div",Ta,[e("span",Ea,$(new Date(r.timestamp).toLocaleTimeString("fr-Fr",{hour:"2-digit",minute:"2-digit"})),1),Oa,r.tags?(s(),l("span",Pa,$(r.tags)+" "+$(f.$t("dropdown.history.tags")),1)):w("",!0),r.values?(s(),l("span",Da,$(r.values)+" "+$(f.$t("dropdown.history.values")),1)):w("",!0)]))),256)),m(t).history.undo.length>de?(s(),l("div",La," + "+$(m(t).history.undo.length-de),1)):w("",!0)])]),_:1})):w("",!0)}});const Ra=j(Ga,[["__scopeId","data-v-ba1876b2"]]),Ie=c=>(Y("data-v-6c701a49"),c=c(),X(),c),ja=Ie(()=>e("span",{class:"bi bi-arrow-repeat text-warning"},null,-1)),Aa=Ie(()=>e("span",{class:"bi bi-check2-all text-success"},null,-1)),Ua=Ie(()=>e("div",{style:{height:"30px"}},[e("span",{class:"bi bi-check2-all text-success small-valid"}),e("span",{class:"bi bi-arrow-repeat big-arrow text-warning",style:{opacity:"0.3"}})],-1)),Ha=P({__name:"ToggleReload",emits:[],setup(c,{emit:g}){const t=le(),o=V(()=>t.getTab().autoReload?2:t.getTabManager().collection.state.isDirty?0:1);function d(){o.value==0?t.getTabManager().collection.update():o.value==1?(t.getTab().autoReload=!0,t.updateTabs()):(t.getTab().autoReload=!1,t.updateTabs())}return(a,_)=>(s(),l("div",{class:"bb font",onClick:d,style:{width:"26px",height:"30px",overflow:"hidde"}},[o.value==0?(s(),x(F,{key:0,message:"btn.reload.dirty",pos:"bottom"},{default:y(()=>[ja]),_:1})):w("",!0),o.value==1?(s(),x(F,{key:1,message:"btn.reload.valid",pos:"bottom"},{default:y(()=>[Aa]),_:1})):w("",!0),o.value==2?(s(),x(F,{key:2,message:"btn.reload.auto",pos:"bottom"},{default:y(()=>[Ua]),_:1})):w("",!0)]))}});const Na=j(Ha,[["__scopeId","data-v-6c701a49"]]),me=c=>(Y("data-v-58650d16"),c=c(),X(),c),Ba={class:"d-flex flex-row p-2"},qa=me(()=>e("div",{class:"bi bi-search float-start bi-sm"},null,-1)),Ka=["placeholder"],Qa={class:"me-5 d-flex"},Wa=me(()=>e("div",{class:"bi bi-aspect-ratio me-1"},null,-1)),Ya={class:"ms-5",style:{"font-size":"13px"}},Xa=["checked"],Za=me(()=>e("span",{class:"ms-1"},"Mode Image unique",-1)),Ja={class:"ms-4"},en=me(()=>e("div",{class:"flex-grow-1"},null,-1)),tn=me(()=>e("a",{href:"https://github.com/CERES-Sorbonne/Panoptic/issues/new/choose",target:"_blank",class:"bi bi-cone-striped",style:{color:"grey"}},null,-1)),sn={class:"d-flex flex-wrap content-container ps-2"},on=P({__name:"ContentFilter",props:{tab:at,computeStatus:Object},emits:["compute-ml","search-images","remove:selected"],setup(c,{emit:g}){le();const t=c,o=T(""),d=V(()=>Object.keys(t.tab.collection.groupManager.selectedImages.value).map(Number)),a=V(()=>d.value.length);function _(i){const n=i.target.checked;t.tab.collection.groupManager.setSha1Mode(n,!0)}function f(){o.value=t.tab.state.filterState.query}function p(){t.tab.collection.filterManager.setQuery(o.value),t.tab.collection.filterManager.update(!0)}function r(){t.tab.collection.filterManager.setQuery(""),t.tab.collection.filterManager.update(!0)}return ue(f),B(()=>t.tab.collection.filterManager.state.query,f),(i,n)=>(s(),l(E,null,[e("div",Ba,[b(F,{icon:!0,message:"main.menu.search_tooltip",iconPos:"left"},{default:y(()=>[e("div",{class:H(["d-flex flex-row search-input me-5",o.value?"border-primary":""])},[qa,pe(e("input",{type:"text",class:"input-hidden",placeholder:i.$t("main.menu.search"),"onUpdate:modelValue":n[0]||(n[0]=u=>o.value=u),onChange:p},null,40,Ka),[[fe,o.value]]),e("div",{class:"bi-sm base-hover",style:{cursor:"pointer",padding:"0px 2px"},onClick:r},"x")],2)]),_:1}),e("div",Qa,[b(F,{message:"main.menu.grid_tooltip"},{default:y(()=>[e("i",{class:H("bi bi-grid-3x3-gap-fill me-2 btn-icon"+(t.tab.state.display=="tree"?"":" text-secondary")),onClick:n[1]||(n[1]=u=>t.tab.state.display="tree")},null,2)]),_:1}),b(F,{message:"main.menu.table_tooltip"},{default:y(()=>[e("i",{id:"toot",class:H("bi bi-table btn-icon me-2"+(t.tab.state.display=="grid"?"":" text-secondary")),onClick:n[2]||(n[2]=u=>t.tab.state.display="grid")},null,2)]),_:1}),b(F,{message:"main.menu.graph_tooltip"},{default:y(()=>[e("i",{id:"toot",class:H("bi bi-bar-chart btn-icon"+(t.tab.state.display=="graph"?"":" text-secondary")),onClick:n[3]||(n[3]=u=>t.tab.state.display="graph")},null,2)]),_:1})]),b(F,{message:"main.menu.image_size_tooltip",click:!1},{default:y(()=>[Wa]),_:1}),e("div",null,[b(nt,{min:30,max:500,modelValue:t.tab.state.imageSize,"onUpdate:modelValue":n[4]||(n[4]=u=>t.tab.state.imageSize=u)},null,8,["modelValue"])]),e("div",Ya,[b(F,{message:"main.menu.image_mode_tooltip"},{default:y(()=>[e("input",{type:"checkbox",checked:t.tab.collection.groupManager.state.sha1Mode,onChange:_},null,40,Xa),Za]),_:1})]),e("div",Ja,[b(Ra)]),a.value?(s(),x(lt,{key:0,id:"selection-stamp",class:"ms-5","selected-images-ids":d.value,"onRemove:selected":n[5]||(n[5]=u=>t.tab.collection.groupManager.clearSelection())},null,8,["selected-images-ids"])):w("",!0),en,b(F,{message:"main.menu.issue",class:"bb"},{default:y(()=>[tn]),_:1})]),e("div",sn,[b(Na,{class:"me-1"}),b(Fo,{manager:t.tab.collection.filterManager},null,8,["manager"]),b(da,{"is-loading":t.computeStatus.groups,manager:t.tab.collection.groupManager},null,8,["is-loading","manager"]),b(fa,{manager:t.tab.collection.sortManager},null,8,["manager"])])],64))}});const an=j(on,[["__scopeId","data-v-58650d16"]]),nn={class:""},ln={class:"d-flex flex-row"},rn=P({__name:"ImageRecomended",props:{pile:Object,size:{type:Number,default:100}},emits:["accept","refuse"],setup(c,{emit:g}){const t=ge(),o=c,d=g,a=V(()=>`width: ${o.size}px; height: ${o.size}px;`);V(()=>`max-width: ${o.size-2}px; max-height: ${o.size-1}px;`);const _=V(()=>o.pile.images[0]);return(f,p)=>(s(),l("div",nn,[b(rt,{image:_.value},{default:y(()=>[e("div",{style:W(a.value),class:"img-container",onClick:p[0]||(p[0]=r=>m(t).showModal(m(ne).IMAGE,{image:_.value}))},[b(it,{image:_.value,width:o.size-2,height:o.size-1},null,8,["image","width","height"])],4)]),_:1},8,["image"]),e("div",ln,[b(F,{message:"main.recommand.accept"},{default:y(()=>[e("div",{style:W(["width: "+o.size/2+"px;",{"font-size":"10px"}]),class:"text-center text-success validate clickable unselectable",onClick:p[1]||(p[1]=r=>d("accept",_.value))}," ✓ ",4)]),_:1}),b(F,{message:"main.recommand.refuse"},{default:y(()=>[e("div",{style:W(["width: "+o.size/2+"px;",{"font-size":"10px"}]),class:"text-center text-danger refuse clickable unselectable",onClick:p[2]||(p[2]=r=>d("refuse",_.value))}," ✕ ",4)]),_:1})])]))}});const dn=j(rn,[["__scopeId","data-v-809d667b"]]),_e=c=>(Y("data-v-8f1f076a"),c=c(),X(),c),cn={class:"reco-container"},un={class:"d-flex flex-row m-0 ps-2 center mb-1 mt-0",style:{height:"25px"}},pn=_e(()=>e("span",{class:"bi bi-x-lg bb",style:{}},null,-1)),mn=[pn],_n=_e(()=>e("div",{class:"b-left pe-1"},null,-1)),hn=_e(()=>e("span",{class:"bi bi-arrow-down-circle bb"},null,-1)),vn=[hn],gn=_e(()=>e("div",{class:"b-left pe-1"},null,-1)),fn={key:0,class:"bi bi-funnel-fill bb text-primary"},yn={key:1,class:"bi bi-funnel bb"},bn=_e(()=>e("div",{class:"b-left pe-1"},null,-1)),$n={class:"text-secondary me-2"},kn={class:"flex-grow-1"},wn={class:"d-flex flex-row"},xn={key:0,class:"separator"},Sn={class:"d-flex flex-row"},$e=10,Cn=P({__name:"RecommendedMenu",props:{imageSize:{},group:{},width:{},height:{}},emits:["scroll","close","update"],setup(c,{emit:g}){const t=le(),o=K(),d=dt(),a=c,_=g,f=T(1),p=ce([]),r=ce([]),i=ce([]),n=ce(new Set),u=T(!0);function v(M){let S=r.indexOf(M);S<0||(r.splice(S,1),C())}async function k(M){const S=[],O=[];i.forEach(A=>{if(A.value!=null){const Q=o.properties[A.propertyId];let G=A.value;Q.type==U.multi_tags?(G=M.properties[A.propertyId]??[],G=[...G,A.value]):Q.type==U.tag&&(G=[G]),Q.mode==we.id?O.push({instanceId:M.id,propertyId:Q.id,value:G}):S.push({propertyId:Q.id,sha1:M.sha1,value:G})}}),await o.setPropertyValues(O,S),v(M.sha1)}function h(M){n.add(M.sha1),v(M.sha1)}function C(){p.length=0;const M=r.map(S=>({sha1:S,images:o.sha1Index[S]}));D(M,p,f.value,a.imageSize,a.width)}function D(M,S,O,A,Q){let G=Q,z=[],I=0;for(let R=0;R<M.length&&!(S.length>=O);R++){let ae=M[R];if(n.has(ae.sha1))continue;let he=A+$e;if(I+he<G){z.push(ae),I+=he;continue}if(z.length==0)throw new Error("Images seems to be to big for the line");S.push(z),S.length<O&&(z=[ae],I=he)}z.length>0&&S.length<O&&S.push(z)}async function q(){if(!a.group)return;console.log("get reco");const M=a.group.images.map(z=>z.id);let S=await d.getSimilarImages({instanceIds:M});if(console.log(S),!S.instances)throw new Error("No instances in ActionResult");let O=[];const A=S.instances.scores??[];if(S.instances.ids)for(let z in S.instances.ids){const I={id:S.instances.ids[z],score:A[z]};O.push(I)}else for(let z in S.instances.sha1s){const I=S.instances.sha1s[z];for(let R of o.sha1Index[I]){const ae={id:R.id,score:A[z]};O.push(ae)}}if(O.sort((z,I)=>I.score-z.score),u.value){const z=t.getTabManager(),I=new Set(z.collection.groupManager.result.root.images.map(R=>R.id));O=O.filter(R=>I.has(R.id))}const Q=Array.from(new Set(O.map(z=>o.instances[z.id].sha1)));i.length=0;let G=a.group;for(;G;)i.push(...G.meta.propertyValues),G=G.parent;r.length=0,r.push(...Q),n.clear(),C(),_("update")}function J(){u.value=!u.value}return ue(q),B(()=>a.group,()=>{q(),n.clear()}),B(()=>a.imageSize,C),B(()=>a.width,C),B(u,q),(M,S)=>(s(),l("div",cn,[e("div",un,[e("div",{class:"text-secondary pe-1",onClick:S[0]||(S[0]=O=>_("close"))},mn),_n,e("div",{class:"text-secondary pe-1",onClick:S[1]||(S[1]=O=>_("scroll",a.group.id))},vn),gn,e("div",{class:"text-secondary pe-1",onClick:J},[u.value?(s(),l("span",fn)):(s(),l("span",yn))]),bn,b(F,{"icon-pos":"left",message:"main.recommand.tooltip",icon:!0},{default:y(()=>[e("span",$n,$(M.$t("main.recommand.title")),1)]),_:1}),e("div",kn,[e("div",wn,[(s(!0),l(E,null,N(i,(O,A)=>(s(),l(E,null,[b(ct,{class:"",value:O},null,8,["value"]),A<i.length-1?(s(),l("div",xn)):w("",!0)],64))),256))])])]),e("div",{style:W("margin-left:"+$e+"px;")},[(s(!0),l(E,null,N(p,O=>(s(),l("div",null,[e("div",Sn,[(s(!0),l(E,null,N(O,A=>(s(),x(dn,{pile:A,size:a.imageSize,onAccept:k,onRefuse:h,style:W("margin-right:"+$e+"px;")},null,8,["pile","size","style"]))),256))])]))),256))],4)]))}});const Mn=j(Cn,[["__scopeId","data-v-8f1f076a"]]);const In={style:{display:"flex"}},Vn={class:"info"},Fn=e("img",{id:"zoomed-image",style:{display:"none",position:"absolute","z-index":"1000",width:"120px",height:"120px","pointer-events":"none"}},null,-1),zn={__name:"LineChart",props:{chartData:{series:Array,xValues:Array,dataType:U},height:String},setup(c){const g=c,t=T(0),o=T(!1),d={};Object.keys(g.chartData.series).forEach(n=>{d[n]=!1});const a=T({markers:{size:7},legend:{showForSingleSeries:!0,onItemClick:{toggleDataSeries:!1}},xaxis:{type:g.chartData.dataType===U.date?"datetime":"numeric",categories:g.chartData.xValues},chart:{type:"area",stacked:!1,stackOnlyBar:!1,zoom:{type:"x",autoScaleYaxis:!0},animations:{animateGradually:{enabled:!1,delay:150}}},dataLabels:{enabled:!1},stroke:{curve:"straight"},tooltip:{intersect:!0,shared:!1,custom:function({series:n,seriesIndex:u,dataPointIndex:v,w:k}){const h=g.chartData.series[u].data[v];let C='<div style="display: grid; grid-template-columns: repeat(5, 1fr); grid-gap: 5px;">';h.images.forEach((q,J)=>{J<10&&(C+=`<div style="width: 75px; height: 75px;"><img src="${q}" style="width: 100%; height: 100%;" /></div>`)}),C+="</div>";let D=`<span style="display: flex; align-items: center; justify-content: center;min-height:40px"><b>${g.chartData.series[u].name} — </b> ${h.y} Images</span>`;return D+=`<div>${C}</div>`,D}}}),_=()=>{a.value.chart.stacked=!a.value.chart.stacked,o.value=!o.value,t.value+=1},f=()=>{let n;a.value.chart.type==="area"?n={chart:{...a.value.chart,type:"bar"}}:n={chart:{...a.value.chart,type:"area"}},a.value={...a.value,...n},t.value+=1},p=(n,u,v)=>{const h=g.chartData.series[u];let C=Math.max(...h.data.map(D=>D.y));if(document.querySelectorAll(".apexcharts-custom-image").forEach(D=>D.remove()),d[u]){d[u]=!1;return}h.data.forEach((D,q)=>{const M=Math.floor(D.y/C*17),S=D.images.slice(0,M),O=`circle[index="${u}"][j="${q}"]`,A=document.querySelector(O),Q=parseFloat(A.getAttribute("cx"));S.forEach((G,z)=>{const I=document.createElement("img");I.src=G,I.width=40,I.height=40,I.style.position="absolute";let R=Q+40/1.5,ae=65+z*40;I.style.left=`${R}px`,I.style.bottom=`${ae}px`,I.classList.add("apexcharts-custom-image"),I.addEventListener("mouseover",he=>r(R,ae,G)),I.addEventListener("mouseout",i),n.el.appendChild(I)})}),Object.keys(d).forEach(D=>d[D]=!1),d[u]=!0};function r(n,u,v){const k=document.getElementById("zoomed-image");k.style.left=`${n+120*1.5}px`,k.src=v,k.style.bottom=`${u}px`,k.style.display="block"}function i(){const n=document.getElementById("zoomed-image");n.style.display="none"}return console.log("test"),(n,u)=>{const v=Pe("apexchart");return s(),l(E,null,[e("div",In,[e("button",{class:"mt-2",onClick:f},$(a.value.chart.type==="area"?n.$t("main.graph-view.histo"):n.$t("main.graph-view.curve")),1),g.chartData.series.length>1?(s(),l("button",{key:0,class:"mt-2",style:{"margin-left":"1em"},onClick:_},$(o.value?n.$t("main.graph-view.over"):n.$t("main.graph-view.stack")),1)):w("",!0)]),(s(),x(v,{style:{position:"relative"},key:t.value,height:g.height,type:a.value.chart.type,options:a.value,series:g.chartData.series,onLegendClick:p},null,8,["height","type","options","series"])),e("i",Vn,$(n.$t("main.graph-view.info")),1),Fn],64)}}},Tn={key:1},En=P({__name:"GraphView",props:{collection:{},height:{}},emits:[],setup(c,{emit:g}){const t=K(),o=c,d=T(""),a=T(f());function _(){const p=new Set;let r=o.collection.groupManager.getGroupIterator();for(;r;){const i=r.group;if(i.id===0||i.meta.propertyValues&&i.meta.propertyValues[0].value==null){r=r.nextGroup();continue}for(let n of i.children)p.add(n.meta.propertyValues[0].value);i.children.forEach(()=>r=r.nextGroup()),r=r.nextGroup()}return p}function f(){const p={};let r,i=o.collection.groupManager.state.groupBy;if(i.length===0){d.value="Choose at least one date or numeric value to group the images by";return}const n=t.properties[i[0]],u=n.type;if(i.length>2){d.value="Only max two levels of grouping are supported";return}else if(i.length===1)p[n.name]={name:n.name,data:[]};else if(r=Array.from(_()),r.length>20){d.value="Too many curves to draw, select a subgrouping with less than 20 possible values";return}if(u!==U.number&&u!==U.date){d.value="First level of grouping needs to be a date or a numeric property";return}let v=o.collection.groupManager.getGroupIterator();const k=[];for(;v;){const h=v.group;if(h.id===0||h.meta.propertyValues&&h.meta.propertyValues[0].value==null){v=v.nextGroup();continue}let C=h.meta.propertyValues[0];const D=u===U.date?new Date(C.value).getTime():C.value;if(k.push(D),n.name in p)p[n.name].data.push({x:D,y:h.images.length,images:h.images.slice(0,20).map(q=>q.urlSmall)});else{const q=h.children.map(M=>M.meta.propertyValues[0].value),J=r.filter(M=>!q.includes(M));for(let M of h.children){const S=M.meta.propertyValues[0].value;if(p[S]===void 0){let O=S;S in t.tags&&(O=t.tags[S].value),p[S]={data:[],name:O}}p[M.meta.propertyValues[0].value].data.push({x:D,y:M.images.length,images:M.images.slice(0,20).map(O=>O.urlSmall)})}for(let M of J){if(p[M]===void 0){let S=M;M in t.tags&&(S=t.tags[M].value),p[M]={data:[],name:S}}p[M].data.push({x:D,y:0,images:[]})}h.children.forEach(()=>v=v.nextGroup())}v=v.nextGroup()}return d.value="",{series:Object.values(p),xValues:k,dataType:u}}return o.collection.groupManager.onChange.addListener(()=>a.value=f()),(p,r)=>(s(),l("div",{class:"",style:W({height:o.height+"px"})},[d.value===""?(s(),x(zn,{key:0,chartData:a.value,height:o.height-50+"px"},null,8,["chartData","height"])):(s(),l("span",Tn,$(d.value),1))],4))}}),On={key:0,class:"m-0 p-0"},Pn={key:0,style:{"margin-left":"10px"}},Dn=P({__name:"MainView",props:{tabId:Number,height:Number},setup(c){const g=le(),t=g.getTabManager(),o=c,d=T({}),a=T(!0),_=T(null),f=T(null),p=T(null),r=T(0),i=T(0),n=ce({groups:!1}),u=V(()=>t.getVisibleProperties());function v(){_.value&&f.value?r.value=o.height-_.value.clientHeight-f.value.clientHeight-5:_.value?r.value=o.height-_.value.clientHeight-5:r.value=0}t.collection.groupManager.onChange.addListener(()=>{p.value&&t.state.display=="tree"&&p.value.computeLines()});function k(C){d.value=t.collection.groupManager.result.index[C],ee(()=>v())}function h(){d.value={},ee(()=>v())}return ue(()=>{i.value=_.value.clientWidth,window.addEventListener("resize",()=>{ee(()=>{var C;i.value=((C=_.value)==null?void 0:C.clientWidth)??i.value})})}),B(()=>t.state.imageSize,()=>ee(v)),B(()=>o.height,async()=>{await ee(v)}),B(t.state,C=>{g.updateTabs()},{deep:!0}),B(()=>o.tabId,async()=>{a.value=!1,await ee(),a.value=!0}),(C,D)=>(s(),l(E,null,[e("div",{id:"main-content",ref_key:"filterElem",ref:_},[b(an,{tab:m(t),"compute-status":n},null,8,["tab","compute-status"])],512),e("div",{ref_key:"boxElem",ref:f,class:"m-0 p-0"},[d.value.id?(s(),l("div",On,[b(Mn,{group:d.value,"image-size":m(t).state.imageSize,width:i.value,height:50,onClose:h,onScroll:p.value.scrollTo,onUpdate:D[0]||(D[0]=q=>ee(()=>v()))},null,8,["group","image-size","width","onScroll"])])):w("",!0)],512),i.value>0&&r.value>0&&a.value?(s(),l("div",Pn,[m(t).state.display=="tree"?(s(),x(ut,{key:0,"group-manager":m(t).collection.groupManager,"image-size":m(t).state.imageSize,height:r.value-0,properties:u.value,"hide-if-modal":!0,"selected-images":m(t).collection.groupManager.selectedImages,ref_key:"imageList",ref:p,width:i.value-25,onRecommend:k},null,8,["group-manager","image-size","height","properties","selected-images","width"])):w("",!0),m(t).state.display=="grid"?(s(),l("div",{key:1,style:W({width:i.value-12+"px"}),class:"p-0 m-0 grid-container"},[b(pt,{manager:m(t).collection.groupManager,height:r.value-15,width:i.value-40,"selected-properties":u.value,class:"p-0 m-0","show-images":!0,"selected-images":m(t).collection.groupManager.selectedImages,ref_key:"imageList",ref:p,"hide-if-modal":!0},null,8,["manager","height","width","selected-properties","selected-images"])],4)):w("",!0),m(t).state.display=="graph"?(s(),x(En,{key:2,collection:m(t).collection,height:r.value-15},null,8,["collection","height"])):w("",!0)])):w("",!0)],64))}});const Ln=j(Dn,[["__scopeId","data-v-5b167e52"]]),Gn={class:"d-flex d-row",style:{cursor:"pointer"}},Rn=["onMouseenter","onMouseleave"],jn=["onClick"],An=["onClick"],Un=["onClick"],Hn=["onSubmit"],Nn=["onKeydown","onUpdate:modelValue"],Bn=e("span",{class:"bi bi-plus"},null,-1),qn=[Bn],Kn={class:"lang"},Qn=e("i",{class:"bi bi-translate",style:{"margin-right":"0.5rem"}},null,-1),Wn=["value"],Yn=P({__name:"TabNav",props:{reRender:Function},setup(c){const g=le(),t=T(-1),o=T(""),d=T(null),a=c;function _(v){g.data.selectedTabId==v||p(),g.selectTab(v)}function f(v){t.value=v,o.value=g.data.tabs[v].name,ee(()=>d.value[0].focus())}function p(){t.value=-1,o.value=""}function r(v){g.addTab("New Tab")}async function i(v){confirm("Are you sure to delete Tab: "+v.name)&&await g.removeTab(v.id)}const n=ce({});T(-1);const u=["fr","en"];return(v,k)=>(s(),l("nav",null,[e("div",Gn,[(s(!0),l(E,null,N(m(g).data.tabs,h=>(s(),l("div",{class:"d-flex d-row me-2",onMouseenter:C=>n[h.id]=!0,onMouseleave:C=>n[h.id]=!1},[t.value!=h.id?(s(),l(E,{key:0},[b(F,{message:"main.menu.rename_tab_tooltip"},{default:y(()=>[e("i",{onClick:C=>f(h.id),class:H(["bi bi-pencil me-1 tab-icon hover-light",n[h.id]&&m(g).data.selectedTabId==h.id?"":"hidden"]),style:{"font-size":"10px"}},null,10,jn)]),_:2},1024),e("div",{class:H(["tab-button",h.id==m(g).data.selectedTabId?" active":""]),onClick:C=>_(h.id)},[e("span",null,$(h.name),1)],10,An),b(F,{message:"main.menu.delete_tab_tooltip"},{default:y(()=>[e("i",{onClick:C=>i(h),class:H(["btn-icon bi bi-x tab-icon hover-light",n[h.id]?"":"hidden"]),style:{"font-size":"15px"}},null,10,Un)]),_:2},1024)],64)):(s(),l("div",{key:1,class:H(["tab-button",h.id==m(g).data.selectedTabId?" active":""])},[e("form",{onSubmit:Oe(p,["stop","prevent"])},[pe(e("input",{onFocusout:p,onKeydown:mt(p,["escape"]),type:"text",class:"text-input","onUpdate:modelValue":C=>h.name=C,ref_for:!0,ref_key:"inputElem",ref:d},null,40,Nn),[[fe,h.name]])],40,Hn)],2))],40,Rn))),256)),b(F,{message:"main.menu.add_tab_tooltip"},{default:y(()=>[e("button",{class:"tab-icon hover-light ps-1 pe-1",onClick:r,id:"add-tab-button"},qn)]),_:1}),e("div",Kn,[Qn,pe(e("select",{"onUpdate:modelValue":k[0]||(k[0]=h=>v.$i18n.locale=h),onChange:k[1]||(k[1]=h=>a.reRender())},[(s(),l(E,null,N(u,(h,C)=>e("option",{key:`Lang${C}`,value:h},$(h.toUpperCase()),9,Wn)),64))],544),[[_t,v.$i18n.locale]])])])]))}});const Ae=c=>(Y("data-v-c4d939dc"),c=c(),X(),c),Xn={class:"d-flex flex-row m-0 p-0 overflow-hidden"},Zn={class:"w-100"},Jn={key:0,class:"custom-hr"},el={key:1,class:"loading"},tl={class:"text-center"},sl={key:2,class:"loading"},ol=Ae(()=>e("i",{class:"spinner-border",role:"status"},null,-1)),al=Ae(()=>e("span",{class:"ms-1"},"Loading...",-1)),nl=[ol,al],ll=P({__name:"PanopticView",setup(c){const g=le(),t=K(),o=ge(),d=T(null),a=T(null),_=T(window.innerHeight),f=T(!1),p=V(()=>{var h;return _.value-(((h=a.value)==null?void 0:h.clientHeight)??0)}),r=V(()=>{var h;return(h=d.value)==null?void 0:h.filteredImages.map(C=>C.id)});let i=navigator.userAgent.indexOf("Mac OS X")!==-1;ue(async()=>{o.isProjectLoaded||ze.push("/"),ee(()=>{window.addEventListener("resize",n),n()}),window.addEventListener("keydown",h=>{h.key=="Control"&&(L.ctrl=!0),h.key=="Alt"&&(i&&(L.ctrl=!0),L.alt=!0),h.key=="Shift"&&(L.shift=!0),h.key=="ArrowLeft"&&(L.left=!0),h.key=="ArrowRight"&&(L.right=!0,console.log("keeeyy")),h.key=="Z"&&L.ctrl&&t.redo(),h.key=="z"&&L.ctrl&&t.undo()}),window.addEventListener("keyup",h=>{h.key=="Control"&&(L.ctrl=!1),h.key=="Alt"&&(i&&(L.ctrl=!1),L.alt=!1),h.key=="Shift"&&(L.shift=!1),h.key=="ArrowLeft"&&(L.left=!1),h.key=="ArrowRight"&&(L.right=!1)}),window.addEventListener("mousemove",h=>{L.ctrl=h.ctrlKey,L.alt=h.altKey,L.shift=h.shiftKey,i&&(L.ctrl=L.ctrl||L.alt)})}),ht(()=>{window.removeEventListener("resize",n)});function n(){_.value=window.innerHeight,f.value=!0}function u(){o.showModal(ne.EXPORT,r)}function v(){g.rerender()}function k(){ze.push("/")}return(h,C)=>(s(),l(E,null,[b(vt,{tutorial:"project"}),(s(),l("div",{id:"panoptic",key:m(g).status.renderNb},[e("div",Xn,[m(g).status.loaded?(s(),l(E,{key:0},[e("div",null,[b(Ls,{onExport:C[0]||(C[0]=D=>u())})]),e("div",Zn,[e("div",{class:"ms-3",ref_key:"navElem",ref:a},[b(Yn,{"re-render":v})],512),f.value?(s(),l("div",Jn)):w("",!0),b(Ln,{"tab-id":m(g).data.selectedTabId,height:p.value,ref_key:"mainViewRef",ref:d},null,8,["tab-id","height"])])],64)):m(o).isProjectLoaded?(s(),l("div",sl,nl)):(s(),l("div",el,[e("div",tl,[e("div",null,$(h.$t("main.status.no_project")),1),e("div",{class:"bi bi-house p-3",onClick:k,style:{"font-size":"50px",cursor:"pointer"}})])]))])]))],64))}});const dl=j(ll,[["__scopeId","data-v-c4d939dc"]]);export{dl as default};
